(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function jm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qr={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function $y(){if(vp)return $l;vp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var h in u)h!=="key"&&(d[h]=u[h])}else d=u;return u=d.ref,{$$typeof:i,type:s,key:m,ref:u!==void 0?u:null,props:d}}return $l.Fragment=n,$l.jsx=o,$l.jsxs=o,$l}var Tp;function Wy(){return Tp||(Tp=1,Qr.exports=$y()),Qr.exports}var _=Wy(),Kr={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function jy(){if(Sp)return ae;Sp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function z(M,V,X){this.props=M,this.context=V,this.refs=Y,this.updater=X||L}z.prototype.isReactComponent={},z.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=z.prototype;function O(M,V,X){this.props=M,this.context=V,this.refs=Y,this.updater=X||L}var P=O.prototype=new B;P.constructor=O,H(P,z.prototype),P.isPureReactComponent=!0;var F=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function te(M,V,X){var W=X.ref;return{$$typeof:i,type:M,key:V,ref:W!==void 0?W:null,props:X}}function de(M,V){return te(M.type,V,M.props)}function Se(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ce(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(X){return V[X]})}var ke=/\/+/g;function ot(M,V){return typeof M=="object"&&M!==null&&M.key!=null?ce(""+M.key):V.toString(36)}function Ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Q,Q):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function U(M,V,X,W,se){var fe=typeof M;(fe==="undefined"||fe==="boolean")&&(M=null);var Ee=!1;if(M===null)Ee=!0;else switch(fe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(M.$$typeof){case i:case n:Ee=!0;break;case v:return Ee=M._init,U(Ee(M._payload),V,X,W,se)}}if(Ee)return se=se(M),Ee=W===""?"."+ot(M,0):W,F(se)?(X="",Ee!=null&&(X=Ee.replace(ke,"$&/")+"/"),U(se,V,X,"",function(ie){return ie})):se!=null&&(Se(se)&&(se=de(se,X+(se.key==null||M&&M.key===se.key?"":(""+se.key).replace(ke,"$&/")+"/")+Ee)),V.push(se)),1;Ee=0;var je=W===""?".":W+":";if(F(M))for(var j=0;j<M.length;j++)W=M[j],fe=je+ot(W,j),Ee+=U(W,V,X,fe,se);else if(j=x(M),typeof j=="function")for(M=j.call(M),j=0;!(W=M.next()).done;)W=W.value,fe=je+ot(W,j++),Ee+=U(W,V,X,fe,se);else if(fe==="object"){if(typeof M.then=="function")return U(Ye(M),V,X,W,se);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function J(M,V,X){if(M==null)return M;var W=[],se=0;return U(M,W,"","",function(fe){return V.call(X,fe,se++)}),W}function oe(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(X){(M._status===0||M._status===-1)&&(M._status=1,M._result=X)},function(X){(M._status===0||M._status===-1)&&(M._status=2,M._result=X)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var xe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Me={map:J,forEach:function(M,V,X){J(M,function(){V.apply(this,arguments)},X)},count:function(M){var V=0;return J(M,function(){V++}),V},toArray:function(M){return J(M,function(V){return V})||[]},only:function(M){if(!Se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ae.Activity=S,ae.Children=Me,ae.Component=z,ae.Fragment=o,ae.Profiler=u,ae.PureComponent=O,ae.StrictMode=s,ae.Suspense=y,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return K.H.useMemoCache(M)}},ae.cache=function(M){return function(){return M.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(M,V,X){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var W=H({},M.props),se=M.key;if(V!=null)for(fe in V.key!==void 0&&(se=""+V.key),V)!pe.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(W[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)W.children=X;else if(1<fe){for(var Ee=Array(fe),je=0;je<fe;je++)Ee[je]=arguments[je+2];W.children=Ee}return te(M.type,se,W)},ae.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},ae.createElement=function(M,V,X){var W,se={},fe=null;if(V!=null)for(W in V.key!==void 0&&(fe=""+V.key),V)pe.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(se[W]=V[W]);var Ee=arguments.length-2;if(Ee===1)se.children=X;else if(1<Ee){for(var je=Array(Ee),j=0;j<Ee;j++)je[j]=arguments[j+2];se.children=je}if(M&&M.defaultProps)for(W in Ee=M.defaultProps,Ee)se[W]===void 0&&(se[W]=Ee[W]);return te(M,fe,se)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(M){return{$$typeof:h,render:M}},ae.isValidElement=Se,ae.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:oe}},ae.memo=function(M,V){return{$$typeof:g,type:M,compare:V===void 0?null:V}},ae.startTransition=function(M){var V=K.T,X={};K.T=X;try{var W=M(),se=K.S;se!==null&&se(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Q,xe)}catch(fe){xe(fe)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},ae.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ae.use=function(M){return K.H.use(M)},ae.useActionState=function(M,V,X){return K.H.useActionState(M,V,X)},ae.useCallback=function(M,V){return K.H.useCallback(M,V)},ae.useContext=function(M){return K.H.useContext(M)},ae.useDebugValue=function(){},ae.useDeferredValue=function(M,V){return K.H.useDeferredValue(M,V)},ae.useEffect=function(M,V){return K.H.useEffect(M,V)},ae.useEffectEvent=function(M){return K.H.useEffectEvent(M)},ae.useId=function(){return K.H.useId()},ae.useImperativeHandle=function(M,V,X){return K.H.useImperativeHandle(M,V,X)},ae.useInsertionEffect=function(M,V){return K.H.useInsertionEffect(M,V)},ae.useLayoutEffect=function(M,V){return K.H.useLayoutEffect(M,V)},ae.useMemo=function(M,V){return K.H.useMemo(M,V)},ae.useOptimistic=function(M,V){return K.H.useOptimistic(M,V)},ae.useReducer=function(M,V,X){return K.H.useReducer(M,V,X)},ae.useRef=function(M){return K.H.useRef(M)},ae.useState=function(M){return K.H.useState(M)},ae.useSyncExternalStore=function(M,V,X){return K.H.useSyncExternalStore(M,V,X)},ae.useTransition=function(){return K.H.useTransition()},ae.version="19.2.0",ae}var Ep;function uu(){return Ep||(Ep=1,Kr.exports=jy()),Kr.exports}var Te=uu();const Kt=jm(Te);var Xr={exports:{}},Wl={},Zr={exports:{}},$r={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function e0(){return _p||(_p=1,(function(i){function n(U,J){var oe=U.length;U.push(J);e:for(;0<oe;){var xe=oe-1>>>1,Me=U[xe];if(0<u(Me,J))U[xe]=J,U[oe]=Me,oe=xe;else break e}}function o(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var J=U[0],oe=U.pop();if(oe!==J){U[0]=oe;e:for(var xe=0,Me=U.length,M=Me>>>1;xe<M;){var V=2*(xe+1)-1,X=U[V],W=V+1,se=U[W];if(0>u(X,oe))W<Me&&0>u(se,X)?(U[xe]=se,U[W]=oe,xe=W):(U[xe]=X,U[V]=oe,xe=V);else if(W<Me&&0>u(se,oe))U[xe]=se,U[W]=oe,xe=W;else break e}}return J}function u(U,J){var oe=U.sortIndex-J.sortIndex;return oe!==0?oe:U.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();i.unstable_now=function(){return m.now()-h}}var y=[],g=[],v=1,S=null,E=3,x=!1,L=!1,H=!1,Y=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var J=o(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=U)s(g),J.sortIndex=J.expirationTime,n(y,J);else break;J=o(g)}}function F(U){if(H=!1,P(U),!L)if(o(y)!==null)L=!0,Q||(Q=!0,ce());else{var J=o(g);J!==null&&Ye(F,J.startTime-U)}}var Q=!1,K=-1,pe=5,te=-1;function de(){return Y?!0:!(i.unstable_now()-te<pe)}function Se(){if(Y=!1,Q){var U=i.unstable_now();te=U;var J=!0;try{e:{L=!1,H&&(H=!1,B(K),K=-1),x=!0;var oe=E;try{t:{for(P(U),S=o(y);S!==null&&!(S.expirationTime>U&&de());){var xe=S.callback;if(typeof xe=="function"){S.callback=null,E=S.priorityLevel;var Me=xe(S.expirationTime<=U);if(U=i.unstable_now(),typeof Me=="function"){S.callback=Me,P(U),J=!0;break t}S===o(y)&&s(y),P(U)}else s(y);S=o(y)}if(S!==null)J=!0;else{var M=o(g);M!==null&&Ye(F,M.startTime-U),J=!1}}break e}finally{S=null,E=oe,x=!1}J=void 0}}finally{J?ce():Q=!1}}}var ce;if(typeof O=="function")ce=function(){O(Se)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ot=ke.port2;ke.port1.onmessage=Se,ce=function(){ot.postMessage(null)}}else ce=function(){z(Se,0)};function Ye(U,J){K=z(function(){U(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(U){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var oe=E;E=J;try{return U()}finally{E=oe}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=E;E=U;try{return J()}finally{E=oe}},i.unstable_scheduleCallback=function(U,J,oe){var xe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,U){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=oe+Me,U={id:v++,callback:J,priorityLevel:U,startTime:oe,expirationTime:Me,sortIndex:-1},oe>xe?(U.sortIndex=oe,n(g,U),o(y)===null&&U===o(g)&&(H?(B(K),K=-1):H=!0,Ye(F,oe-xe))):(U.sortIndex=Me,n(y,U),L||x||(L=!0,Q||(Q=!0,ce()))),U},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(U){var J=E;return function(){var oe=E;E=J;try{return U.apply(this,arguments)}finally{E=oe}}}})($r)),$r}var Cp;function t0(){return Cp||(Cp=1,Zr.exports=e0()),Zr.exports}var Wr={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function n0(){if(Ap)return at;Ap=1;var i=uu();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,at.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return d(y,g,null,v)},at.flushSync=function(y){var g=m.T,v=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=g,s.p=v,s.d.f()}},at.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},at.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},at.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},at.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},at.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},at.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},at.requestFormReset=function(y){s.d.r(y)},at.unstable_batchedUpdates=function(y,g){return y(g)},at.useFormState=function(y,g,v){return m.H.useFormState(y,g,v)},at.useFormStatus=function(){return m.H.useHostTransitionStatus()},at.version="19.2.0",at}var xp;function i0(){if(xp)return Wr.exports;xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Wr.exports=n0(),Wr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function l0(){if(Np)return Wl;Np=1;var i=t0(),n=uu(),o=i0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(a=f.return,a!==null){l=a;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return y(f),e;if(p===a)return y(f),t;p=p.sibling}throw Error(s(188))}if(l.return!==a.return)l=f,a=p;else{for(var T=!1,C=f.child;C;){if(C===l){T=!0,l=f,a=p;break}if(C===a){T=!0,a=f,l=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===l){T=!0,l=p,a=f;break}if(C===a){T=!0,a=p,l=f;break}C=C.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case z:return"Profiler";case Y:return"StrictMode";case F:return"Suspense";case Q:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case O:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:ot(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return ot(e(t))}catch{}}return null}var Ye=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function M(e){return{current:e}}function V(e){0>Me||(e.current=xe[Me],xe[Me]=null,Me--)}function X(e,t){Me++,xe[Me]=e.current,e.current=t}var W=M(null),se=M(null),fe=M(null),Ee=M(null);function je(e,t){switch(X(fe,t),X(se,e),X(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zd(t),e=Bd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(W),X(W,e)}function j(){V(W),V(se),V(fe)}function ie(e){e.memoizedState!==null&&X(Ee,e);var t=W.current,l=Bd(t,e.type);t!==l&&(X(se,e),X(W,l))}function st(e){se.current===e&&(V(W),V(se)),Ee.current===e&&(V(Ee),Ql._currentValue=oe)}var Xt,ci;function Ze(e){if(Xt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Xt=t&&t[1]||"",ci=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+e+ci}var Ot=!1;function Pt(e,t){if(!e||Ot)return"";Ot=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(w){var b=w}Reflect.construct(e,[],k)}else{try{k.call()}catch(w){b=w}e.call(k.prototype)}}else{try{throw Error()}catch(w){b=w}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(w){if(w&&b&&typeof w.stack=="string")return[w.stack,b.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var A=T.split(`
`),D=C.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===D.length)for(a=A.length-1,f=D.length-1;1<=a&&0<=f&&A[a]!==D[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==D[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==D[f]){var q=`
`+A[a].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=a&&0<=f);break}}}finally{Ot=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ze(l):""}function il(e,t){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==t&&t!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Pt(e.type,!1);case 11:return Pt(e.type.render,!1);case 1:return Pt(e.type,!0);case 31:return Ze("Activity");default:return""}}function ll(e){try{var t="",l=null;do t+=il(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Yn=Object.prototype.hasOwnProperty,Us=i.unstable_scheduleCallback,Ls=i.unstable_cancelCallback,Ih=i.unstable_shouldYield,Dh=i.unstable_requestPaint,yt=i.unstable_now,bh=i.unstable_getCurrentPriorityLevel,vu=i.unstable_ImmediatePriority,Tu=i.unstable_UserBlockingPriority,io=i.unstable_NormalPriority,wh=i.unstable_LowPriority,Su=i.unstable_IdlePriority,Uh=i.log,Lh=i.unstable_setDisableYieldValue,ol=null,vt=null;function vn(e){if(typeof Uh=="function"&&Lh(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ol,e)}catch{}}var Tt=Math.clz32?Math.clz32:Hh,qh=Math.log,Gh=Math.LN2;function Hh(e){return e>>>=0,e===0?32:31-(qh(e)/Gh|0)|0}var lo=256,oo=262144,so=4194304;function Fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ao(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var f=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var C=a&134217727;return C!==0?(a=C&~p,a!==0?f=Fn(a):(T&=C,T!==0?f=Fn(T):l||(l=C&~e,l!==0&&(f=Fn(l))))):(C=a&~p,C!==0?f=Fn(C):T!==0?f=Fn(T):l||(l=a&~e,l!==0&&(f=Fn(l)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,l=t&-t,p>=l||p===32&&(l&4194048)!==0)?t:f}function sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ph(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var e=so;return so<<=1,(so&62914560)===0&&(so=4194304),e}function qs(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,t,l,a,f,p){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var q=31-Tt(l),k=1<<q;C[q]=0,A[q]=-1;var b=D[q];if(b!==null)for(D[q]=null,q=0;q<b.length;q++){var w=b[q];w!==null&&(w.lane&=-536870913)}l&=~k}a!==0&&_u(e,a,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~t))}function _u(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Cu(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Tt(l),f=1<<a;f&t|e[a]&t&&(e[a]|=t),l&=~f}}function Au(e,t){var l=t&-t;return l=(l&42)!==0?1:Gs(l),(l&(e.suspendedLanes|t))!==0?0:l}function Gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:fp(e.type))}function Nu(e,t){var l=J.p;try{return J.p=e,t()}finally{J.p=l}}var Tn=Math.random().toString(36).slice(2),et="__reactFiber$"+Tn,ct="__reactProps$"+Tn,fi="__reactContainer$"+Tn,Ps="__reactEvents$"+Tn,Vh="__reactListeners$"+Tn,zh="__reactHandles$"+Tn,Mu="__reactResources$"+Tn,rl="__reactMarker$"+Tn;function ks(e){delete e[et],delete e[ct],delete e[Ps],delete e[Vh],delete e[zh]}function di(e){var t=e[et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[fi]||l[et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Xd(e);e!==null;){if(l=e[et])return l;e=Xd(e)}return t}e=l,l=e.parentNode}return null}function pi(e){if(e=e[et]||e[fi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ul(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function mi(e){var t=e[Mu];return t||(t=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[rl]=!0}var Ru=new Set,Iu={};function Jn(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(Iu[e]=t,e=0;e<t.length;e++)Ru.add(t[e])}var Bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},bu={};function Oh(e){return Yn.call(bu,e)?!0:Yn.call(Du,e)?!1:Bh.test(e)?bu[e]=!0:(Du[e]=!0,!1)}function ro(e,t,l){if(Oh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function uo(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Zt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vs(e){if(!e._valueTracker){var t=wu(e)?"checked":"value";e._valueTracker=Yh(e,t,""+e[t])}}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=wu(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fh=/[\n"\\]/g;function Rt(e){return e.replace(Fh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zs(e,t,l,a,f,p,T,C){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),t!=null?T==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),t!=null?Bs(e,T,Mt(t)):l!=null?Bs(e,T,Mt(l)):a!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Mt(C):e.removeAttribute("name")}function Lu(e,t,l,a,f,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Vs(e);return}l=l!=null?""+Mt(l):"",t=t!=null?""+Mt(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=C?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Vs(e)}function Bs(e,t,l){t==="number"&&co(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function gi(e,t,l,a){if(e=e.options,t){t={};for(var f=0;f<l.length;f++)t["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=t.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),t=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function qu(e,t,l){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Mt(l):""}function Gu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(Ye(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Mt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Vs(e)}function yi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Jh.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Pu(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in t)a=t[f],t.hasOwnProperty(f)&&l[f]!==a&&Hu(e,f,a)}else for(var p in t)t.hasOwnProperty(p)&&Hu(e,p,t[p])}function Os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(e){return Kh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var Ys=null;function Fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ti=null;function ku(e){var t=pi(e);if(t&&(e=t.stateNode)){var l=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(zs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var f=a[ct]||null;if(!f)throw Error(s(90));zs(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Uu(a)}break e;case"textarea":qu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&gi(e,!!l.multiple,t,!1)}}}var Js=!1;function Vu(e,t,l){if(Js)return e(t,l);Js=!0;try{var a=e(t);return a}finally{if(Js=!1,(vi!==null||Ti!==null)&&(jo(),vi&&(t=vi,e=Ti,Ti=vi=null,ku(t),e)))for(t=0;t<e.length;t++)ku(e[t])}}function cl(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ct]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(Wt)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Qs=!1}var Sn=null,Ks=null,po=null;function zu(){if(po)return po;var e,t=Ks,l=t.length,a,f="value"in Sn?Sn.value:Sn.textContent,p=f.length;for(e=0;e<l&&t[e]===f[e];e++);var T=l-e;for(a=1;a<=T&&t[l-a]===f[p-a];a++);return po=f.slice(e,1<a?1-a:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function Bu(){return!1}function ft(e){function t(l,a,f,p,T){this._reactName=l,this._targetInst=f,this.type=a,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ho:Bu,this.isPropagationStopped=Bu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=ft(Qn),dl=S({},Qn,{view:0,detail:0}),Xh=ft(dl),Xs,Zs,pl,yo=S({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(Xs=e.screenX-pl.screenX,Zs=e.screenY-pl.screenY):Zs=Xs=0,pl=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),Ou=ft(yo),Zh=S({},yo,{dataTransfer:0}),$h=ft(Zh),Wh=S({},dl,{relatedTarget:0}),$s=ft(Wh),jh=S({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=ft(jh),tg=S({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=ft(tg),ig=S({},Qn,{data:0}),Yu=ft(ig),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sg[e])?!!t[e]:!1}function Ws(){return ag}var rg=S({},dl,{key:function(e){if(e.key){var t=lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ug=ft(rg),cg=S({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=ft(cg),fg=S({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),dg=ft(fg),pg=S({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=ft(pg),hg=S({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gg=ft(hg),yg=S({},Qn,{newState:0,oldState:0}),vg=ft(yg),Tg=[9,13,27,32],js=Wt&&"CompositionEvent"in window,ml=null;Wt&&"documentMode"in document&&(ml=document.documentMode);var Sg=Wt&&"TextEvent"in window&&!ml,Ju=Wt&&(!js||ml&&8<ml&&11>=ml),Qu=" ",Ku=!1;function Xu(e,t){switch(e){case"keyup":return Tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function Eg(e,t){switch(e){case"compositionend":return Zu(t);case"keypress":return t.which!==32?null:(Ku=!0,Qu);case"textInput":return e=t.data,e===Qu&&Ku?null:e;default:return null}}function _g(e,t){if(Si)return e==="compositionend"||!js&&Xu(e,t)?(e=zu(),po=Ks=Sn=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ju&&t.locale!=="ko"?null:t.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cg[e.type]:t==="textarea"}function Wu(e,t,l,a){vi?Ti?Ti.push(a):Ti=[a]:vi=a,t=ss(t,"onChange"),0<t.length&&(l=new go("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var hl=null,gl=null;function Ag(e){qd(e,0)}function vo(e){var t=ul(e);if(Uu(t))return e}function ju(e,t){if(e==="change")return t}var ec=!1;if(Wt){var ea;if(Wt){var ta="oninput"in document;if(!ta){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),ta=typeof tc.oninput=="function"}ea=ta}else ea=!1;ec=ea&&(!document.documentMode||9<document.documentMode)}function nc(){hl&&(hl.detachEvent("onpropertychange",ic),gl=hl=null)}function ic(e){if(e.propertyName==="value"&&vo(gl)){var t=[];Wu(t,gl,e,Fs(e)),Vu(Ag,t)}}function xg(e,t,l){e==="focusin"?(nc(),hl=t,gl=l,hl.attachEvent("onpropertychange",ic)):e==="focusout"&&nc()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(gl)}function Mg(e,t){if(e==="click")return vo(t)}function Rg(e,t){if(e==="input"||e==="change")return vo(t)}function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Ig;function yl(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var f=l[a];if(!Yn.call(t,f)||!St(e[f],t[f]))return!1}return!0}function lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oc(e,t){var l=lc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lc(l)}}function sc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ac(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=co(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=co(e.document)}return t}function na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dg=Wt&&"documentMode"in document&&11>=document.documentMode,Ei=null,ia=null,vl=null,la=!1;function rc(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;la||Ei==null||Ei!==co(a)||(a=Ei,"selectionStart"in a&&na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vl&&yl(vl,a)||(vl=a,a=ss(ia,"onSelect"),0<a.length&&(t=new go("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Ei)))}function Kn(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var _i={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},oa={},uc={};Wt&&(uc=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Xn(e){if(oa[e])return oa[e];if(!_i[e])return e;var t=_i[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in uc)return oa[e]=t[l];return e}var cc=Xn("animationend"),fc=Xn("animationiteration"),dc=Xn("animationstart"),bg=Xn("transitionrun"),wg=Xn("transitionstart"),Ug=Xn("transitioncancel"),pc=Xn("transitionend"),mc=new Map,sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sa.push("scrollEnd");function kt(e,t){mc.set(e,t),Jn(t,[e])}var To=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ci=0,aa=0;function So(){for(var e=Ci,t=aa=Ci=0;t<e;){var l=It[t];It[t++]=null;var a=It[t];It[t++]=null;var f=It[t];It[t++]=null;var p=It[t];if(It[t++]=null,a!==null&&f!==null){var T=a.pending;T===null?f.next=f:(f.next=T.next,T.next=f),a.pending=f}p!==0&&hc(l,f,p)}}function Eo(e,t,l,a){It[Ci++]=e,It[Ci++]=t,It[Ci++]=l,It[Ci++]=a,aa|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ra(e,t,l,a){return Eo(e,t,l,a),_o(e)}function Zn(e,t){return Eo(e,null,null,t),_o(e)}function hc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var f=!1,p=e.return;p!==null;)p.childLanes|=l,a=p.alternate,a!==null&&(a.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-Tt(l),e=p.hiddenUpdates,a=e[f],a===null?e[f]=[t]:a.push(t),t.lane=l|536870912),p):null}function _o(e){if(50<Vl)throw Vl=0,yr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ai={};function Lg(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,l,a){return new Lg(e,t,l,a)}function ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,t){var l=e.alternate;return l===null?(l=Et(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function gc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Co(e,t,l,a,f,p){var T=0;if(a=e,typeof e=="function")ua(e)&&(T=1);else if(typeof e=="string")T=ky(e,l,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Et(31,l,t,f),e.elementType=te,e.lanes=p,e;case H:return $n(l.children,f,p,t);case Y:T=8,f|=24;break;case z:return e=Et(12,l,t,f|2),e.elementType=z,e.lanes=p,e;case F:return e=Et(13,l,t,f),e.elementType=F,e.lanes=p,e;case Q:return e=Et(19,l,t,f),e.elementType=Q,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:T=10;break e;case B:T=9;break e;case P:T=11;break e;case K:T=14;break e;case pe:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Et(T,l,t,f),t.elementType=e,t.type=a,t.lanes=p,t}function $n(e,t,l,a){return e=Et(7,e,a,t),e.lanes=l,e}function ca(e,t,l){return e=Et(6,e,null,t),e.lanes=l,e}function yc(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function fa(e,t,l){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vc=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var l=vc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:ll(t)},vc.set(e,t),t)}return{value:e,source:t,stack:ll(t)}}var xi=[],Ni=0,Ao=null,Tl=0,bt=[],wt=0,En=null,Yt=1,Ft="";function en(e,t){xi[Ni++]=Tl,xi[Ni++]=Ao,Ao=e,Tl=t}function Tc(e,t,l){bt[wt++]=Yt,bt[wt++]=Ft,bt[wt++]=En,En=e;var a=Yt;e=Ft;var f=32-Tt(a)-1;a&=~(1<<f),l+=1;var p=32-Tt(t)+f;if(30<p){var T=f-f%5;p=(a&(1<<T)-1).toString(32),a>>=T,f-=T,Yt=1<<32-Tt(t)+f|l<<f|a,Ft=p+e}else Yt=1<<p|l<<f|a,Ft=e}function da(e){e.return!==null&&(en(e,1),Tc(e,1,0))}function pa(e){for(;e===Ao;)Ao=xi[--Ni],xi[Ni]=null,Tl=xi[--Ni],xi[Ni]=null;for(;e===En;)En=bt[--wt],bt[wt]=null,Ft=bt[--wt],bt[wt]=null,Yt=bt[--wt],bt[wt]=null}function Sc(e,t){bt[wt++]=Yt,bt[wt++]=Ft,bt[wt++]=En,Yt=t.id,Ft=t.overflow,En=e}var tt=null,qe=null,ve=!1,_n=null,Ut=!1,ma=Error(s(519));function Cn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(Dt(t,e)),ma}function Ec(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[et]=e,t[ct]=a,l){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)he(Bl[l],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Lu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Gu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||kd(t.textContent,l)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=$t),t=!0):t=!1,t||Cn(e,!0)}function _c(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:tt=tt.return}}function Mi(e){if(e!==tt)return!1;if(!ve)return _c(e),ve=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||wr(e.type,e.memoizedProps)),l=!l),l&&qe&&Cn(e),_c(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Kd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));qe=Kd(e)}else t===27?(t=qe,Hn(e.type)?(e=Hr,Hr=null,qe=e):qe=t):qe=tt?qt(e.stateNode.nextSibling):null;return!0}function Wn(){qe=tt=null,ve=!1}function ha(){var e=_n;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),_n=null),e}function Sl(e){_n===null?_n=[e]:_n.push(e)}var ga=M(null),jn=null,tn=null;function An(e,t,l){X(ga,t._currentValue),t._currentValue=l}function nn(e){e._currentValue=ga.current,V(ga)}function ya(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function va(e,t,l,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=f;for(var A=0;A<t.length;A++)if(C.context===t[A]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),ya(p.return,l,e),a||(T=null);break e}p=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),ya(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ri(e,t,l,a){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=f.type;St(f.pendingProps.value,T.value)||(e!==null?e.push(C):e=[C])}}else if(f===Ee.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}f=f.return}e!==null&&va(t,e,l,a),t.flags|=262144}function xo(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){jn=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return Cc(jn,e)}function No(e,t){return jn===null&&ei(e),Cc(e,t)}function Cc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(s(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return l}var qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Gg=i.unstable_scheduleCallback,Hg=i.unstable_NormalPriority,Fe={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ta(){return{controller:new qg,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&Gg(Hg,function(){e.controller.abort()})}var _l=null,Sa=0,Ii=0,Di=null;function Pg(e,t){if(_l===null){var l=_l=[];Sa=0,Ii=Cr(),Di={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Sa++,t.then(Ac,Ac),t}function Ac(){if(--Sa===0&&_l!==null){Di!==null&&(Di.status="fulfilled");var e=_l;_l=null,Ii=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kg(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var f=0;f<l.length;f++)(0,l[f])(t)},function(f){for(a.status="rejected",a.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),a}var xc=U.S;U.S=function(e,t){ud=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Pg(e,t),xc!==null&&xc(e,t)};var ti=M(null);function Ea(){var e=ti.current;return e!==null?e:Le.pooledCache}function Mo(e,t){t===null?X(ti,ti.current):X(ti,t.pool)}function Nc(){var e=Ea();return e===null?null:{parent:Fe._currentValue,pool:e}}var bi=Error(s(460)),_a=Error(s(474)),Ro=Error(s(542)),Io={then:function(){}};function Mc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then($t,$t),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e;default:if(typeof t.status=="string")t.then($t,$t);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=a}},function(a){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e}throw ii=t,bi}}function ni(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ii=l,bi):l}}var ii=null;function Ic(){if(ii===null)throw Error(s(459));var e=ii;return ii=null,e}function Dc(e){if(e===bi||e===Ro)throw Error(s(483))}var wi=null,Cl=0;function Do(e){var t=Cl;return Cl+=1,wi===null&&(wi=[]),Rc(wi,e,t)}function Al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bo(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bc(e){function t(R,N){if(e){var I=R.deletions;I===null?(R.deletions=[N],R.flags|=16):I.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)t(R,N),N=N.sibling;return null}function a(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=jt(R,N),R.index=0,R.sibling=null,R}function p(R,N,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<N?(R.flags|=67108866,N):I):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function T(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function C(R,N,I,G){return N===null||N.tag!==6?(N=ca(I,R.mode,G),N.return=R,N):(N=f(N,I),N.return=R,N)}function A(R,N,I,G){var ne=I.type;return ne===H?q(R,N,I.props.children,G,I.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===pe&&ni(ne)===N.type)?(N=f(N,I.props),Al(N,I),N.return=R,N):(N=Co(I.type,I.key,I.props,null,R.mode,G),Al(N,I),N.return=R,N)}function D(R,N,I,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=fa(I,R.mode,G),N.return=R,N):(N=f(N,I.children||[]),N.return=R,N)}function q(R,N,I,G,ne){return N===null||N.tag!==7?(N=$n(I,R.mode,G,ne),N.return=R,N):(N=f(N,I),N.return=R,N)}function k(R,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ca(""+N,R.mode,I),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return I=Co(N.type,N.key,N.props,null,R.mode,I),Al(I,N),I.return=R,I;case L:return N=fa(N,R.mode,I),N.return=R,N;case pe:return N=ni(N),k(R,N,I)}if(Ye(N)||ce(N))return N=$n(N,R.mode,I,null),N.return=R,N;if(typeof N.then=="function")return k(R,Do(N),I);if(N.$$typeof===O)return k(R,No(R,N),I);bo(R,N)}return null}function b(R,N,I,G){var ne=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ne!==null?null:C(R,N,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===ne?A(R,N,I,G):null;case L:return I.key===ne?D(R,N,I,G):null;case pe:return I=ni(I),b(R,N,I,G)}if(Ye(I)||ce(I))return ne!==null?null:q(R,N,I,G,null);if(typeof I.then=="function")return b(R,N,Do(I),G);if(I.$$typeof===O)return b(R,N,No(R,I),G);bo(R,I)}return null}function w(R,N,I,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(I)||null,C(N,R,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return R=R.get(G.key===null?I:G.key)||null,A(N,R,G,ne);case L:return R=R.get(G.key===null?I:G.key)||null,D(N,R,G,ne);case pe:return G=ni(G),w(R,N,I,G,ne)}if(Ye(G)||ce(G))return R=R.get(I)||null,q(N,R,G,ne,null);if(typeof G.then=="function")return w(R,N,I,Do(G),ne);if(G.$$typeof===O)return w(R,N,I,No(N,G),ne);bo(N,G)}return null}function $(R,N,I,G){for(var ne=null,_e=null,ee=N,ue=N=0,ye=null;ee!==null&&ue<I.length;ue++){ee.index>ue?(ye=ee,ee=null):ye=ee.sibling;var Ce=b(R,ee,I[ue],G);if(Ce===null){ee===null&&(ee=ye);break}e&&ee&&Ce.alternate===null&&t(R,ee),N=p(Ce,N,ue),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce,ee=ye}if(ue===I.length)return l(R,ee),ve&&en(R,ue),ne;if(ee===null){for(;ue<I.length;ue++)ee=k(R,I[ue],G),ee!==null&&(N=p(ee,N,ue),_e===null?ne=ee:_e.sibling=ee,_e=ee);return ve&&en(R,ue),ne}for(ee=a(ee);ue<I.length;ue++)ye=w(ee,R,ue,I[ue],G),ye!==null&&(e&&ye.alternate!==null&&ee.delete(ye.key===null?ue:ye.key),N=p(ye,N,ue),_e===null?ne=ye:_e.sibling=ye,_e=ye);return e&&ee.forEach(function(Bn){return t(R,Bn)}),ve&&en(R,ue),ne}function le(R,N,I,G){if(I==null)throw Error(s(151));for(var ne=null,_e=null,ee=N,ue=N=0,ye=null,Ce=I.next();ee!==null&&!Ce.done;ue++,Ce=I.next()){ee.index>ue?(ye=ee,ee=null):ye=ee.sibling;var Bn=b(R,ee,Ce.value,G);if(Bn===null){ee===null&&(ee=ye);break}e&&ee&&Bn.alternate===null&&t(R,ee),N=p(Bn,N,ue),_e===null?ne=Bn:_e.sibling=Bn,_e=Bn,ee=ye}if(Ce.done)return l(R,ee),ve&&en(R,ue),ne;if(ee===null){for(;!Ce.done;ue++,Ce=I.next())Ce=k(R,Ce.value,G),Ce!==null&&(N=p(Ce,N,ue),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce);return ve&&en(R,ue),ne}for(ee=a(ee);!Ce.done;ue++,Ce=I.next())Ce=w(ee,R,ue,Ce.value,G),Ce!==null&&(e&&Ce.alternate!==null&&ee.delete(Ce.key===null?ue:Ce.key),N=p(Ce,N,ue),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce);return e&&ee.forEach(function(Zy){return t(R,Zy)}),ve&&en(R,ue),ne}function we(R,N,I,G){if(typeof I=="object"&&I!==null&&I.type===H&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:e:{for(var ne=I.key;N!==null;){if(N.key===ne){if(ne=I.type,ne===H){if(N.tag===7){l(R,N.sibling),G=f(N,I.props.children),G.return=R,R=G;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===pe&&ni(ne)===N.type){l(R,N.sibling),G=f(N,I.props),Al(G,I),G.return=R,R=G;break e}l(R,N);break}else t(R,N);N=N.sibling}I.type===H?(G=$n(I.props.children,R.mode,G,I.key),G.return=R,R=G):(G=Co(I.type,I.key,I.props,null,R.mode,G),Al(G,I),G.return=R,R=G)}return T(R);case L:e:{for(ne=I.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){l(R,N.sibling),G=f(N,I.children||[]),G.return=R,R=G;break e}else{l(R,N);break}else t(R,N);N=N.sibling}G=fa(I,R.mode,G),G.return=R,R=G}return T(R);case pe:return I=ni(I),we(R,N,I,G)}if(Ye(I))return $(R,N,I,G);if(ce(I)){if(ne=ce(I),typeof ne!="function")throw Error(s(150));return I=ne.call(I),le(R,N,I,G)}if(typeof I.then=="function")return we(R,N,Do(I),G);if(I.$$typeof===O)return we(R,N,No(R,I),G);bo(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(l(R,N.sibling),G=f(N,I),G.return=R,R=G):(l(R,N),G=ca(I,R.mode,G),G.return=R,R=G),T(R)):l(R,N)}return function(R,N,I,G){try{Cl=0;var ne=we(R,N,I,G);return wi=null,ne}catch(ee){if(ee===bi||ee===Ro)throw ee;var _e=Et(29,ee,null,R.mode);return _e.lanes=G,_e.return=R,_e}finally{}}}var li=bc(!0),wc=bc(!1),xn=!1;function Ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ne&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,t=_o(e),hc(e,null,l),t}return Eo(e,a,t,l),_o(e)}function xl(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Cu(e,l)}}function xa(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?f=p=t:p=p.next=t}else f=p=t;l={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Na=!1;function Nl(){if(Na){var e=Di;if(e!==null)throw e}}function Ml(e,t,l,a){Na=!1;var f=e.updateQueue;xn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var A=C,D=A.next;A.next=null,T===null?p=D:T.next=D,T=A;var q=e.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==T&&(C===null?q.firstBaseUpdate=D:C.next=D,q.lastBaseUpdate=A))}if(p!==null){var k=f.baseState;T=0,q=D=A=null,C=p;do{var b=C.lane&-536870913,w=b!==C.lane;if(w?(ge&b)===b:(a&b)===b){b!==0&&b===Ii&&(Na=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var $=e,le=C;b=t;var we=l;switch(le.tag){case 1:if($=le.payload,typeof $=="function"){k=$.call(we,k,b);break e}k=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=le.payload,b=typeof $=="function"?$.call(we,k,b):$,b==null)break e;k=S({},k,b);break e;case 2:xn=!0}}b=C.callback,b!==null&&(e.flags|=64,w&&(e.flags|=8192),w=f.callbacks,w===null?f.callbacks=[b]:w.push(b))}else w={lane:b,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(D=q=w,A=k):q=q.next=w,T|=b;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;w=C,C=w.next,w.next=null,f.lastBaseUpdate=w,f.shared.pending=null}}while(!0);q===null&&(A=k),f.baseState=A,f.firstBaseUpdate=D,f.lastBaseUpdate=q,p===null&&(f.shared.lanes=0),wn|=T,e.lanes=T,e.memoizedState=k}}function Uc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Lc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Uc(l[e],t)}var Ui=M(null),wo=M(0);function qc(e,t){e=dn,X(wo,e),X(Ui,t),dn=e|t.baseLanes}function Ma(){X(wo,dn),X(Ui,Ui.current)}function Ra(){dn=wo.current,V(Ui),V(wo)}var _t=M(null),Lt=null;function Rn(e){var t=e.alternate;X(Be,Be.current&1),X(_t,e),Lt===null&&(t===null||Ui.current!==null||t.memoizedState!==null)&&(Lt=e)}function Ia(e){X(Be,Be.current),X(_t,e),Lt===null&&(Lt=e)}function Gc(e){e.tag===22?(X(Be,Be.current),X(_t,e),Lt===null&&(Lt=e)):In()}function In(){X(Be,Be.current),X(_t,_t.current)}function Ct(e){V(_t),Lt===e&&(Lt=null),V(Be)}var Be=M(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||qr(l)||Gr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ln=0,re=null,De=null,Je=null,Lo=!1,Li=!1,oi=!1,qo=0,Rl=0,qi=null,Vg=0;function Ve(){throw Error(s(321))}function Da(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!St(e[l],t[l]))return!1;return!0}function ba(e,t,l,a,f,p){return ln=p,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Sf:Ja,oi=!1,p=l(a,f),oi=!1,Li&&(p=Pc(t,l,a,f)),Hc(e),p}function Hc(e){U.H=bl;var t=De!==null&&De.next!==null;if(ln=0,Je=De=re=null,Lo=!1,Rl=0,qi=null,t)throw Error(s(300));e===null||Qe||(e=e.dependencies,e!==null&&xo(e)&&(Qe=!0))}function Pc(e,t,l,a){re=e;var f=0;do{if(Li&&(qi=null),Rl=0,Li=!1,25<=f)throw Error(s(301));if(f+=1,Je=De=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=Ef,p=t(l,a)}while(Li);return p}function zg(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Il(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(re.flags|=1024),t}function wa(){var e=qo!==0;return qo=0,e}function Ua(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function La(e){if(Lo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Lo=!1}ln=0,Je=De=re=null,Li=!1,Rl=qo=0,qi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?re.memoizedState=Je=e:Je=Je.next=e,Je}function Oe(){if(De===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Je===null?re.memoizedState:Je.next;if(t!==null)Je=t,De=e;else{if(e===null)throw re.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?re.memoizedState=Je=e:Je=Je.next=e}return Je}function Go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(e){var t=Rl;return Rl+=1,qi===null&&(qi=[]),e=Rc(qi,e,t),t=re,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Sf:Ja),e}function Ho(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Il(e);if(e.$$typeof===O)return nt(e)}throw Error(s(438,String(e)))}function qa(e){var t=null,l=re.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Go(),re.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=de;return t.index++,l}function on(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=Oe();return Ga(t,De,e)}function Ga(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var f=e.baseQueue,p=a.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}t.baseQueue=f=p,a.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var C=T=null,A=null,D=t,q=!1;do{var k=D.lane&-536870913;if(k!==D.lane?(ge&k)===k:(ln&k)===k){var b=D.revertLane;if(b===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),k===Ii&&(q=!0);else if((ln&b)===b){D=D.next,b===Ii&&(q=!0);continue}else k={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(C=A=k,T=p):A=A.next=k,re.lanes|=b,wn|=b;k=D.action,oi&&l(p,k),p=D.hasEagerState?D.eagerState:l(p,k)}else b={lane:k,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(C=A=b,T=p):A=A.next=b,re.lanes|=k,wn|=k;D=D.next}while(D!==null&&D!==t);if(A===null?T=p:A.next=C,!St(p,e.memoizedState)&&(Qe=!0,q&&(l=Di,l!==null)))throw l;e.memoizedState=p,e.baseState=T,e.baseQueue=A,a.lastRenderedState=p}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ha(e){var t=Oe(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,f=l.pending,p=t.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do p=e(p,T.action),T=T.next;while(T!==f);St(p,t.memoizedState)||(Qe=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),l.lastRenderedState=p}return[p,a]}function kc(e,t,l){var a=re,f=Oe(),p=ve;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=t();var T=!St((De||f).memoizedState,l);if(T&&(f.memoizedState=l,Qe=!0),f=f.queue,Va(Bc.bind(null,a,f,e),[e]),f.getSnapshot!==t||T||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,Gi(9,{destroy:void 0},zc.bind(null,a,f,l,t),null),Le===null)throw Error(s(349));p||(ln&127)!==0||Vc(a,t,l)}return l}function Vc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=re.updateQueue,t===null?(t=Go(),re.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function zc(e,t,l,a){t.value=l,t.getSnapshot=a,Oc(t)&&Yc(e)}function Bc(e,t,l){return l(function(){Oc(t)&&Yc(e)})}function Oc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!St(e,l)}catch{return!0}}function Yc(e){var t=Zn(e,2);t!==null&&gt(t,e,2)}function Pa(e){var t=ut();if(typeof e=="function"){var l=e;if(e=l(),oi){vn(!0);try{l()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},t}function Fc(e,t,l,a){return e.baseState=l,Ga(e,De,typeof a=="function"?a:on)}function Bg(e,t,l,a,f){if(zo(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};U.T!==null?l(!0):p.isTransition=!1,a(p),l=t.pending,l===null?(p.next=t.pending=p,Jc(t,p)):(p.next=l.next,t.pending=l.next=p)}}function Jc(e,t){var l=t.action,a=t.payload,f=e.state;if(t.isTransition){var p=U.T,T={};U.T=T;try{var C=l(f,a),A=U.S;A!==null&&A(T,C),Qc(e,t,C)}catch(D){ka(e,t,D)}finally{p!==null&&T.types!==null&&(p.types=T.types),U.T=p}}else try{p=l(f,a),Qc(e,t,p)}catch(D){ka(e,t,D)}}function Qc(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Kc(e,t,a)},function(a){return ka(e,t,a)}):Kc(e,t,l)}function Kc(e,t,l){t.status="fulfilled",t.value=l,Xc(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Jc(e,l)))}function ka(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Xc(t),t=t.next;while(t!==a)}e.action=null}function Xc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zc(e,t){return t}function $c(e,t){if(ve){var l=Le.formState;if(l!==null){e:{var a=re;if(ve){if(qe){t:{for(var f=qe,p=Ut;f.nodeType!==8;){if(!p){f=null;break t}if(f=qt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){qe=qt(f.nextSibling),a=f.data==="F!";break e}}Cn(a)}a=!1}a&&(t=l[0])}}return l=ut(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:t},l.queue=a,l=yf.bind(null,re,a),a.dispatch=l,a=Pa(!1),p=Fa.bind(null,re,!1,a.queue),a=ut(),f={state:t,dispatch:null,action:e,pending:null},a.queue=f,l=Bg.bind(null,re,f,p,l),f.dispatch=l,a.memoizedState=e,[t,l,!1]}function Wc(e){var t=Oe();return jc(t,De,e)}function jc(e,t,l){if(t=Ga(e,t,Zc)[0],e=Po(on)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Il(t)}catch(T){throw T===bi?Ro:T}else a=t;t=Oe();var f=t.queue,p=f.dispatch;return l!==t.memoizedState&&(re.flags|=2048,Gi(9,{destroy:void 0},Og.bind(null,f,l),null)),[a,p,e]}function Og(e,t){e.action=t}function ef(e){var t=Oe(),l=De;if(l!==null)return jc(t,l,e);Oe(),t=t.memoizedState,l=Oe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Gi(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=Go(),re.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function tf(){return Oe().memoizedState}function ko(e,t,l,a){var f=ut();re.flags|=e,f.memoizedState=Gi(1|t,{destroy:void 0},l,a===void 0?null:a)}function Vo(e,t,l,a){var f=Oe();a=a===void 0?null:a;var p=f.memoizedState.inst;De!==null&&a!==null&&Da(a,De.memoizedState.deps)?f.memoizedState=Gi(t,p,l,a):(re.flags|=e,f.memoizedState=Gi(1|t,p,l,a))}function nf(e,t){ko(8390656,8,e,t)}function Va(e,t){Vo(2048,8,e,t)}function Yg(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Go(),re.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function lf(e){var t=Oe().memoizedState;return Yg({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function of(e,t){return Vo(4,2,e,t)}function sf(e,t){return Vo(4,4,e,t)}function af(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,l){l=l!=null?l.concat([e]):null,Vo(4,4,af.bind(null,t,e),l)}function za(){}function uf(e,t){var l=Oe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Da(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function cf(e,t){var l=Oe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Da(t,a[1]))return a[0];if(a=e(),oi){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[a,t],a}function Ba(e,t,l){return l===void 0||(ln&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=fd(),re.lanes|=e,wn|=e,l)}function ff(e,t,l,a){return St(l,t)?l:Ui.current!==null?(e=Ba(e,l,a),St(e,t)||(Qe=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(ge&261930)===0?(Qe=!0,e.memoizedState=l):(e=fd(),re.lanes|=e,wn|=e,t)}function df(e,t,l,a,f){var p=J.p;J.p=p!==0&&8>p?p:8;var T=U.T,C={};U.T=C,Fa(e,!1,t,l);try{var A=f(),D=U.S;if(D!==null&&D(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=kg(A,a);Dl(e,t,q,Nt(e))}else Dl(e,t,a,Nt(e))}catch(k){Dl(e,t,{then:function(){},status:"rejected",reason:k},Nt())}finally{J.p=p,T!==null&&C.types!==null&&(T.types=C.types),U.T=T}}function Fg(){}function Oa(e,t,l,a){if(e.tag!==5)throw Error(s(476));var f=pf(e).queue;df(e,f,t,oe,l===null?Fg:function(){return mf(e),l(a)})}function pf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:oe},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mf(e){var t=pf(e);t.next===null&&(t=e.alternate.memoizedState),Dl(e,t.next.queue,{},Nt())}function Ya(){return nt(Ql)}function hf(){return Oe().memoizedState}function gf(){return Oe().memoizedState}function Jg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Nt();e=Nn(l);var a=Mn(t,e,l);a!==null&&(gt(a,t,l),xl(a,t,l)),t={cache:Ta()},e.payload=t;return}t=t.return}}function Qg(e,t,l){var a=Nt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zo(e)?vf(t,l):(l=ra(e,t,l,a),l!==null&&(gt(l,e,a),Tf(l,t,a)))}function yf(e,t,l){var a=Nt();Dl(e,t,l,a)}function Dl(e,t,l,a){var f={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(zo(e))vf(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var T=t.lastRenderedState,C=p(T,l);if(f.hasEagerState=!0,f.eagerState=C,St(C,T))return Eo(e,t,f,0),Le===null&&So(),!1}catch{}finally{}if(l=ra(e,t,f,a),l!==null)return gt(l,e,a),Tf(l,t,a),!0}return!1}function Fa(e,t,l,a){if(a={lane:2,revertLane:Cr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(t)throw Error(s(479))}else t=ra(e,l,a,2),t!==null&&gt(t,e,2)}function zo(e){var t=e.alternate;return e===re||t!==null&&t===re}function vf(e,t){Li=Lo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Tf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Cu(e,l)}}var bl={readContext:nt,use:Ho,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};bl.useEffectEvent=Ve;var Sf={readContext:nt,use:Ho,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:nf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ko(4194308,4,af.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){ko(4,2,e,t)},useMemo:function(e,t){var l=ut();t=t===void 0?null:t;var a=e();if(oi){vn(!0);try{e()}finally{vn(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ut();if(l!==void 0){var f=l(t);if(oi){vn(!0);try{l(t)}finally{vn(!1)}}}else f=t;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=Qg.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Pa(e);var t=e.queue,l=yf.bind(null,re,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:za,useDeferredValue:function(e,t){var l=ut();return Ba(l,e,t)},useTransition:function(){var e=Pa(!1);return e=df.bind(null,re,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=re,f=ut();if(ve){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),Le===null)throw Error(s(349));(ge&127)!==0||Vc(a,t,l)}f.memoizedState=l;var p={value:l,getSnapshot:t};return f.queue=p,nf(Bc.bind(null,a,p,e),[e]),a.flags|=2048,Gi(9,{destroy:void 0},zc.bind(null,a,p,l,t),null),l},useId:function(){var e=ut(),t=Le.identifierPrefix;if(ve){var l=Ft,a=Yt;l=(a&~(1<<32-Tt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=qo++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Vg++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ya,useFormState:$c,useActionState:$c,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Fa.bind(null,re,!0,l),l.dispatch=t,[e,t]},useMemoCache:qa,useCacheRefresh:function(){return ut().memoizedState=Jg.bind(null,re)},useEffectEvent:function(e){var t=ut(),l={impl:e};return t.memoizedState=l,function(){if((Ne&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Ja={readContext:nt,use:Ho,useCallback:uf,useContext:nt,useEffect:Va,useImperativeHandle:rf,useInsertionEffect:of,useLayoutEffect:sf,useMemo:cf,useReducer:Po,useRef:tf,useState:function(){return Po(on)},useDebugValue:za,useDeferredValue:function(e,t){var l=Oe();return ff(l,De.memoizedState,e,t)},useTransition:function(){var e=Po(on)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:Il(e),t]},useSyncExternalStore:kc,useId:hf,useHostTransitionStatus:Ya,useFormState:Wc,useActionState:Wc,useOptimistic:function(e,t){var l=Oe();return Fc(l,De,e,t)},useMemoCache:qa,useCacheRefresh:gf};Ja.useEffectEvent=lf;var Ef={readContext:nt,use:Ho,useCallback:uf,useContext:nt,useEffect:Va,useImperativeHandle:rf,useInsertionEffect:of,useLayoutEffect:sf,useMemo:cf,useReducer:Ha,useRef:tf,useState:function(){return Ha(on)},useDebugValue:za,useDeferredValue:function(e,t){var l=Oe();return De===null?Ba(l,e,t):ff(l,De.memoizedState,e,t)},useTransition:function(){var e=Ha(on)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:Il(e),t]},useSyncExternalStore:kc,useId:hf,useHostTransitionStatus:Ya,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var l=Oe();return De!==null?Fc(l,De,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:qa,useCacheRefresh:gf};Ef.useEffectEvent=lf;function Qa(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ka={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Nt(),f=Nn(a);f.payload=t,l!=null&&(f.callback=l),t=Mn(e,f,a),t!==null&&(gt(t,e,a),xl(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Nt(),f=Nn(a);f.tag=1,f.payload=t,l!=null&&(f.callback=l),t=Mn(e,f,a),t!==null&&(gt(t,e,a),xl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Nt(),a=Nn(l);a.tag=2,t!=null&&(a.callback=t),t=Mn(e,a,l),t!==null&&(gt(t,e,l),xl(t,e,l))}};function _f(e,t,l,a,f,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,T):t.prototype&&t.prototype.isPureReactComponent?!yl(l,a)||!yl(f,p):!0}function Cf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Ka.enqueueReplaceState(t,t.state,null)}function si(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Af(e){To(e)}function xf(e){console.error(e)}function Nf(e){To(e)}function Bo(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Mf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xa(e,t,l){return l=Nn(l),l.tag=3,l.payload={element:null},l.callback=function(){Bo(e,t)},l}function Rf(e){return e=Nn(e),e.tag=3,e}function If(e,t,l,a){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=a.value;e.payload=function(){return f(p)},e.callback=function(){Mf(t,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Mf(t,l,a),typeof f!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function Kg(e,t,l,a,f){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ri(t,l,f,!0),l=_t.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?es():l.alternate===null&&ze===0&&(ze=3),l.flags&=-257,l.flags|=65536,l.lanes=f,a===Io?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Sr(e,a,f)),!1;case 22:return l.flags|=65536,a===Io?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Sr(e,a,f)),!1}throw Error(s(435,l.tag))}return Sr(e,a,f),es(),!1}if(ve)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,a!==ma&&(e=Error(s(422),{cause:a}),Sl(Dt(e,l)))):(a!==ma&&(t=Error(s(423),{cause:a}),Sl(Dt(t,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=Dt(a,l),f=Xa(e.stateNode,a,f),xa(e,f),ze!==4&&(ze=2)),!1;var p=Error(s(520),{cause:a});if(p=Dt(p,l),kl===null?kl=[p]:kl.push(p),ze!==4&&(ze=2),t===null)return!0;a=Dt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Xa(l.stateNode,a,e),xa(l,e),!1;case 1:if(t=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Un===null||!Un.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Rf(f),If(f,e,l,a),xa(l,f),!1}l=l.return}while(l!==null);return!1}var Za=Error(s(461)),Qe=!1;function it(e,t,l,a){t.child=e===null?wc(t,null,l,a):li(t,e.child,l,a)}function Df(e,t,l,a,f){l=l.render;var p=t.ref;if("ref"in a){var T={};for(var C in a)C!=="ref"&&(T[C]=a[C])}else T=a;return ei(t),a=ba(e,t,l,T,p,f),C=wa(),e!==null&&!Qe?(Ua(e,t,f),sn(e,t,f)):(ve&&C&&da(t),t.flags|=1,it(e,t,a,f),t.child)}function bf(e,t,l,a,f){if(e===null){var p=l.type;return typeof p=="function"&&!ua(p)&&p.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=p,wf(e,t,p,a,f)):(e=Co(l.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!lr(e,f)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:yl,l(T,a)&&e.ref===t.ref)return sn(e,t,f)}return t.flags|=1,e=jt(p,a),e.ref=t.ref,e.return=t,t.child=e}function wf(e,t,l,a,f){if(e!==null){var p=e.memoizedProps;if(yl(p,a)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=a=p,lr(e,f))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,sn(e,t,f)}return $a(e,t,l,a,f)}function Uf(e,t,l,a){var f=a.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(a=t.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~p}else a=0,t.child=null;return Lf(e,t,p,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(t,p!==null?p.cachePool:null),p!==null?qc(t,p):Ma(),Gc(t);else return a=t.lanes=536870912,Lf(e,t,p!==null?p.baseLanes|l:l,l,a)}else p!==null?(Mo(t,p.cachePool),qc(t,p),In(),t.memoizedState=null):(e!==null&&Mo(t,null),Ma(),In());return it(e,t,f,l),t.child}function wl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lf(e,t,l,a,f){var p=Ea();return p=p===null?null:{parent:Fe._currentValue,pool:p},t.memoizedState={baseLanes:l,cachePool:p},e!==null&&Mo(t,null),Ma(),Gc(t),e!==null&&Ri(e,t,a,!0),t.childLanes=f,null}function Oo(e,t){return t=Fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qf(e,t,l){return li(t,e.child,null,l),e=Oo(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function Xg(e,t,l){var a=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(a.mode==="hidden")return e=Oo(t,a),t.lanes=536870912,wl(null,e);if(Ia(t),(e=qe)?(e=Qd(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=yc(e),l.return=t,t.child=l,tt=t,qe=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return Oo(t,a)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Ia(t),f)if(t.flags&256)t.flags&=-257,t=qf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Qe||Ri(e,t,l,!1),f=(l&e.childLanes)!==0,Qe||f){if(a=Le,a!==null&&(T=Au(a,l),T!==0&&T!==p.retryLane))throw p.retryLane=T,Zn(e,T),gt(a,e,T),Za;es(),t=qf(e,t,l)}else e=p.treeContext,qe=qt(T.nextSibling),tt=t,ve=!0,_n=null,Ut=!1,e!==null&&Sc(t,e),t=Oo(t,a),t.flags|=4096;return t}return e=jt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Yo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function $a(e,t,l,a,f){return ei(t),l=ba(e,t,l,a,void 0,f),a=wa(),e!==null&&!Qe?(Ua(e,t,f),sn(e,t,f)):(ve&&a&&da(t),t.flags|=1,it(e,t,l,f),t.child)}function Gf(e,t,l,a,f,p){return ei(t),t.updateQueue=null,l=Pc(t,a,l,f),Hc(e),a=wa(),e!==null&&!Qe?(Ua(e,t,p),sn(e,t,p)):(ve&&a&&da(t),t.flags|=1,it(e,t,l,p),t.child)}function Hf(e,t,l,a,f){if(ei(t),t.stateNode===null){var p=Ai,T=l.contextType;typeof T=="object"&&T!==null&&(p=nt(T)),p=new l(a,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ka,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=a,p.state=t.memoizedState,p.refs={},Ca(t),T=l.contextType,p.context=typeof T=="object"&&T!==null?nt(T):Ai,p.state=t.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Qa(t,l,T,a),p.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Ka.enqueueReplaceState(p,p.state,null),Ml(t,a,p,f),Nl(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){p=t.stateNode;var C=t.memoizedProps,A=si(l,C);p.props=A;var D=p.context,q=l.contextType;T=Ai,typeof q=="object"&&q!==null&&(T=nt(q));var k=l.getDerivedStateFromProps;q=typeof k=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||D!==T)&&Cf(t,p,a,T),xn=!1;var b=t.memoizedState;p.state=b,Ml(t,a,p,f),Nl(),D=t.memoizedState,C||b!==D||xn?(typeof k=="function"&&(Qa(t,l,k,a),D=t.memoizedState),(A=xn||_f(t,l,A,a,b,D,T))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=D),p.props=a,p.state=D,p.context=T,a=A):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Aa(e,t),T=t.memoizedProps,q=si(l,T),p.props=q,k=t.pendingProps,b=p.context,D=l.contextType,A=Ai,typeof D=="object"&&D!==null&&(A=nt(D)),C=l.getDerivedStateFromProps,(D=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==k||b!==A)&&Cf(t,p,a,A),xn=!1,b=t.memoizedState,p.state=b,Ml(t,a,p,f),Nl();var w=t.memoizedState;T!==k||b!==w||xn||e!==null&&e.dependencies!==null&&xo(e.dependencies)?(typeof C=="function"&&(Qa(t,l,C,a),w=t.memoizedState),(q=xn||_f(t,l,q,a,b,w,A)||e!==null&&e.dependencies!==null&&xo(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,w,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,w,A)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=w),p.props=a,p.state=w,p.context=A,a=q):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),a=!1)}return p=a,Yo(e,t),a=(t.flags&128)!==0,p||a?(p=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&a?(t.child=li(t,e.child,null,f),t.child=li(t,null,l,f)):it(e,t,l,f),t.memoizedState=p.state,e=t.child):e=sn(e,t,f),e}function Pf(e,t,l,a){return Wn(),t.flags|=256,it(e,t,l,a),t.child}var Wa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ja(e){return{baseLanes:e,cachePool:Nc()}}function er(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=xt),e}function kf(e,t,l){var a=t.pendingProps,f=!1,p=(t.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(f=!0,t.flags&=-129),T=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(f?Rn(t):In(),(e=qe)?(e=Qd(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:En!==null?{id:Yt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=yc(e),l.return=t,t.child=l,tt=t,qe=null)):e=null,e===null)throw Cn(t);return Gr(e)?t.lanes=32:t.lanes=536870912,null}var C=a.children;return a=a.fallback,f?(In(),f=t.mode,C=Fo({mode:"hidden",children:C},f),a=$n(a,f,l,null),C.return=t,a.return=t,C.sibling=a,t.child=C,a=t.child,a.memoizedState=ja(l),a.childLanes=er(e,T,l),t.memoizedState=Wa,wl(null,a)):(Rn(t),tr(t,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(p)t.flags&256?(Rn(t),t.flags&=-257,t=nr(e,t,l)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),C=a.fallback,f=t.mode,a=Fo({mode:"visible",children:a.children},f),C=$n(C,f,l,null),C.flags|=2,a.return=t,C.return=t,a.sibling=C,t.child=a,li(t,e.child,null,l),a=t.child,a.memoizedState=ja(l),a.childLanes=er(e,T,l),t.memoizedState=Wa,t=wl(null,a));else if(Rn(t),Gr(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var D=T.dgst;T=D,a=Error(s(419)),a.stack="",a.digest=T,Sl({value:a,source:null,stack:null}),t=nr(e,t,l)}else if(Qe||Ri(e,t,l,!1),T=(l&e.childLanes)!==0,Qe||T){if(T=Le,T!==null&&(a=Au(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,Zn(e,a),gt(T,e,a),Za;qr(C)||es(),t=nr(e,t,l)}else qr(C)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,qe=qt(C.nextSibling),tt=t,ve=!0,_n=null,Ut=!1,e!==null&&Sc(t,e),t=tr(t,a.children),t.flags|=4096);return t}return f?(In(),C=a.fallback,f=t.mode,A=e.child,D=A.sibling,a=jt(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,D!==null?C=jt(D,C):(C=$n(C,f,l,null),C.flags|=2),C.return=t,a.return=t,a.sibling=C,t.child=a,wl(null,a),a=t.child,C=e.child.memoizedState,C===null?C=ja(l):(f=C.cachePool,f!==null?(A=Fe._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Nc(),C={baseLanes:C.baseLanes|l,cachePool:f}),a.memoizedState=C,a.childLanes=er(e,T,l),t.memoizedState=Wa,wl(e.child,a)):(Rn(t),l=e.child,e=l.sibling,l=jt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(T=t.deletions,T===null?(t.deletions=[e],t.flags|=16):T.push(e)),t.child=l,t.memoizedState=null,l)}function tr(e,t){return t=Fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fo(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function nr(e,t,l){return li(t,e.child,null,l),e=tr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vf(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ya(e.return,t,l)}function ir(e,t,l,a,f,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:f,treeForkCount:p}:(T.isBackwards=t,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=f,T.treeForkCount=p)}function zf(e,t,l){var a=t.pendingProps,f=a.revealOrder,p=a.tail;a=a.children;var T=Be.current,C=(T&2)!==0;if(C?(T=T&1|2,t.flags|=128):T&=1,X(Be,T),it(e,t,a,l),a=ve?Tl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,l,t);else if(e.tag===19)Vf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=t.child,f=null;l!==null;)e=l.alternate,e!==null&&Uo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=t.child,t.child=null):(f=l.sibling,l.sibling=null),ir(t,!1,f,l,p,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Uo(e)===null){t.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}ir(t,!0,l,null,p,a);break;case"together":ir(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function sn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ri(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=jt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=jt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function lr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xo(e)))}function Zg(e,t,l){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),An(t,Fe,e.memoizedState.cache),Wn();break;case 27:case 5:ie(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:An(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ia(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Rn(t),t.flags|=128,null):(l&t.child.childLanes)!==0?kf(e,t,l):(Rn(t),e=sn(e,t,l),e!==null?e.sibling:null);Rn(t);break;case 19:var f=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ri(e,t,l,!1),a=(l&t.childLanes)!==0),f){if(a)return zf(e,t,l);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(Be,Be.current),a)break;return null;case 22:return t.lanes=0,Uf(e,t,l,t.pendingProps);case 24:An(t,Fe,e.memoizedState.cache)}return sn(e,t,l)}function Bf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!lr(e,l)&&(t.flags&128)===0)return Qe=!1,Zg(e,t,l);Qe=(e.flags&131072)!==0}else Qe=!1,ve&&(t.flags&1048576)!==0&&Tc(t,Tl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ni(t.elementType),t.type=e,typeof e=="function")ua(e)?(a=si(e,a),t.tag=1,t=Hf(null,t,e,a,l)):(t.tag=0,t=$a(null,t,e,a,l));else{if(e!=null){var f=e.$$typeof;if(f===P){t.tag=11,t=Df(null,t,e,a,l);break e}else if(f===K){t.tag=14,t=bf(null,t,e,a,l);break e}}throw t=ot(e)||e,Error(s(306,t,""))}}return t;case 0:return $a(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,f=si(a,t.pendingProps),Hf(e,t,a,f,l);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var p=t.memoizedState;f=p.element,Aa(e,t),Ml(t,a,null,l);var T=t.memoizedState;if(a=T.cache,An(t,Fe,a),a!==p.cache&&va(t,[Fe],l,!0),Nl(),a=T.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:T.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Pf(e,t,a,l);break e}else if(a!==f){f=Dt(Error(s(424)),t),Sl(f),t=Pf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=qt(e.firstChild),tt=t,ve=!0,_n=null,Ut=!0,l=wc(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wn(),a===f){t=sn(e,t,l);break e}it(e,t,a,l)}t=t.child}return t;case 26:return Yo(e,t),e===null?(l=jd(t.type,null,t.pendingProps,null))?t.memoizedState=l:ve||(l=t.type,e=t.pendingProps,a=as(fe.current).createElement(l),a[et]=t,a[ct]=e,lt(a,l,e),$e(a),t.stateNode=a):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ie(t),e===null&&ve&&(a=t.stateNode=Zd(t.type,t.pendingProps,fe.current),tt=t,Ut=!0,f=qe,Hn(t.type)?(Hr=f,qe=qt(a.firstChild)):qe=f),it(e,t,t.pendingProps.children,l),Yo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((f=a=qe)&&(a=Ny(a,t.type,t.pendingProps,Ut),a!==null?(t.stateNode=a,tt=t,qe=qt(a.firstChild),Ut=!1,f=!0):f=!1),f||Cn(t)),ie(t),f=t.type,p=t.pendingProps,T=e!==null?e.memoizedProps:null,a=p.children,wr(f,p)?a=null:T!==null&&wr(f,T)&&(t.flags|=32),t.memoizedState!==null&&(f=ba(e,t,zg,null,null,l),Ql._currentValue=f),Yo(e,t),it(e,t,a,l),t.child;case 6:return e===null&&ve&&((e=l=qe)&&(l=My(l,t.pendingProps,Ut),l!==null?(t.stateNode=l,tt=t,qe=null,e=!0):e=!1),e||Cn(t)),null;case 13:return kf(e,t,l);case 4:return je(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=li(t,null,a,l):it(e,t,a,l),t.child;case 11:return Df(e,t,t.type,t.pendingProps,l);case 7:return it(e,t,t.pendingProps,l),t.child;case 8:return it(e,t,t.pendingProps.children,l),t.child;case 12:return it(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,An(t,t.type,a.value),it(e,t,a.children,l),t.child;case 9:return f=t.type._context,a=t.pendingProps.children,ei(t),f=nt(f),a=a(f),t.flags|=1,it(e,t,a,l),t.child;case 14:return bf(e,t,t.type,t.pendingProps,l);case 15:return wf(e,t,t.type,t.pendingProps,l);case 19:return zf(e,t,l);case 31:return Xg(e,t,l);case 22:return Uf(e,t,l,t.pendingProps);case 24:return ei(t),a=nt(Fe),e===null?(f=Ea(),f===null&&(f=Le,p=Ta(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),t.memoizedState={parent:a,cache:f},Ca(t),An(t,Fe,f)):((e.lanes&l)!==0&&(Aa(e,t),Ml(t,null,null,l),Nl()),f=e.memoizedState,p=t.memoizedState,f.parent!==a?(f={parent:a,cache:a},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),An(t,Fe,a)):(a=p.cache,An(t,Fe,a),a!==f.cache&&va(t,[Fe],l,!0))),it(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function an(e){e.flags|=4}function or(e,t,l,a,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(hd())e.flags|=8192;else throw ii=Io,_a}else e.flags&=-16777217}function Of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lp(t))if(hd())e.flags|=8192;else throw ii=Io,_a}function Jo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Eu():536870912,e.lanes|=t,Vi|=t)}function Ul(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function $g(e,t,l){var a=t.pendingProps;switch(pa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),nn(Fe),j(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?an(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ha())),Ge(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(an(t),p!==null?(Ge(t),Of(t,p)):(Ge(t),or(t,f,null,a,l))):p?p!==e.memoizedState?(an(t),Ge(t),Of(t,p)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&an(t),Ge(t),or(t,f,e,a,l)),null;case 27:if(st(t),l=fe.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}e=W.current,Mi(t)?Ec(t):(e=Zd(f,a,l),t.stateNode=e,an(t))}return Ge(t),null;case 5:if(st(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}if(p=W.current,Mi(t))Ec(t);else{var T=as(fe.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?T.createElement(f,{is:a.is}):T.createElement(f)}}p[et]=t,p[ct]=a;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=p;e:switch(lt(p,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&an(t)}}return Ge(t),or(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&an(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,Mi(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,f=tt,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||kd(e.nodeValue,l)),e||Cn(t,!0)}else e=as(e).createTextNode(a),e[et]=t,t.stateNode=e}return Ge(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Mi(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[et]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else l=ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ge(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Mi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[et]=t}else Wn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),f=!1}else f=ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==f&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Jo(t,t.updateQueue),Ge(t),null);case 4:return j(),e===null&&Mr(t.stateNode.containerInfo),Ge(t),null;case 10:return nn(t.type),Ge(t),null;case 19:if(V(Be),a=t.memoizedState,a===null)return Ge(t),null;if(f=(t.flags&128)!==0,p=a.rendering,p===null)if(f)Ul(a,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Uo(e),p!==null){for(t.flags|=128,Ul(a,!1),e=p.updateQueue,t.updateQueue=e,Jo(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)gc(l,e),l=l.sibling;return X(Be,Be.current&1|2),ve&&en(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&yt()>$o&&(t.flags|=128,f=!0,Ul(a,!1),t.lanes=4194304)}else{if(!f)if(e=Uo(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,Jo(t,e),Ul(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!ve)return Ge(t),null}else 2*yt()-a.renderingStartTime>$o&&l!==536870912&&(t.flags|=128,f=!0,Ul(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(e=a.last,e!==null?e.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=yt(),e.sibling=null,l=Be.current,X(Be,f?l&1|2:l&1),ve&&en(t,a.treeForkCount),e):(Ge(t),null);case 22:case 23:return Ct(t),Ra(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),l=t.updateQueue,l!==null&&Jo(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&V(ti),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),nn(Fe),Ge(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Wg(e,t){switch(pa(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Fe),j(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return st(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(s(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Be),null;case 4:return j(),null;case 10:return nn(t.type),null;case 22:case 23:return Ct(t),Ra(),e!==null&&V(ti),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Fe),null;case 25:return null;default:return null}}function Yf(e,t){switch(pa(t),t.tag){case 3:nn(Fe),j();break;case 26:case 27:case 5:st(t);break;case 4:j();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:V(Be);break;case 10:nn(t.type);break;case 22:case 23:Ct(t),Ra(),e!==null&&V(ti);break;case 24:nn(Fe)}}function Ll(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var f=a.next;l=f;do{if((l.tag&e)===e){a=void 0;var p=l.create,T=l.inst;a=p(),T.destroy=a}l=l.next}while(l!==f)}}catch(C){Ie(t,t.return,C)}}function Dn(e,t,l){try{var a=t.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&e)===e){var T=a.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=t;var A=l,D=C;try{D()}catch(q){Ie(f,A,q)}}}a=a.next}while(a!==p)}}catch(q){Ie(t,t.return,q)}}function Ff(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Lc(t,l)}catch(a){Ie(e,e.return,a)}}}function Jf(e,t,l){l.props=si(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ie(e,t,a)}}function ql(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(f){Ie(e,t,f)}}function Jt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(f){Ie(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ie(e,t,f)}else l.current=null}function Qf(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(f){Ie(e,e.return,f)}}function sr(e,t,l){try{var a=e.stateNode;Sy(a,e.type,l,t),a[ct]=t}catch(f){Ie(e,e.return,f)}}function Kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function ar(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=$t));else if(a!==4&&(a===27&&Hn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(rr(e,t,l),e=e.sibling;e!==null;)rr(e,t,l),e=e.sibling}function Qo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Hn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Qo(e,t,l),e=e.sibling;e!==null;)Qo(e,t,l),e=e.sibling}function Xf(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);lt(t,a,l),t[et]=e,t[ct]=l}catch(p){Ie(e,e.return,p)}}var rn=!1,Ke=!1,ur=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,We=null;function jg(e,t){if(e=e.containerInfo,Dr=ms,e=ac(e),na(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var f=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,C=-1,A=-1,D=0,q=0,k=e,b=null;t:for(;;){for(var w;k!==l||f!==0&&k.nodeType!==3||(C=T+f),k!==p||a!==0&&k.nodeType!==3||(A=T+a),k.nodeType===3&&(T+=k.nodeValue.length),(w=k.firstChild)!==null;)b=k,k=w;for(;;){if(k===e)break t;if(b===l&&++D===f&&(C=T),b===p&&++q===a&&(A=T),(w=k.nextSibling)!==null)break;k=b,b=k.parentNode}k=w}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(br={focusedElem:e,selectionRange:l},ms=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=t,f=p.memoizedProps,p=p.memoizedState,a=l.stateNode;try{var $=si(l.type,f);e=a.getSnapshotBeforeUpdate($,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ie(l,l.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Lr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function $f(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),a&4&&Ll(5,l);break;case 1:if(cn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(T){Ie(l,l.return,T)}else{var f=si(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ie(l,l.return,T)}}a&64&&Ff(l),a&512&&ql(l,l.return);break;case 3:if(cn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Lc(e,t)}catch(T){Ie(l,l.return,T)}}break;case 27:t===null&&a&4&&Xf(l);case 26:case 5:cn(e,l),t===null&&a&4&&Qf(l),a&512&&ql(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),a&4&&ed(e,l);break;case 13:cn(e,l),a&4&&td(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=ry.bind(null,l),Ry(e,l))));break;case 22:if(a=l.memoizedState!==null||rn,!a){t=t!==null&&t.memoizedState!==null||Ke,f=rn;var p=Ke;rn=a,(Ke=t)&&!p?fn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=f,Ke=p}break;case 30:break;default:cn(e,l)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,dt=!1;function un(e,t,l){for(l=l.child;l!==null;)jf(e,t,l),l=l.sibling}function jf(e,t,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ol,l)}catch{}switch(l.tag){case 26:Ke||Jt(l,t),un(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||Jt(l,t);var a=Pe,f=dt;Hn(l.type)&&(Pe=l.stateNode,dt=!1),un(e,t,l),Yl(l.stateNode),Pe=a,dt=f;break;case 5:Ke||Jt(l,t);case 6:if(a=Pe,f=dt,Pe=null,un(e,t,l),Pe=a,dt=f,Pe!==null)if(dt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(l.stateNode)}catch(p){Ie(l,t,p)}else try{Pe.removeChild(l.stateNode)}catch(p){Ie(l,t,p)}break;case 18:Pe!==null&&(dt?(e=Pe,Fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ki(e)):Fd(Pe,l.stateNode));break;case 4:a=Pe,f=dt,Pe=l.stateNode.containerInfo,dt=!0,un(e,t,l),Pe=a,dt=f;break;case 0:case 11:case 14:case 15:Dn(2,l,t),Ke||Dn(4,l,t),un(e,t,l);break;case 1:Ke||(Jt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Jf(l,t,a)),un(e,t,l);break;case 21:un(e,t,l);break;case 22:Ke=(a=Ke)||l.memoizedState!==null,un(e,t,l),Ke=a;break;default:un(e,t,l)}}function ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ki(e)}catch(l){Ie(t,t.return,l)}}}function td(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ki(e)}catch(l){Ie(t,t.return,l)}}function ey(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Zf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Zf),t;default:throw Error(s(435,e.tag))}}function Ko(e,t){var l=ey(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var f=uy.bind(null,e,a);a.then(f,f)}})}function pt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var f=l[a],p=e,T=t,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Hn(C.type)){Pe=C.stateNode,dt=!1;break e}break;case 5:Pe=C.stateNode,dt=!1;break e;case 3:case 4:Pe=C.stateNode.containerInfo,dt=!0;break e}C=C.return}if(Pe===null)throw Error(s(160));jf(p,T,f),Pe=null,dt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nd(t,e),t=t.sibling}var Vt=null;function nd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),mt(e),a&4&&(Dn(3,e,e.return),Ll(3,e),Dn(5,e,e.return));break;case 1:pt(t,e),mt(e),a&512&&(Ke||l===null||Jt(l,l.return)),a&64&&rn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var f=Vt;if(pt(t,e),mt(e),a&512&&(Ke||l===null||Jt(l,l.return)),a&4){var p=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":p=f.getElementsByTagName("title")[0],(!p||p[rl]||p[et]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(a),f.head.insertBefore(p,f.querySelector("head > title"))),lt(p,a,l),p[et]=e,$e(p),a=p;break e;case"link":var T=np("link","href",f).get(a+(l.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(C,1);break t}}p=f.createElement(a),lt(p,a,l),f.head.appendChild(p);break;case"meta":if(T=np("meta","content",f).get(a+(l.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(C,1);break t}}p=f.createElement(a),lt(p,a,l),f.head.appendChild(p);break;default:throw Error(s(468,a))}p[et]=e,$e(p),a=p}e.stateNode=a}else ip(f,e.type,e.stateNode);else e.stateNode=tp(f,a,e.memoizedProps);else p!==a?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,a===null?ip(f,e.type,e.stateNode):tp(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&sr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(t,e),mt(e),a&512&&(Ke||l===null||Jt(l,l.return)),l!==null&&a&4&&sr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(t,e),mt(e),a&512&&(Ke||l===null||Jt(l,l.return)),e.flags&32){f=e.stateNode;try{yi(f,"")}catch($){Ie(e,e.return,$)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,sr(e,f,l!==null?l.memoizedProps:f)),a&1024&&(ur=!0);break;case 6:if(pt(t,e),mt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch($){Ie(e,e.return,$)}}break;case 3:if(cs=null,f=Vt,Vt=rs(t.containerInfo),pt(t,e),Vt=f,mt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ki(t.containerInfo)}catch($){Ie(e,e.return,$)}ur&&(ur=!1,id(e));break;case 4:a=Vt,Vt=rs(e.stateNode.containerInfo),pt(t,e),mt(e),Vt=a;break;case 12:pt(t,e),mt(e);break;case 31:pt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ko(e,a)));break;case 13:pt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zo=yt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ko(e,a)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=rn,q=Ke;if(rn=D||f,Ke=q||A,pt(t,e),Ke=q,rn=D,mt(e),a&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(l===null||A||rn||Ke||ai(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(p=A.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var k=A.memoizedProps.style,b=k!=null&&k.hasOwnProperty("display")?k.display:null;C.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch($){Ie(A,A.return,$)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch($){Ie(A,A.return,$)}}}else if(t.tag===18){if(l===null){A=t;try{var w=A.stateNode;f?Jd(w,!0):Jd(A.stateNode,!1)}catch($){Ie(A,A.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Ko(e,l))));break;case 19:pt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ko(e,a)));break;case 30:break;case 21:break;default:pt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Kf(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,p=ar(e);Qo(e,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(yi(T,""),l.flags&=-33);var C=ar(e);Qo(e,C,T);break;case 3:case 4:var A=l.stateNode.containerInfo,D=ar(e);rr(e,D,A);break;default:throw Error(s(161))}}catch(q){Ie(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function id(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;id(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$f(e,t.alternate,t),t=t.sibling}function ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Dn(4,t,t.return),ai(t);break;case 1:Jt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Jf(t,t.return,l),ai(t);break;case 27:Yl(t.stateNode);case 26:case 5:Jt(t,t.return),ai(t);break;case 22:t.memoizedState===null&&ai(t);break;case 30:ai(t);break;default:ai(t)}e=e.sibling}}function fn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,f=e,p=t,T=p.flags;switch(p.tag){case 0:case 11:case 15:fn(f,p,l),Ll(4,p);break;case 1:if(fn(f,p,l),a=p,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Ie(a,a.return,D)}if(a=p,f=a.updateQueue,f!==null){var C=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Uc(A[f],C)}catch(D){Ie(a,a.return,D)}}l&&T&64&&Ff(p),ql(p,p.return);break;case 27:Xf(p);case 26:case 5:fn(f,p,l),l&&a===null&&T&4&&Qf(p),ql(p,p.return);break;case 12:fn(f,p,l);break;case 31:fn(f,p,l),l&&T&4&&ed(f,p);break;case 13:fn(f,p,l),l&&T&4&&td(f,p);break;case 22:p.memoizedState===null&&fn(f,p,l),ql(p,p.return);break;case 30:break;default:fn(f,p,l)}t=t.sibling}}function cr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&El(l))}function fr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e))}function zt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ld(e,t,l,a),t=t.sibling}function ld(e,t,l,a){var f=t.flags;switch(t.tag){case 0:case 11:case 15:zt(e,t,l,a),f&2048&&Ll(9,t);break;case 1:zt(e,t,l,a);break;case 3:zt(e,t,l,a),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e)));break;case 12:if(f&2048){zt(e,t,l,a),e=t.stateNode;try{var p=t.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ie(t,t.return,A)}}else zt(e,t,l,a);break;case 31:zt(e,t,l,a);break;case 13:zt(e,t,l,a);break;case 23:break;case 22:p=t.stateNode,T=t.alternate,t.memoizedState!==null?p._visibility&2?zt(e,t,l,a):Gl(e,t):p._visibility&2?zt(e,t,l,a):(p._visibility|=2,Hi(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),f&2048&&cr(T,t);break;case 24:zt(e,t,l,a),f&2048&&fr(t.alternate,t);break;default:zt(e,t,l,a)}}function Hi(e,t,l,a,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,T=t,C=l,A=a,D=T.flags;switch(T.tag){case 0:case 11:case 15:Hi(p,T,C,A,f),Ll(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?Hi(p,T,C,A,f):Gl(p,T):(q._visibility|=2,Hi(p,T,C,A,f)),f&&D&2048&&cr(T.alternate,T);break;case 24:Hi(p,T,C,A,f),f&&D&2048&&fr(T.alternate,T);break;default:Hi(p,T,C,A,f)}t=t.sibling}}function Gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,f=a.flags;switch(a.tag){case 22:Gl(l,a),f&2048&&cr(a.alternate,a);break;case 24:Gl(l,a),f&2048&&fr(a.alternate,a);break;default:Gl(l,a)}t=t.sibling}}var Hl=8192;function Pi(e,t,l){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)od(e,t,l),e=e.sibling}function od(e,t,l){switch(e.tag){case 26:Pi(e,t,l),e.flags&Hl&&e.memoizedState!==null&&Vy(l,Vt,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,t,l);break;case 3:case 4:var a=Vt;Vt=rs(e.stateNode.containerInfo),Pi(e,t,l),Vt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Hl,Hl=16777216,Pi(e,t,l),Hl=a):Pi(e,t,l));break;default:Pi(e,t,l)}}function sd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];We=a,rd(a,e)}sd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ad(e),e=e.sibling}function ad(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xo(e)):Pl(e);break;default:Pl(e)}}function Xo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];We=a,rd(a,e)}sd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Dn(8,t,t.return),Xo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Xo(t));break;default:Xo(t)}e=e.sibling}}function rd(e,t){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:Dn(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:El(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,We=a;else e:for(l=e;We!==null;){a=We;var f=a.sibling,p=a.return;if(Wf(a),a===l){We=null;break e}if(f!==null){f.return=p,We=f;break e}We=p}}}var ty={getCacheForType:function(e){var t=nt(Fe),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return nt(Fe).controller.signal}},ny=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,me=null,ge=0,Re=0,At=null,bn=!1,ki=!1,dr=!1,dn=0,ze=0,wn=0,ri=0,pr=0,xt=0,Vi=0,kl=null,ht=null,mr=!1,Zo=0,ud=0,$o=1/0,Wo=null,Un=null,Xe=0,Ln=null,zi=null,pn=0,hr=0,gr=null,cd=null,Vl=0,yr=null;function Nt(){return(Ne&2)!==0&&ge!==0?ge&-ge:U.T!==null?Cr():xu()}function fd(){if(xt===0)if((ge&536870912)===0||ve){var e=oo;oo<<=1,(oo&3932160)===0&&(oo=262144),xt=e}else xt=536870912;return e=_t.current,e!==null&&(e.flags|=32),xt}function gt(e,t,l){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Bi(e,0),qn(e,ge,xt,!1)),al(e,l),((Ne&2)===0||e!==Le)&&(e===Le&&((Ne&2)===0&&(ri|=l),ze===4&&qn(e,ge,xt,!1)),Qt(e))}function dd(e,t,l){if((Ne&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||sl(e,t),f=a?oy(e,t):Tr(e,t,!0),p=a;do{if(f===0){ki&&!a&&qn(e,t,0,!1);break}else{if(l=e.current.alternate,p&&!iy(l)){f=Tr(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){t=T;e:{var C=e;f=kl;var A=C.current.memoizedState.isDehydrated;if(A&&(Bi(C,T).flags|=256),T=Tr(C,T,!1),T!==2){if(dr&&!A){C.errorRecoveryDisabledLanes|=p,ri|=p,f=4;break e}p=ht,ht=f,p!==null&&(ht===null?ht=p:ht.push.apply(ht,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Bi(e,0),qn(e,t,0,!0);break}e:{switch(a=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:qn(a,t,xt,!bn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=Zo+300-yt(),10<f)){if(qn(a,t,xt,!bn),ao(a,0,!0)!==0)break e;pn=t,a.timeoutHandle=Od(pd.bind(null,a,l,ht,Wo,mr,t,xt,ri,Vi,bn,p,"Throttled",-0,0),f);break e}pd(a,l,ht,Wo,mr,t,xt,ri,Vi,bn,p,null,-0,0)}}break}while(!0);Qt(e)}function pd(e,t,l,a,f,p,T,C,A,D,q,k,b,w){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},od(t,p,k);var $=(p&62914560)===p?Zo-yt():(p&4194048)===p?ud-yt():0;if($=zy(k,$),$!==null){pn=p,e.cancelPendingCommit=$(Ed.bind(null,e,t,p,l,a,f,T,C,A,q,k,null,b,w)),qn(e,p,T,!D);return}}Ed(e,t,p,l,a,f,T,C,A)}function iy(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var f=l[a],p=f.getSnapshot;f=f.value;try{if(!St(p(),f))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t,l,a){t&=~pr,t&=~ri,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var f=t;0<f;){var p=31-Tt(f),T=1<<p;a[p]=-1,f&=~T}l!==0&&_u(e,l,t)}function jo(){return(Ne&6)===0?(zl(0),!1):!0}function vr(){if(me!==null){if(Re===0)var e=me.return;else e=me,tn=jn=null,La(e),wi=null,Cl=0,e=me;for(;e!==null;)Yf(e.alternate,e),e=e.return;me=null}}function Bi(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Cy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,vr(),Le=e,me=l=jt(e.current,null),ge=t,Re=0,At=null,bn=!1,ki=sl(e,t),dr=!1,Vi=xt=pr=ri=wn=ze=0,ht=kl=null,mr=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var f=31-Tt(a),p=1<<f;t|=e[f],a&=~p}return dn=t,So(),l}function md(e,t){re=null,U.H=bl,t===bi||t===Ro?(t=Ic(),Re=3):t===_a?(t=Ic(),Re=4):Re=t===Za?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,me===null&&(ze=1,Bo(e,Dt(t,e.current)))}function hd(){var e=_t.current;return e===null?!0:(ge&4194048)===ge?Lt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===Lt:!1}function gd(){var e=U.H;return U.H=bl,e===null?bl:e}function yd(){var e=U.A;return U.A=ty,e}function es(){ze=4,bn||(ge&4194048)!==ge&&_t.current!==null||(ki=!0),(wn&134217727)===0&&(ri&134217727)===0||Le===null||qn(Le,ge,xt,!1)}function Tr(e,t,l){var a=Ne;Ne|=2;var f=gd(),p=yd();(Le!==e||ge!==t)&&(Wo=null,Bi(e,t)),t=!1;var T=ze;e:do try{if(Re!==0&&me!==null){var C=me,A=At;switch(Re){case 8:vr(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var D=Re;if(Re=0,At=null,Oi(e,C,A,D),l&&ki){T=0;break e}break;default:D=Re,Re=0,At=null,Oi(e,C,A,D)}}ly(),T=ze;break}catch(q){md(e,q)}while(!0);return t&&e.shellSuspendCounter++,tn=jn=null,Ne=a,U.H=f,U.A=p,me===null&&(Le=null,ge=0,So()),T}function ly(){for(;me!==null;)vd(me)}function oy(e,t){var l=Ne;Ne|=2;var a=gd(),f=yd();Le!==e||ge!==t?(Wo=null,$o=yt()+500,Bi(e,t)):ki=sl(e,t);e:do try{if(Re!==0&&me!==null){t=me;var p=At;t:switch(Re){case 1:Re=0,At=null,Oi(e,t,p,1);break;case 2:case 9:if(Mc(p)){Re=0,At=null,Td(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),Qt(e)},p.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Mc(p)?(Re=0,At=null,Td(t)):(Re=0,At=null,Oi(e,t,p,7));break;case 5:var T=null;switch(me.tag){case 26:T=me.memoizedState;case 5:case 27:var C=me;if(T?lp(T):C.stateNode.complete){Re=0,At=null;var A=C.sibling;if(A!==null)me=A;else{var D=C.return;D!==null?(me=D,ts(D)):me=null}break t}}Re=0,At=null,Oi(e,t,p,5);break;case 6:Re=0,At=null,Oi(e,t,p,6);break;case 8:vr(),ze=6;break e;default:throw Error(s(462))}}sy();break}catch(q){md(e,q)}while(!0);return tn=jn=null,U.H=a,U.A=f,Ne=l,me!==null?0:(Le=null,ge=0,So(),ze)}function sy(){for(;me!==null&&!Ih();)vd(me)}function vd(e){var t=Bf(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?ts(e):me=t}function Td(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Gf(l,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Gf(l,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:La(t);default:Yf(l,t),t=me=gc(t,dn),t=Bf(l,t,dn)}e.memoizedProps=e.pendingProps,t===null?ts(e):me=t}function Oi(e,t,l,a){tn=jn=null,La(t),wi=null,Cl=0;var f=t.return;try{if(Kg(e,f,t,l,ge)){ze=1,Bo(e,Dt(l,e.current)),me=null;return}}catch(p){if(f!==null)throw me=f,p;ze=1,Bo(e,Dt(l,e.current)),me=null;return}t.flags&32768?(ve||a===1?e=!0:ki||(ge&536870912)!==0?e=!1:(bn=e=!0,(a===2||a===9||a===3||a===6)&&(a=_t.current,a!==null&&a.tag===13&&(a.flags|=16384))),Sd(t,e)):ts(t)}function ts(e){var t=e;do{if((t.flags&32768)!==0){Sd(t,bn);return}e=t.return;var l=$g(t.alternate,t,dn);if(l!==null){me=l;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ze===0&&(ze=5)}function Sd(e,t){do{var l=Wg(e.alternate,e);if(l!==null){l.flags&=32767,me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=l}while(e!==null);ze=6,me=null}function Ed(e,t,l,a,f,p,T,C,A){e.cancelPendingCommit=null;do ns();while(Xe!==0);if((Ne&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=aa,kh(e,l,p,T,C,A),e===Le&&(me=Le=null,ge=0),zi=t,Ln=e,pn=l,hr=p,gr=f,cd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cy(io,function(){return Nd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,f=J.p,J.p=2,T=Ne,Ne|=4;try{jg(e,t,l)}finally{Ne=T,J.p=f,U.T=a}}Xe=1,_d(),Cd(),Ad()}}function _d(){if(Xe===1){Xe=0;var e=Ln,t=zi,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var a=J.p;J.p=2;var f=Ne;Ne|=4;try{nd(t,e);var p=br,T=ac(e.containerInfo),C=p.focusedElem,A=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&sc(C.ownerDocument.documentElement,C)){if(A!==null&&na(C)){var D=A.start,q=A.end;if(q===void 0&&(q=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(q,C.value.length);else{var k=C.ownerDocument||document,b=k&&k.defaultView||window;if(b.getSelection){var w=b.getSelection(),$=C.textContent.length,le=Math.min(A.start,$),we=A.end===void 0?le:Math.min(A.end,$);!w.extend&&le>we&&(T=we,we=le,le=T);var R=oc(C,le),N=oc(C,we);if(R&&N&&(w.rangeCount!==1||w.anchorNode!==R.node||w.anchorOffset!==R.offset||w.focusNode!==N.node||w.focusOffset!==N.offset)){var I=k.createRange();I.setStart(R.node,R.offset),w.removeAllRanges(),le>we?(w.addRange(I),w.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),w.addRange(I))}}}}for(k=[],w=C;w=w.parentNode;)w.nodeType===1&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<k.length;C++){var G=k[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ms=!!Dr,br=Dr=null}finally{Ne=f,J.p=a,U.T=l}}e.current=t,Xe=2}}function Cd(){if(Xe===2){Xe=0;var e=Ln,t=zi,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var a=J.p;J.p=2;var f=Ne;Ne|=4;try{$f(e,t.alternate,t)}finally{Ne=f,J.p=a,U.T=l}}Xe=3}}function Ad(){if(Xe===4||Xe===3){Xe=0,Dh();var e=Ln,t=zi,l=pn,a=cd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,zi=Ln=null,xd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Un=null),Hs(l),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ol,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=U.T,f=J.p,J.p=2,U.T=null;try{for(var p=e.onRecoverableError,T=0;T<a.length;T++){var C=a[T];p(C.value,{componentStack:C.stack})}}finally{U.T=t,J.p=f}}(pn&3)!==0&&ns(),Qt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===yr?Vl++:(Vl=0,yr=e):Vl=0,zl(0)}}function xd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,El(t)))}function ns(){return _d(),Cd(),Ad(),Nd()}function Nd(){if(Xe!==5)return!1;var e=Ln,t=hr;hr=0;var l=Hs(pn),a=U.T,f=J.p;try{J.p=32>l?32:l,U.T=null,l=gr,gr=null;var p=Ln,T=pn;if(Xe=0,zi=Ln=null,pn=0,(Ne&6)!==0)throw Error(s(331));var C=Ne;if(Ne|=4,ad(p.current),ld(p,p.current,T,l),Ne=C,zl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ol,p)}catch{}return!0}finally{J.p=f,U.T=a,xd(e,t)}}function Md(e,t,l){t=Dt(l,t),t=Xa(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(al(e,2),Qt(e))}function Ie(e,t,l){if(e.tag===3)Md(e,e,l);else for(;t!==null;){if(t.tag===3){Md(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Un===null||!Un.has(a))){e=Dt(l,e),l=Rf(2),a=Mn(t,l,2),a!==null&&(If(l,a,t,e),al(a,2),Qt(a));break}}t=t.return}}function Sr(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ny;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(l)||(dr=!0,f.add(l),e=ay.bind(null,e,t,l),t.then(e,e))}function ay(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Le===e&&(ge&l)===l&&(ze===4||ze===3&&(ge&62914560)===ge&&300>yt()-Zo?(Ne&2)===0&&Bi(e,0):pr|=l,Vi===ge&&(Vi=0)),Qt(e)}function Rd(e,t){t===0&&(t=Eu()),e=Zn(e,t),e!==null&&(al(e,t),Qt(e))}function ry(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Rd(e,l)}function uy(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Rd(e,l)}function cy(e,t){return Us(e,t)}var is=null,Yi=null,Er=!1,ls=!1,_r=!1,Gn=0;function Qt(e){e!==Yi&&e.next===null&&(Yi===null?is=Yi=e:Yi=Yi.next=e),ls=!0,Er||(Er=!0,dy())}function zl(e,t){if(!_r&&ls){_r=!0;do for(var l=!1,a=is;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var p=0;else{var T=a.suspendedLanes,C=a.pingedLanes;p=(1<<31-Tt(42|e)+1)-1,p&=f&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,wd(a,p))}else p=ge,p=ao(a,a===Le?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||sl(a,p)||(l=!0,wd(a,p));a=a.next}while(l);_r=!1}}function fy(){Id()}function Id(){ls=Er=!1;var e=0;Gn!==0&&_y()&&(e=Gn);for(var t=yt(),l=null,a=is;a!==null;){var f=a.next,p=Dd(a,t);p===0?(a.next=null,l===null?is=f:l.next=f,f===null&&(Yi=l)):(l=a,(e!==0||(p&3)!==0)&&(ls=!0)),a=f}Xe!==0&&Xe!==5||zl(e),Gn!==0&&(Gn=0)}function Dd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-Tt(p),C=1<<T,A=f[T];A===-1?((C&l)===0||(C&a)!==0)&&(f[T]=Ph(C,t)):A<=t&&(e.expiredLanes|=C),p&=~C}if(t=Le,l=ge,l=ao(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ls(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||sl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ls(a),Hs(l)){case 2:case 8:l=Tu;break;case 32:l=io;break;case 268435456:l=Su;break;default:l=io}return a=bd.bind(null,e),l=Us(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ls(a),e.callbackPriority=2,e.callbackNode=null,2}function bd(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ns()&&e.callbackNode!==l)return null;var a=ge;return a=ao(e,e===Le?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(dd(e,a,t),Dd(e,yt()),e.callbackNode!=null&&e.callbackNode===l?bd.bind(null,e):null)}function wd(e,t){if(ns())return null;dd(e,t,!0)}function dy(){Ay(function(){(Ne&6)!==0?Us(vu,fy):Id()})}function Cr(){if(Gn===0){var e=Ii;e===0&&(e=lo,lo<<=1,(lo&261888)===0&&(lo=256)),Gn=e}return Gn}function Ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fo(""+e)}function Ld(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function py(e,t,l,a,f){if(t==="submit"&&l&&l.stateNode===f){var p=Ud((f[ct]||null).action),T=a.submitter;T&&(t=(t=T[ct]||null)?Ud(t.formAction):T.getAttribute("formAction"),t!==null&&(p=t,T=null));var C=new go("action","action",null,a,f);e.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Gn!==0){var A=T?Ld(f,T):new FormData(f);Oa(l,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(C.preventDefault(),A=T?Ld(f,T):new FormData(f),Oa(l,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Ar=0;Ar<sa.length;Ar++){var xr=sa[Ar],my=xr.toLowerCase(),hy=xr[0].toUpperCase()+xr.slice(1);kt(my,"on"+hy)}kt(cc,"onAnimationEnd"),kt(fc,"onAnimationIteration"),kt(dc,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(bg,"onTransitionRun"),kt(wg,"onTransitionStart"),kt(Ug,"onTransitionCancel"),kt(pc,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function qd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],f=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var T=a.length-1;0<=T;T--){var C=a[T],A=C.instance,D=C.currentTarget;if(C=C.listener,A!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=D;try{p(f)}catch(q){To(q)}f.currentTarget=null,p=A}else for(T=0;T<a.length;T++){if(C=a[T],A=C.instance,D=C.currentTarget,C=C.listener,A!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=D;try{p(f)}catch(q){To(q)}f.currentTarget=null,p=A}}}}function he(e,t){var l=t[Ps];l===void 0&&(l=t[Ps]=new Set);var a=e+"__bubble";l.has(a)||(Gd(t,e,2,!1),l.add(a))}function Nr(e,t,l){var a=0;t&&(a|=4),Gd(l,e,a,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[os]){e[os]=!0,Ru.forEach(function(l){l!=="selectionchange"&&(gy.has(l)||Nr(l,!1,e),Nr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,Nr("selectionchange",!1,t))}}function Gd(e,t,l,a){switch(fp(t)){case 2:var f=Yy;break;case 8:f=Fy;break;default:f=Br}l=f.bind(null,t,l,e),f=void 0,!Qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,l,{capture:!0,passive:f}):e.addEventListener(t,l,!0):f!==void 0?e.addEventListener(t,l,{passive:f}):e.addEventListener(t,l,!1)}function Rr(e,t,l,a,f){var p=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var C=a.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=di(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=p=T;continue e}C=C.parentNode}}a=a.return}Vu(function(){var D=p,q=Fs(l),k=[];e:{var b=mc.get(e);if(b!==void 0){var w=go,$=e;switch(e){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":w=ug;break;case"focusin":$="focus",w=$s;break;case"focusout":$="blur",w=$s;break;case"beforeblur":case"afterblur":w=$s;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=dg;break;case cc:case fc:case dc:w=eg;break;case pc:w=mg;break;case"scroll":case"scrollend":w=Xh;break;case"wheel":w=gg;break;case"copy":case"cut":case"paste":w=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Fu;break;case"toggle":case"beforetoggle":w=vg}var le=(t&4)!==0,we=!le&&(e==="scroll"||e==="scrollend"),R=le?b!==null?b+"Capture":null:b;le=[];for(var N=D,I;N!==null;){var G=N;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||R===null||(G=cl(N,R),G!=null&&le.push(Ol(N,G,I))),we)break;N=N.return}0<le.length&&(b=new w(b,$,null,l,q),k.push({event:b,listeners:le}))}}if((t&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",b&&l!==Ys&&($=l.relatedTarget||l.fromElement)&&(di($)||$[fi]))break e;if((w||b)&&(b=q.window===q?q:(b=q.ownerDocument)?b.defaultView||b.parentWindow:window,w?($=l.relatedTarget||l.toElement,w=D,$=$?di($):null,$!==null&&(we=d($),le=$.tag,$!==we||le!==5&&le!==27&&le!==6)&&($=null)):(w=null,$=D),w!==$)){if(le=Ou,G="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(le=Fu,G="onPointerLeave",R="onPointerEnter",N="pointer"),we=w==null?b:ul(w),I=$==null?b:ul($),b=new le(G,N+"leave",w,l,q),b.target=we,b.relatedTarget=I,G=null,di(q)===D&&(le=new le(R,N+"enter",$,l,q),le.target=I,le.relatedTarget=we,G=le),we=G,w&&$)t:{for(le=yy,R=w,N=$,I=0,G=R;G;G=le(G))I++;G=0;for(var ne=N;ne;ne=le(ne))G++;for(;0<I-G;)R=le(R),I--;for(;0<G-I;)N=le(N),G--;for(;I--;){if(R===N||N!==null&&R===N.alternate){le=R;break t}R=le(R),N=le(N)}le=null}else le=null;w!==null&&Hd(k,b,w,le,!1),$!==null&&we!==null&&Hd(k,we,$,le,!0)}}e:{if(b=D?ul(D):window,w=b.nodeName&&b.nodeName.toLowerCase(),w==="select"||w==="input"&&b.type==="file")var _e=ju;else if($u(b))if(ec)_e=Rg;else{_e=Ng;var ee=xg}else w=b.nodeName,!w||w.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?D&&Os(D.elementType)&&(_e=ju):_e=Mg;if(_e&&(_e=_e(e,D))){Wu(k,_e,l,q);break e}ee&&ee(e,b,D),e==="focusout"&&D&&b.type==="number"&&D.memoizedProps.value!=null&&Bs(b,"number",b.value)}switch(ee=D?ul(D):window,e){case"focusin":($u(ee)||ee.contentEditable==="true")&&(Ei=ee,ia=D,vl=null);break;case"focusout":vl=ia=Ei=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,rc(k,l,q);break;case"selectionchange":if(Dg)break;case"keydown":case"keyup":rc(k,l,q)}var ue;if(js)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Si?Xu(e,l)&&(ye="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(Ju&&l.locale!=="ko"&&(Si||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Si&&(ue=zu()):(Sn=q,Ks="value"in Sn?Sn.value:Sn.textContent,Si=!0)),ee=ss(D,ye),0<ee.length&&(ye=new Yu(ye,e,null,l,q),k.push({event:ye,listeners:ee}),ue?ye.data=ue:(ue=Zu(l),ue!==null&&(ye.data=ue)))),(ue=Sg?Eg(e,l):_g(e,l))&&(ye=ss(D,"onBeforeInput"),0<ye.length&&(ee=new Yu("onBeforeInput","beforeinput",null,l,q),k.push({event:ee,listeners:ye}),ee.data=ue)),py(k,e,D,l,q)}qd(k,t)})}function Ol(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ss(e,t){for(var l=t+"Capture",a=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=cl(e,l),f!=null&&a.unshift(Ol(e,f,p)),f=cl(e,t),f!=null&&a.push(Ol(e,f,p))),e.tag===3)return a;e=e.return}return[]}function yy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hd(e,t,l,a,f){for(var p=t._reactName,T=[];l!==null&&l!==a;){var C=l,A=C.alternate,D=C.stateNode;if(C=C.tag,A!==null&&A===a)break;C!==5&&C!==26&&C!==27||D===null||(A=D,f?(D=cl(l,p),D!=null&&T.unshift(Ol(l,D,A))):f||(D=cl(l,p),D!=null&&T.push(Ol(l,D,A)))),l=l.return}T.length!==0&&e.push({event:t,listeners:T})}var vy=/\r\n?/g,Ty=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace(vy,`
`).replace(Ty,"")}function kd(e,t){return t=Pd(t),Pd(e)===t}function be(e,t,l,a,f,p){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||yi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&yi(e,""+a);break;case"className":uo(e,"class",a);break;case"tabIndex":uo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(e,l,a);break;case"style":Pu(e,a,p);break;case"data":if(t!=="object"){uo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=fo(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(t!=="input"&&be(e,t,"name",f.name,f,null),be(e,t,"formEncType",f.formEncType,f,null),be(e,t,"formMethod",f.formMethod,f,null),be(e,t,"formTarget",f.formTarget,f,null)):(be(e,t,"encType",f.encType,f,null),be(e,t,"method",f.method,f,null),be(e,t,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=fo(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=$t);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=fo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":he("beforetoggle",e),he("toggle",e),ro(e,"popover",a);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ro(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qh.get(l)||l,ro(e,l,a))}}function Ir(e,t,l,a,f,p){switch(l){case"style":Pu(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?yi(e,a):(typeof a=="number"||typeof a=="bigint")&&yi(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),t=l.slice(2,f?l.length-7:void 0),p=e[ct]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof a=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,f);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ro(e,l,a)}}}function lt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:be(e,t,p,T,l,null)}}f&&be(e,t,"srcSet",l.srcSet,l,null),a&&be(e,t,"src",l.src,l,null);return;case"input":he("invalid",e);var C=p=T=f=null,A=null,D=null;for(a in l)if(l.hasOwnProperty(a)){var q=l[a];if(q!=null)switch(a){case"name":f=q;break;case"type":T=q;break;case"checked":A=q;break;case"defaultChecked":D=q;break;case"value":p=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:be(e,t,a,q,l,null)}}Lu(e,p,C,A,D,T,f,!1);return;case"select":he("invalid",e),a=T=p=null;for(f in l)if(l.hasOwnProperty(f)&&(C=l[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":a=C;default:be(e,t,f,C,l,null)}t=p,l=T,e.multiple=!!a,t!=null?gi(e,!!a,t,!1):l!=null&&gi(e,!!a,l,!0);return;case"textarea":he("invalid",e),p=f=a=null;for(T in l)if(l.hasOwnProperty(T)&&(C=l[T],C!=null))switch(T){case"value":a=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:be(e,t,T,C,l,null)}Gu(e,a,f,p);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:be(e,t,A,a,l,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Bl.length;a++)he(Bl[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(a=l[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:be(e,t,D,a,l,null)}return;default:if(Os(t)){for(q in l)l.hasOwnProperty(q)&&(a=l[q],a!==void 0&&Ir(e,t,q,a,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!=null&&be(e,t,C,a,l,null))}function Sy(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,C=null,A=null,D=null,q=null;for(w in l){var k=l[w];if(l.hasOwnProperty(w)&&k!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":A=k;default:a.hasOwnProperty(w)||be(e,t,w,null,a,k)}}for(var b in a){var w=a[b];if(k=l[b],a.hasOwnProperty(b)&&(w!=null||k!=null))switch(b){case"type":p=w;break;case"name":f=w;break;case"checked":D=w;break;case"defaultChecked":q=w;break;case"value":T=w;break;case"defaultValue":C=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(137,t));break;default:w!==k&&be(e,t,b,w,a,k)}}zs(e,T,C,A,D,q,p,f);return;case"select":w=T=C=b=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":w=A;default:a.hasOwnProperty(p)||be(e,t,p,null,a,A)}for(f in a)if(p=a[f],A=l[f],a.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":b=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==A&&be(e,t,f,p,a,A)}t=C,l=T,a=w,b!=null?gi(e,!!l,b,!1):!!a!=!!l&&(t!=null?gi(e,!!l,t,!0):gi(e,!!l,l?[]:"",!1));return;case"textarea":w=b=null;for(C in l)if(f=l[C],l.hasOwnProperty(C)&&f!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:be(e,t,C,null,a,f)}for(T in a)if(f=a[T],p=l[T],a.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":b=f;break;case"defaultValue":w=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&be(e,t,T,f,a,p)}qu(e,b,w);return;case"option":for(var $ in l)if(b=l[$],l.hasOwnProperty($)&&b!=null&&!a.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:be(e,t,$,null,a,b)}for(A in a)if(b=a[A],w=l[A],a.hasOwnProperty(A)&&b!==w&&(b!=null||w!=null))switch(A){case"selected":e.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:be(e,t,A,b,a,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)b=l[le],l.hasOwnProperty(le)&&b!=null&&!a.hasOwnProperty(le)&&be(e,t,le,null,a,b);for(D in a)if(b=a[D],w=l[D],a.hasOwnProperty(D)&&b!==w&&(b!=null||w!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(137,t));break;default:be(e,t,D,b,a,w)}return;default:if(Os(t)){for(var we in l)b=l[we],l.hasOwnProperty(we)&&b!==void 0&&!a.hasOwnProperty(we)&&Ir(e,t,we,void 0,a,b);for(q in a)b=a[q],w=l[q],!a.hasOwnProperty(q)||b===w||b===void 0&&w===void 0||Ir(e,t,q,b,a,w);return}}for(var R in l)b=l[R],l.hasOwnProperty(R)&&b!=null&&!a.hasOwnProperty(R)&&be(e,t,R,null,a,b);for(k in a)b=a[k],w=l[k],!a.hasOwnProperty(k)||b===w||b==null&&w==null||be(e,t,k,b,a,w)}function Vd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ey(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var f=l[a],p=f.transferSize,T=f.initiatorType,C=f.duration;if(p&&C&&Vd(T)){for(T=0,C=f.responseEnd,a+=1;a<l.length;a++){var A=l[a],D=A.startTime;if(D>C)break;var q=A.transferSize,k=A.initiatorType;q&&Vd(k)&&(A=A.responseEnd,T+=q*(A<C?1:(C-D)/(A-D)))}if(--a,t+=8*(p+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dr=null,br=null;function as(e){return e.nodeType===9?e:e.ownerDocument}function zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ur=null;function _y(){var e=window.event;return e&&e.type==="popstate"?e===Ur?!1:(Ur=e,!0):(Ur=null,!1)}var Od=typeof setTimeout=="function"?setTimeout:void 0,Cy=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(e){return Yd.resolve(null).then(e).catch(xy)}:Od;function xy(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function Fd(e,t){var l=t,a=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(f),Ki(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Yl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Yl(l);for(var p=l.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[rl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=T}}else l==="body"&&Yl(e.ownerDocument.body);l=f}while(l);Ki(t)}function Jd(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Lr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lr(l),ks(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ny(e,t,l,a){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[rl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function My(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=qt(e.nextSibling),e===null))return null;return e}function Qd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function qr(e){return e.data==="$?"||e.data==="$~"}function Gr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ry(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hr=null;function Kd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return qt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Zd(e,t,l){switch(t=as(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ks(e)}var Gt=new Map,$d=new Set;function rs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=J.d;J.d={f:Iy,r:Dy,D:by,C:wy,L:Uy,m:Ly,X:Gy,S:qy,M:Hy};function Iy(){var e=mn.f(),t=jo();return e||t}function Dy(e){var t=pi(e);t!==null&&t.tag===5&&t.type==="form"?mf(t):mn.r(e)}var Fi=typeof document>"u"?null:document;function Wd(e,t,l){var a=Fi;if(a&&typeof t=="string"&&t){var f=Rt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),$d.has(f)||($d.add(f),e={rel:e,crossOrigin:l,href:t},a.querySelector(f)===null&&(t=a.createElement("link"),lt(t,"link",e),$e(t),a.head.appendChild(t)))}}function by(e){mn.D(e),Wd("dns-prefetch",e,null)}function wy(e,t){mn.C(e,t),Wd("preconnect",e,t)}function Uy(e,t,l){mn.L(e,t,l);var a=Fi;if(a&&e&&t){var f='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Rt(l.imageSizes)+'"]')):f+='[href="'+Rt(e)+'"]';var p=f;switch(t){case"style":p=Ji(e);break;case"script":p=Qi(e)}Gt.has(p)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gt.set(p,e),a.querySelector(f)!==null||t==="style"&&a.querySelector(Fl(p))||t==="script"&&a.querySelector(Jl(p))||(t=a.createElement("link"),lt(t,"link",e),$e(t),a.head.appendChild(t)))}}function Ly(e,t){mn.m(e,t);var l=Fi;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+Rt(a)+'"][href="'+Rt(e)+'"]',p=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Qi(e)}if(!Gt.has(p)&&(e=S({rel:"modulepreload",href:e},t),Gt.set(p,e),l.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(p)))return}a=l.createElement("link"),lt(a,"link",e),$e(a),l.head.appendChild(a)}}}function qy(e,t,l){mn.S(e,t,l);var a=Fi;if(a&&e){var f=mi(a).hoistableStyles,p=Ji(e);t=t||"default";var T=f.get(p);if(!T){var C={loading:0,preload:null};if(T=a.querySelector(Fl(p)))C.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gt.get(p))&&Pr(e,l);var A=T=a.createElement("link");$e(A),lt(A,"link",e),A._p=new Promise(function(D,q){A.onload=D,A.onerror=q}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,us(T,t,a)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(p,T)}}}function Gy(e,t){mn.X(e,t);var l=Fi;if(l&&e){var a=mi(l).hoistableScripts,f=Qi(e),p=a.get(f);p||(p=l.querySelector(Jl(f)),p||(e=S({src:e,async:!0},t),(t=Gt.get(f))&&kr(e,t),p=l.createElement("script"),$e(p),lt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function Hy(e,t){mn.M(e,t);var l=Fi;if(l&&e){var a=mi(l).hoistableScripts,f=Qi(e),p=a.get(f);p||(p=l.querySelector(Jl(f)),p||(e=S({src:e,async:!0,type:"module"},t),(t=Gt.get(f))&&kr(e,t),p=l.createElement("script"),$e(p),lt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function jd(e,t,l,a){var f=(f=fe.current)?rs(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ji(l.href),l=mi(f).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ji(l.href);var p=mi(f).hoistableStyles,T=p.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=f.querySelector(Fl(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),p||Py(f,e,l,T.state))),t&&a===null)throw Error(s(528,""));return T}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qi(l),l=mi(f).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ji(e){return'href="'+Rt(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function ep(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Py(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),lt(t,"link",l),$e(t),e.head.appendChild(t))}function Qi(e){return'[src="'+Rt(e)+'"]'}function Jl(e){return"script[async]"+e}function tp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rt(l.href)+'"]');if(a)return t.instance=a,$e(a),a;var f=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$e(a),lt(a,"style",f),us(a,l.precedence,e),t.instance=a;case"stylesheet":f=Ji(l.href);var p=e.querySelector(Fl(f));if(p)return t.state.loading|=4,t.instance=p,$e(p),p;a=ep(l),(f=Gt.get(f))&&Pr(a,f),p=(e.ownerDocument||e).createElement("link"),$e(p);var T=p;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),lt(p,"link",a),t.state.loading|=4,us(p,l.precedence,e),t.instance=p;case"script":return p=Qi(l.src),(f=e.querySelector(Jl(p)))?(t.instance=f,$e(f),f):(a=l,(f=Gt.get(p))&&(a=S({},l),kr(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),$e(f),lt(f,"link",a),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,us(a,l.precedence,e));return t.instance}function us(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,p=f,T=0;T<a.length;T++){var C=a[T];if(C.dataset.precedence===t)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Pr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cs=null;function np(e,t,l){if(cs===null){var a=new Map,f=cs=new Map;f.set(l,a)}else f=cs,a=f.get(l),a||(a=new Map,f.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var p=l[f];if(!(p[rl]||p[et]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(t)||"";T=e+T;var C=a.get(T);C?C.push(p):a.set(T,[p])}}return a}function ip(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function ky(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Ji(a.href),p=t.querySelector(Fl(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=p,$e(p);return}p=t.ownerDocument||t,a=ep(a),(f=Gt.get(f))&&Pr(a,f),p=p.createElement("link"),$e(p);var T=p;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),lt(p,"link",a),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=fs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Vr=0;function zy(e,t){return e.stylesheets&&e.count===0&&ps(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ps(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Vr===0&&(Vr=62500*Ey());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ps(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Vr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function fs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ps(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ds=null;function ps(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ds=new Map,t.forEach(By,e),ds=null,fs.call(e))}function By(e,t){if(!(t.state.loading&4)){var l=ds.get(e);if(l)var a=l.get(null);else{l=new Map,ds.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}f=t.instance,T=f.getAttribute("data-precedence"),p=l.get(T)||a,p===a&&l.set(null,f),l.set(T,f),this.count++,a=fs.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Ql={$$typeof:O,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Oy(e,t,l,a,f,p,T,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.hiddenUpdates=qs(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function op(e,t,l,a,f,p,T,C,A,D,q,k){return e=new Oy(e,t,l,T,A,D,q,k,C),t=1,p===!0&&(t|=24),p=Et(3,null,null,t),e.current=p,p.stateNode=e,t=Ta(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:a,isDehydrated:l,cache:t},Ca(p),e}function sp(e){return e?(e=Ai,e):Ai}function ap(e,t,l,a,f,p){f=sp(f),a.context===null?a.context=f:a.pendingContext=f,a=Nn(t),a.payload={element:l},p=p===void 0?null:p,p!==null&&(a.callback=p),l=Mn(e,a,t),l!==null&&(gt(l,e,t),xl(l,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function zr(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function up(e){if(e.tag===13||e.tag===31){var t=Zn(e,67108864);t!==null&&gt(t,e,67108864),zr(e,67108864)}}function cp(e){if(e.tag===13||e.tag===31){var t=Nt();t=Gs(t);var l=Zn(e,t);l!==null&&gt(l,e,t),zr(e,t)}}var ms=!0;function Yy(e,t,l,a){var f=U.T;U.T=null;var p=J.p;try{J.p=2,Br(e,t,l,a)}finally{J.p=p,U.T=f}}function Fy(e,t,l,a){var f=U.T;U.T=null;var p=J.p;try{J.p=8,Br(e,t,l,a)}finally{J.p=p,U.T=f}}function Br(e,t,l,a){if(ms){var f=Or(a);if(f===null)Rr(e,t,a,hs,l),dp(e,a);else if(Qy(f,e,t,l,a))a.stopPropagation();else if(dp(e,a),t&4&&-1<Jy.indexOf(e)){for(;f!==null;){var p=pi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Fn(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-Tt(T);C.entanglements[1]|=A,T&=~A}Qt(p),(Ne&6)===0&&($o=yt()+500,zl(0))}}break;case 31:case 13:C=Zn(p,2),C!==null&&gt(C,p,2),jo(),zr(p,2)}if(p=Or(a),p===null&&Rr(e,t,a,hs,l),p===f)break;f=p}f!==null&&a.stopPropagation()}else Rr(e,t,a,null,l)}}function Or(e){return e=Fs(e),Yr(e)}var hs=null;function Yr(e){if(hs=null,e=di(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=h(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hs=e,null}function fp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bh()){case vu:return 2;case Tu:return 8;case io:case wh:return 32;case Su:return 268435456;default:return 32}default:return 32}}var Fr=!1,Pn=null,kn=null,Vn=null,Kl=new Map,Xl=new Map,zn=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dp(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(t.pointerId)}}function Zl(e,t,l,a,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:p,targetContainers:[f]},t!==null&&(t=pi(t),t!==null&&up(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Qy(e,t,l,a,f){switch(t){case"focusin":return Pn=Zl(Pn,e,t,l,a,f),!0;case"dragenter":return kn=Zl(kn,e,t,l,a,f),!0;case"mouseover":return Vn=Zl(Vn,e,t,l,a,f),!0;case"pointerover":var p=f.pointerId;return Kl.set(p,Zl(Kl.get(p)||null,e,t,l,a,f)),!0;case"gotpointercapture":return p=f.pointerId,Xl.set(p,Zl(Xl.get(p)||null,e,t,l,a,f)),!0}return!1}function pp(e){var t=di(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,Nu(e.priority,function(){cp(l)});return}}else if(t===31){if(t=h(l),t!==null){e.blockedOn=t,Nu(e.priority,function(){cp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Or(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ys=a,l.target.dispatchEvent(a),Ys=null}else return t=pi(l),t!==null&&up(t),e.blockedOn=l,!1;t.shift()}return!0}function mp(e,t,l){gs(e)&&l.delete(t)}function Ky(){Fr=!1,Pn!==null&&gs(Pn)&&(Pn=null),kn!==null&&gs(kn)&&(kn=null),Vn!==null&&gs(Vn)&&(Vn=null),Kl.forEach(mp),Xl.forEach(mp)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Fr||(Fr=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ky)))}var vs=null;function hp(e){vs!==e&&(vs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){vs===e&&(vs=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],f=e[t+2];if(typeof a!="function"){if(Yr(a||l)===null)continue;break}var p=pi(l);p!==null&&(e.splice(t,3),t-=3,Oa(p,{pending:!0,data:f,method:l.method,action:a},a,f))}}))}function Ki(e){function t(A){return ys(A,e)}Pn!==null&&ys(Pn,e),kn!==null&&ys(kn,e),Vn!==null&&ys(Vn,e),Kl.forEach(t),Xl.forEach(t);for(var l=0;l<zn.length;l++){var a=zn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<zn.length&&(l=zn[0],l.blockedOn===null);)pp(l),l.blockedOn===null&&zn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var f=l[a],p=l[a+1],T=f[ct]||null;if(typeof p=="function")T||hp(l);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[ct]||null)C=T.formAction;else if(Yr(f)!==null)continue}else C=T.action;typeof C=="function"?l[a+1]=C:(l.splice(a,3),a-=3),hp(l)}}}function gp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function Jr(e){this._internalRoot=e}Ts.prototype.render=Jr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=Nt();ap(l,a,e,t,null,null)},Ts.prototype.unmount=Jr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),jo(),t[fi]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=xu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<zn.length&&t!==0&&t<zn[l].priority;l++);zn.splice(l,0,e),l===0&&pp(e)}};var yp=n.version;if(yp!=="19.2.0")throw Error(s(527,yp,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Xy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{ol=Ss.inject(Xy),vt=Ss}catch{}}return Wl.createRoot=function(e,t){if(!u(e))throw Error(s(299));var l=!1,a="",f=Af,p=xf,T=Nf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(T=t.onRecoverableError)),t=op(e,1,!1,null,null,l,a,null,f,p,T,gp),e[fi]=t.current,Mr(e),new Jr(t)},Wl.hydrateRoot=function(e,t,l){if(!u(e))throw Error(s(299));var a=!1,f="",p=Af,T=xf,C=Nf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),t=op(e,1,!0,t,l??null,a,f,A,p,T,C,gp),t.context=sp(null),l=t.current,a=Nt(),a=Gs(a),f=Nn(a),f.callback=null,Mn(l,f,a),l=a,t.current.lanes=l,al(t,l),Qt(t),e[fi]=t.current,Mr(e),new Ts(t)},Wl.version="19.2.0",Wl}var Mp;function o0(){if(Mp)return Xr.exports;Mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Xr.exports=l0(),Xr.exports}var s0=o0();const a0=jm(s0),r0=({data:i,isOpen:n,onToggle:o,onChangeScenario:s})=>_.jsxs("div",{className:"h-full bg-white flex flex-col overflow-hidden relative border-r border-gray-200",children:[_.jsxs("div",{className:`flex ${n?"justify-between px-4 pt-4":"justify-center pt-4"}`,children:[n&&s&&_.jsxs("button",{onClick:s,className:"text-xs font-bold text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-3 py-1.5 rounded-md transition-colors flex items-center",children:[_.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Change Scenario"]}),_.jsx("button",{onClick:o,className:"p-1.5 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",title:n?"Collapse Sidebar":"Expand Sidebar",children:n?_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}):_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),n?_.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[_.jsxs("div",{className:"px-6 pb-6 pt-2 border-b border-gray-100 bg-white",children:[_.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl flex-shrink-0",children:i.patient.name.charAt(0)}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900 truncate",children:i.patient.name}),_.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["MRN: ",i.patient.identifiers.mrn]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-wide",children:"DOB"}),_.jsx("p",{className:"font-medium whitespace-nowrap",children:i.patient.date_of_birth})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-wide",children:"Age/Sex"}),_.jsxs("p",{className:"font-medium whitespace-nowrap",children:[i.patient.age," / ",i.patient.sex]})]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Risk Status"}),_.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.riskLevel==="high"?"bg-red-50 text-red-700 border border-red-100":"bg-amber-50 text-amber-700 border border-amber-100"}`,children:[_.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${i.riskLevel==="high"?"bg-red-500":"bg-amber-500"}`}),i.riskLevel.toUpperCase()," RISK"]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Presenting Diagnosis"}),_.jsx("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 text-slate-800 text-sm leading-relaxed font-medium",children:i.primaryDiagnosis})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Active Problems"}),_.jsx("ul",{className:"space-y-2",children:i.problem_list.map((u,d)=>_.jsxs("li",{className:"flex items-start space-x-2 text-sm text-gray-600 bg-white border border-gray-100 p-2 rounded",children:[_.jsx("svg",{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsx("span",{children:u.name})]},d))})]})]})]}):_.jsxs("div",{className:"flex-1 flex flex-col items-center pt-4 space-y-6",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-lg cursor-pointer",title:i.patient.name,children:i.patient.name.charAt(0)}),_.jsx("div",{className:"flex flex-col items-center space-y-2 w-full",title:`Status: ${i.riskLevel}`,children:_.jsx("div",{className:`w-3 h-3 rounded-full ${i.riskLevel==="high"?"bg-red-500 animate-pulse":"bg-amber-500"}`})}),_.jsx("div",{className:"border-t border-gray-100 w-full"}),_.jsx("div",{className:"flex flex-col items-center space-y-4 text-gray-400",children:_.jsx("button",{onClick:s,title:"Change Scenario",children:_.jsx("svg",{className:"w-6 h-6 hover:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})})})]})]}),u0=(i,n)=>{if(!n||n.length===0)return i;const o=[];let s=0;return n.map(d=>({...d,index:i.toLowerCase().indexOf(d.text.toLowerCase())})).filter(d=>d.index!==-1).sort((d,m)=>d.index-m.index).forEach(d=>{const m=i.toLowerCase().indexOf(d.text.toLowerCase(),s);m!==-1&&(m>s&&o.push({text:i.slice(s,m),highlighted:!1}),o.push({text:i.slice(m,m+d.text.length),highlighted:!0,level:d.level}),s=m+d.text.length)}),s<i.length&&o.push({text:i.slice(s),highlighted:!1}),o.map((d,m)=>d.highlighted?_.jsx("span",{className:`px-0.5 rounded font-medium ${d.level==="warning"?"bg-amber-100/70 text-amber-700":"bg-sky-100/70 text-sky-700"}`,children:d.text},m):_.jsx("span",{children:d.text},m))},c0=({messages:i,isSimulationActive:n,onToggleSimulation:o,onReset:s,isProcessing:u,elapsedTime:d,timerStarted:m,isCompact:h=!1,connectionStatus:y})=>{const g=z=>{const B=Math.floor(z/60),O=z%60;return`${B.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},v=600-d,S=v<=120,E=v<=60,x=Te.useRef(null),L=Te.useRef(!1),H=()=>{if(x.current){const{scrollTop:z,scrollHeight:B,clientHeight:O}=x.current,P=B-z-O<100;L.current=!P}},Y=()=>{if(x.current){const z=x.current;setTimeout(()=>{z.scrollTo({top:z.scrollHeight,behavior:"smooth"})},100)}};return Te.useEffect(()=>{i.length===0&&(L.current=!1),L.current||Y()},[i,u]),_.jsxs("div",{className:"h-full flex flex-col bg-slate-50 relative overflow-hidden",children:[_.jsxs("div",{className:`bg-white border-b border-gray-200 shadow-sm z-10 flex-shrink-0 transition-all duration-500 flex justify-between items-center ${h?"px-3 py-2":"px-6 py-4"}`,children:[_.jsxs("div",{className:`flex items-center ${h?"space-x-2":"space-x-4"}`,children:[_.jsxs("div",{className:h?"min-w-0":"",children:[_.jsx("h2",{className:`font-bold text-gray-800 transition-all duration-300 ${h?"text-sm":"text-lg"}`,children:"Interaction"}),!h&&_.jsx("p",{className:"text-xs text-gray-500",children:"Autonomous Nurse-Patient Interaction"})]}),m&&_.jsxs("div",{className:`flex flex-col bg-gray-50 rounded-lg border border-gray-200 transition-all duration-300 ${h?"px-2 py-1":"px-4 py-2"}`,children:[_.jsxs("div",{className:`flex items-center ${h?"space-x-1":"space-x-2"}`,children:[_.jsx("span",{className:`font-mono font-semibold tabular-nums transition-all duration-300 ${h?"text-xs":"text-sm"} ${E?"text-red-600":S?"text-orange-600":"text-gray-700"}`,children:g(v)}),!h&&_.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"/ 10:00"})]}),_.jsx("div",{className:`w-full bg-gray-200 rounded-full overflow-hidden ${h?"h-1 mt-1":"h-1.5 mt-1.5"}`,children:_.jsx("div",{className:`h-full transition-all duration-1000 ease-linear rounded-full ${E?"bg-red-500":S?"bg-orange-500":"bg-blue-500"}`,style:{width:`${v/600*100}%`}})})]})]}),_.jsxs("div",{className:`flex items-center transition-all duration-300 ${h?"space-x-1":"space-x-3"}`,children:[u&&!h&&_.jsx("span",{className:"text-xs font-medium text-amber-600 animate-pulse mr-2",children:"AI Generating..."}),u&&h&&_.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse mr-1",title:"AI Generating..."}),_.jsx("button",{onClick:s,className:`text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors ${h?"p-1.5":"p-2"}`,title:"Reset Simulation",children:_.jsx("svg",{className:`transition-all duration-300 ${h?"w-4 h-4":"w-5 h-5"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),_.jsx("button",{onClick:o,className:`flex items-center justify-center rounded-lg font-medium transition-all bg-gray-900 text-white hover:bg-gray-800 ${h?"p-2 text-xs":"px-4 py-2 text-sm"}`,title:n?"Stop":"Start",children:n?_.jsxs(_.Fragment,{children:[_.jsx("svg",{className:`${h?"w-4 h-4":"w-4 h-4 mr-2"}`,fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),!h&&"Stop"]}):_.jsxs(_.Fragment,{children:[_.jsx("svg",{className:`${h?"w-4 h-4":"w-4 h-4 mr-2"}`,fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),!h&&"Start"]})})]})]}),_.jsxs("div",{ref:x,onScroll:H,className:`flex-1 overflow-y-auto min-h-0 overscroll-contain transition-all duration-500 ${h?"p-3 space-y-4":"p-6 space-y-8"}`,children:[i.length===0&&_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 opacity-60",children:[_.jsx("svg",{className:"w-16 h-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.013 8.013 0 01-5.699-2.347m-4-7.404H4.522a3.502 3.502 0 01-3.502-3.502h0a3.502 3.502 0 013.502-3.502h4.956"})}),_.jsx("p",{className:"text-sm font-medium",children:"Ready to start simulation"})]}),i.map(z=>_.jsx("div",{className:`flex w-full ${z.role==="nurse"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2 duration-200`,children:_.jsxs("div",{className:`flex ${h?"max-w-[95%]":"max-w-[85%]"} ${z.role==="nurse"?"flex-row-reverse":"flex-row"}`,children:[_.jsx("div",{className:`flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold shadow-md z-10 transition-all duration-300 ${h?"h-7 w-7 text-[10px]":"h-10 w-10 text-xs"} ${z.role==="nurse"?`bg-teal-600 ${h?"ml-2":"ml-4"} ring-2 ring-teal-100`:`bg-blue-600 ${h?"mr-2":"mr-4"} ring-2 ring-blue-100`}`,children:z.role==="nurse"?"RN":"PT"}),_.jsxs("div",{className:`flex flex-col ${z.role==="nurse"?"items-end":"items-start"}`,children:[!h&&_.jsx("span",{className:"text-xs font-bold text-gray-400 mb-1 mx-1 uppercase tracking-wider",children:z.role==="nurse"?"Nurse AI":"Patient"}),_.jsx("div",{className:`rounded-2xl shadow-sm leading-relaxed relative transition-all duration-300 ${h?"px-3 py-2 text-xs":"px-6 py-4 text-sm"} ${z.role==="nurse"?"bg-white text-gray-800 border border-teal-100 rounded-tr-none":"bg-blue-50 text-blue-900 border border-blue-100 rounded-tl-none"}`,children:u0(z.text,z.highlights)})]})]})},z.id)),u&&_.jsx("div",{className:"flex justify-center py-4",children:_.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 px-4 py-2 rounded-full",children:[_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),_.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"}),_.jsx("span",{className:"text-xs text-gray-500 font-medium ml-2",children:"Processing Response..."})]})}),!n&&i.length>0&&!u&&_.jsx("div",{className:"flex justify-center py-6",children:_.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl px-6 py-4 max-w-md",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-green-900",children:"Assessment Complete"}),_.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Clinical decision support analysis finished"})]})]})})})]})]})},jl=({item:i,isDynamic:n,isMoving:o=!1,isExpanded:s=!1})=>{const[u,d]=Kt.useState(!1),m=i.answer&&i.answer.length>80,h=n&&!i.isCompleted;return _.jsx("div",{className:`
                group rounded-lg border transition-all duration-500 ease-in-out
                ${s?"p-4":"p-3"}
                ${i.isCompleted?"bg-white border-gray-200":"bg-gray-50 border-gray-200"}
                ${h?"ring-2 ring-blue-400 ring-offset-1 border-blue-400 bg-blue-50/30":""}
                ${o?"animate-move-to-answered":""}
                ${s?"hover:shadow-md hover:scale-[1.01]":""}
            `,children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("div",{className:`
                    mt-0.5 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-300
                    ${s?"w-6 h-6":"w-5 h-5"}
                    ${i.isCompleted?"bg-green-500 text-white":"bg-gray-300 text-gray-500"}
                `,children:i.isCompleted?_.jsx("svg",{className:`transition-all duration-300 ${s?"w-4 h-4":"w-3 h-3"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):_.jsx("div",{className:`rounded-full bg-gray-400 transition-all duration-300 ${s?"w-2.5 h-2.5":"w-2 h-2"}`})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex justify-between items-start gap-2",children:[_.jsx("h3",{className:`font-medium leading-snug transition-all duration-300 ${s?"text-sm":"text-xs"} ${i.isCompleted?"text-gray-700":"text-gray-500"}`,children:i.text}),n&&!i.isCompleted&&_.jsx("span",{className:`flex-shrink-0 inline-flex items-center rounded font-semibold bg-blue-500 text-white uppercase tracking-wide transition-all duration-300 ${s?"px-2 py-1 text-[10px]":"px-1.5 py-0.5 text-[9px]"}`,children:"New"})]}),i.isCompleted&&i.answer&&_.jsxs("div",{className:`transition-all duration-300 ${s?"mt-3":"mt-2"} ${m?"cursor-pointer":""}`,onClick:()=>m&&d(!u),children:[_.jsxs("div",{className:`relative overflow-hidden transition-all duration-500 ease-in-out ${u||!m?"max-h-96 opacity-100":s?"max-h-16 opacity-90":"max-h-12 opacity-90"}`,children:[_.jsxs("div",{className:`text-gray-600 italic leading-relaxed transition-all duration-300 ${u?"opacity-100":"opacity-90"} ${s?"text-sm":"text-xs"}`,children:['"',i.answer,'"']}),!u&&m&&_.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white to-transparent pointer-events-none transition-opacity duration-300"})]}),m&&_.jsx("div",{className:"mt-1 flex justify-center transition-all duration-300",children:_.jsx("svg",{className:`text-gray-400 transition-all duration-300 ${u?"rotate-180":""} ${s?"w-4 h-4":"w-3 h-3"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),!i.isCompleted&&_.jsx("div",{className:`font-medium text-gray-400 transition-all duration-300 ${s?"mt-2 text-xs":"mt-1 text-[10px]"}`,children:"Pending..."})]})]})})},f0=({checklist:i,primaryDiagnosis:n,secondaryDiagnosis:o,diagnosticPivot:s,isExpanded:u=!1,onToggleExpand:d,turnCount:m=0})=>{const y=m>=3,[g,v]=Kt.useState(null),[S,E]=Kt.useState(null),[x,L]=Kt.useState(!1),[H,Y]=Kt.useState(null),z=Kt.useRef(i),B=i.filter(P=>P.category==="dynamic").reverse(),O=i.filter(P=>P.category==="fixed");return Kt.useEffect(()=>{const P=z.current;i.forEach(F=>{const Q=P.find(K=>K.id===F.id);Q&&!Q.isCompleted&&F.isCompleted&&(console.log("Item completed, starting animation:",F.id),v(F.id),E({...Q,isCompleted:!1}),setTimeout(()=>{v(null),E(null)},1500))}),z.current=i},[i]),_.jsxs("div",{className:"h-full bg-slate-50 border-l border-gray-200 flex flex-col overflow-hidden font-sans",children:[_.jsxs("div",{className:"px-6 py-5 bg-white border-b border-gray-200 shadow-sm flex-shrink-0 z-10",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Real-time Diagnostic Assessment"}),d&&_.jsxs("button",{onClick:d,className:"group relative p-2 rounded-lg bg-slate-100 hover:bg-blue-100 transition-all duration-300 ease-in-out hover:scale-105 active:scale-95",title:u?"Collapse view":"Expand view",children:[_.jsx("div",{className:`transition-transform duration-300 ease-in-out ${u?"rotate-180":"rotate-0"}`,children:u?_.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 9L4 4m0 0l5 0m-5 0l0 5m11-5l5 5m0 0l-5 0m5 0l0-5m-5 15l5-5m0 0l-5 0m5 0l0 5M4 15l5 5m0 0l-5 0m5 0l0-5"})}):_.jsx("svg",{className:"w-4 h-4 text-slate-500 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-5h-4m4 0v4m0-4l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),_.jsx("span",{className:"absolute top-1/2 right-full -translate-y-1/2 mr-2 px-2 py-1 bg-slate-800 text-white text-[10px] rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-50",children:u?"Collapse":"Expand"})]})]}),n.confidenceScore>0||o.confidenceScore>0?y?_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.confidenceScore>0&&_.jsx("div",{className:"p-1 rounded-2xl bg-gradient-to-br from-blue-50 to-white shadow-lg border border-blue-200 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-[1.01]",onClick:()=>{Y(n),L(!0)},children:_.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-50 relative overflow-hidden",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("span",{className:"inline-block px-2 py-0.5 rounded-md bg-blue-100 text-blue-600 text-[9px] font-bold uppercase tracking-wider",children:"Primary"}),n.indicators.length>0&&_.jsxs("span",{className:"text-[9px] text-blue-500",children:[n.indicators.length," findings"]})]}),_.jsx("div",{className:`text-base font-bold leading-tight transition-all duration-500 ${s?"text-blue-700":"text-slate-800"}`,children:n.diagnosis}),_.jsxs("div",{className:"mt-3",children:[_.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full transition-all duration-500 ease-out rounded-full bg-blue-500",style:{width:`${n.confidenceScore}%`}})}),_.jsxs("div",{className:"flex justify-between mt-1",children:[_.jsxs("span",{className:"text-[9px] font-bold text-blue-600",children:[n.confidenceScore,"%"]}),_.jsx("span",{className:"text-[9px] text-slate-400",children:"confidence"})]})]})]})}),o.confidenceScore>0&&_.jsx("div",{className:"p-1 rounded-2xl bg-gradient-to-br from-gray-50 to-white shadow border border-gray-200 cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-[1.01]",onClick:()=>{Y(o),L(!0)},children:_.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-50 relative overflow-hidden",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("span",{className:"inline-block px-2 py-0.5 rounded-md bg-gray-100 text-gray-500 text-[9px] font-bold uppercase tracking-wider",children:"Secondary"}),o.indicators.length>0&&_.jsxs("span",{className:"text-[9px] text-gray-400",children:[o.indicators.length," findings"]})]}),_.jsx("div",{className:"text-base font-bold leading-tight text-gray-600",children:o.diagnosis}),_.jsxs("div",{className:"mt-3",children:[_.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full transition-all duration-500 ease-out rounded-full bg-gray-400",style:{width:`${o.confidenceScore}%`}})}),_.jsxs("div",{className:"flex justify-between mt-1",children:[_.jsxs("span",{className:"text-[9px] font-bold text-gray-500",children:[o.confidenceScore,"%"]}),_.jsx("span",{className:"text-[9px] text-slate-400",children:"confidence"})]})]})]})})]}):_.jsxs("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-amber-50 to-white border border-amber-200 text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[_.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),_.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),_.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),_.jsx("p",{className:"text-sm font-medium text-amber-700",children:"Gathering patient information..."}),_.jsx("p",{className:"text-xs text-amber-500 mt-1",children:"Diagnostic hypotheses will appear after initial assessment"})]}):_.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-gray-50 to-white border border-gray-200 text-center",children:_.jsx("p",{className:"text-sm text-gray-400",children:"Start to see diagnostic hypotheses"})})]}),_.jsx("div",{className:`flex-1 overflow-y-auto min-h-0 bg-gray-50 transition-all duration-500 ${u?"p-6":"p-4"}`,children:_.jsxs("div",{className:`space-y-4 transition-all duration-500 ${u?"max-w-none":""}`,children:[(B.filter(P=>!P.isCompleted).length>0||S)&&_.jsxs("div",{className:"animate-in fade-in duration-300",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[_.jsx("div",{className:`rounded-full bg-blue-500 transition-all duration-300 ${u?"w-2 h-2":"w-1.5 h-1.5"}`}),_.jsx("h3",{className:`font-bold text-gray-600 uppercase tracking-wider transition-all duration-300 ${u?"text-xs":"text-[10px]"}`,children:"New Inquiries"})]}),_.jsxs("div",{className:`grid gap-3 transition-all duration-500 ${u?"grid-cols-3 xl:grid-cols-4":"grid-cols-2"}`,children:[S&&S.category==="dynamic"&&_.jsxs("div",{className:"relative",children:[_.jsx(jl,{item:S,isDynamic:!0,isMoving:!0,isExpanded:u}),_.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:_.jsx("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full shadow-lg animate-bounce",children:_.jsxs("span",{className:"text-[10px] font-bold flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Answered"]})})})]},`moving-${S.id}`),B.filter(P=>!P.isCompleted).map((P,F)=>_.jsx("div",{className:`${S?"animate-in slide-in-from-right-2 fade-in duration-700":"animate-in slide-in-from-top-2 fade-in duration-300"}`,style:{animationDelay:`${S?"1200ms":`${F*50}ms`}`},children:_.jsx(jl,{item:P,isDynamic:!0,isMoving:!1,isExpanded:u})},P.id))]})]}),(O.filter(P=>!P.isCompleted).length>0||S&&S.category==="fixed")&&_.jsxs("div",{className:"animate-in fade-in duration-300",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[_.jsx("div",{className:`rounded-full bg-gray-300 transition-all duration-300 ${u?"w-2 h-2":"w-1.5 h-1.5"}`}),_.jsx("h3",{className:`font-bold text-gray-500 uppercase tracking-wider transition-all duration-300 ${u?"text-xs":"text-[10px]"}`,children:"Standard Protocol"})]}),_.jsxs("div",{className:`grid gap-3 transition-all duration-500 ${u?"grid-cols-3 xl:grid-cols-4":"grid-cols-2"}`,children:[S&&S.category==="fixed"&&_.jsxs("div",{className:"relative",children:[_.jsx(jl,{item:S,isDynamic:!1,isMoving:!0,isExpanded:u}),_.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:_.jsx("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full shadow-lg animate-bounce",children:_.jsxs("span",{className:"text-[10px] font-bold flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Answered"]})})})]},`moving-${S.id}`),O.filter(P=>!P.isCompleted).map(P=>_.jsx("div",{className:"transition-all duration-500 ease-in-out",children:_.jsx(jl,{item:P,isDynamic:!1,isMoving:!1,isExpanded:u})},P.id))]})]}),(B.filter(P=>P.isCompleted).length>0||O.filter(P=>P.isCompleted).length>0)&&_.jsxs("div",{className:"pt-4 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx("hr",{className:"flex-1 border-gray-300"}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("svg",{className:`text-green-600 transition-all duration-300 ${u?"w-4 h-4":"w-3 h-3"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),_.jsx("h3",{className:`font-bold text-gray-500 uppercase tracking-wider transition-all duration-300 ${u?"text-xs":"text-[10px]"}`,children:"Answered Questions"})]}),_.jsx("hr",{className:"flex-1 border-gray-300"})]}),_.jsx("div",{className:`grid gap-3 transition-all duration-500 ${u?"grid-cols-3 xl:grid-cols-4":"grid-cols-2"}`,children:[...B.filter(P=>P.isCompleted),...O.filter(P=>P.isCompleted)].map(P=>{const F=g===P.id;return _.jsx("div",{className:`${F?"animate-in fade-in zoom-in duration-500":"animate-in fade-in duration-300"}`,style:F?{animationDelay:"1000ms"}:{},children:_.jsx(jl,{item:P,isDynamic:!1,isMoving:!1,isExpanded:u})},P.id)})})]})]})}),x&&H&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",onClick:()=>{L(!1),Y(null)},children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden animate-in zoom-in-95 duration-300",onClick:P=>P.stopPropagation(),children:[_.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-white",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Diagnostic Indicators"}),_.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Key findings for: ",_.jsx("span",{className:"font-semibold text-blue-600",children:H.diagnosis}),_.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["(",H.confidenceScore,"% confidence)"]})]})]}),_.jsx("button",{onClick:()=>{L(!1),Y(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),_.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[60vh]",children:H.indicators.length===0?_.jsx("p",{className:"text-gray-500 text-center py-8",children:"No diagnostic indicators yet for this diagnosis."}):_.jsx("div",{className:"space-y-3",children:H.indicators.map((P,F)=>_.jsx("div",{className:"p-4 rounded-xl border-l-4 bg-blue-50 border-blue-500",children:_.jsx("div",{className:"flex items-start justify-between",children:_.jsxs("div",{className:"flex-1",children:[_.jsx("span",{className:"text-sm font-bold text-blue-700",children:P.finding}),P.patientQuote&&_.jsxs("div",{className:"mt-2 p-3 bg-white rounded-lg border border-gray-200",children:[_.jsx("p",{className:"text-xs text-gray-400 mb-1 font-medium",children:"Patient said:"}),_.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',P.patientQuote,'"']})]})]})})},F))})}),_.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-end",children:_.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors",children:"Close"})})]})})]})},d0=({scenarios:i,onSelect:n})=>_.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-8",children:_.jsxs("div",{className:"max-w-5xl w-full",children:[_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Clinical Scenarios"}),_.jsx("p",{className:"text-slate-500",children:"Select a patient case to begin the real-time decision support simulation."})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:i.map(o=>_.jsxs("button",{onClick:()=>n(o),className:"flex flex-col text-left bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md hover:border-blue-300 transition-all group relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:_.jsx("svg",{className:"w-24 h-24 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z"})})}),_.jsxs("div",{className:"flex items-start justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center font-bold text-lg group-hover:bg-blue-600 group-hover:text-white transition-colors",children:o.patient.name.charAt(0)}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-slate-800",children:o.patient.name}),_.jsxs("p",{className:"text-sm text-slate-500",children:[o.patient.age,"y / ",o.patient.sex]})]})]}),_.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wider ${o.riskLevel==="high"?"bg-red-50 text-red-600":"bg-amber-50 text-amber-600"}`,children:[o.riskLevel," Risk"]})]}),_.jsxs("div",{className:"space-y-3 z-10",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Presenting Complaint"}),_.jsx("p",{className:"text-sm text-slate-700 bg-slate-50 p-2 rounded border border-slate-100",children:o.primaryDiagnosis})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Medical History"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:o.problem_list.slice(0,3).map((s,u)=>_.jsx("span",{className:"text-xs text-slate-600 bg-slate-50 px-2 py-1 rounded-full border border-slate-100",children:s.name},u))})]})]})]},o.id))})]})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p0,m0;function h0(){return{geminiUrl:p0,vertexUrl:m0}}function g0(i,n,o,s){var u,d;if(!(i!=null&&i.baseUrl)){const m=h0();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{}function Z(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,o){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];c(v,n.slice(d+1),o[g])}else for(const g of y)c(g,n.slice(d+1),o)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];c(y[0],n.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=n[n.length-1],u=i[s];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const u=n[s];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(h=>r(h,n.slice(s+1),o)):o}else return o}else i=i[u]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function y0(i,n){for(const[o,s]of Object.entries(n)){const u=o.split("."),d=s.split("."),m=new Set;let h=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){h=y;break}if(h!==-1&&d.length>h)for(let y=h;y<d.length;y++){const g=d[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}eu(i,u,d,0,m)}}function eu(i,n,o,s,u){if(s>=n.length||typeof i!="object"||i===null)return;const d=n[s];if(d.endsWith("[]")){const m=d.slice(0,-2),h=i;if(m in h&&Array.isArray(h[m]))for(const y of h[m])eu(y,n,o,s+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,h=Object.keys(m).filter(g=>!g.startsWith("_")&&!u.has(g)),y={};for(const g of h)y[g]=m[g];for(const[g,v]of Object.entries(y)){const S=[];for(const E of o.slice(s))E==="*"?S.push(g):S.push(E);c(m,S,v)}for(const g of h)delete m[g]}}else{const m=i;d in m&&eu(m[d],n,o,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(i){const n={},o=r(i,["operationName"]);o!=null&&c(n,["operationName"],o);const s=r(i,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function T0(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],E0(m)),n}function S0(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],_0(m)),n}function E0(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>C0(m))),c(n,["generatedVideos"],d)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function _0(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>A0(m))),c(n,["generatedVideos"],d)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function C0(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],D0(o)),n}function A0(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],b0(o)),n}function x0(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function N0(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function M0(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],R0(m)),n}function R0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["parent"]);s!=null&&c(n,["parent"],s);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function eh(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],I0(m)),n}function I0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["parent"]);s!=null&&c(n,["parent"],s);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function D0(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],cu(s));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function b0(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],cu(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rp||(Rp={}));var Ip;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Ip||(Ip={}));var Dp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Dp||(Dp={}));var Ue;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ue||(Ue={}));var bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(bp||(bp={}));var wp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(wp||(wp={}));var Up;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Up||(Up={}));var Lp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Lp||(Lp={}));var qp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(qp||(qp={}));var Gp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Gp||(Gp={}));var Hp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hp||(Hp={}));var Pp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Pp||(Pp={}));var kp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(kp||(kp={}));var Vp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Vp||(Vp={}));var zp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(zp||(zp={}));var Bp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bp||(Bp={}));var Op;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Op||(Op={}));var Yp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Yp||(Yp={}));var Fp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fp||(Fp={}));var As;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(As||(As={}));var Jp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jp||(Jp={}));var Qp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qp||(Qp={}));var Kp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Kp||(Kp={}));var tu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(tu||(tu={}));var Xp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Xp||(Xp={}));var Zp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zp||(Zp={}));var $p;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})($p||($p={}));var Wp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Wp||(Wp={}));var jp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(jp||(jp={}));var em;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(em||(em={}));var tm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(tm||(tm={}));var nm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(nm||(nm={}));var im;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(im||(im={}));var lm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(lm||(lm={}));var om;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(om||(om={}));var sm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sm||(sm={}));var am;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(am||(am={}));var rm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rm||(rm={}));var um;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(um||(um={}));var cm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(cm||(cm={}));var fm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(fm||(fm={}));var dm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(dm||(dm={}));var pm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(pm||(pm={}));var mm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(mm||(mm={}));var hm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(hm||(hm={}));var gm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(gm||(gm={}));var ym;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ym||(ym={}));var vm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(vm||(vm={}));var Tm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Tm||(Tm={}));var Sm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sm||(Sm={}));var Em;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Em||(Em={}));var _m;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_m||(_m={}));var Cm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cm||(Cm={}));var Am;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Am||(Am={}));var Zi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Zi||(Zi={}));class nu{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class eo{get text(){var n,o,s,u,d,m,h,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const E of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,L]of Object.entries(E))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(L!==null||L!==void 0)&&S.push(x);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var n,o,s,u,d,m,h,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,x]of Object.entries(S))E!=="inlineData"&&(x!==null||x!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,o,s,u,d,m,h,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,o,s,u,d,m,h,y,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,o,s,u,d,m,h,y,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class xm{}class Nm{}class w0{}class U0{}class L0{}class q0{}class Mm{}class Rm{}class Im{}class G0{}class xs{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new xs;let u;const d=n;return o?u=S0(d):u=T0(d),Object.assign(s,u),s}}class Dm{}class bm{}class wm{}class H0{}class P0{}class k0{}class fu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new fu,d=M0(n);return Object.assign(s,d),s}}class V0{}class z0{}class B0{}class Um{}class O0{get text(){var n,o,s;let u="",d=!1;const m=[];for(const h of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,s;let u="";const d=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Y0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class du{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new du,d=eh(n);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function th(i,n){const o=Ae(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function nh(i){return Array.isArray(i)?i.map(n=>Ns(n)):[Ns(i)]}function Ns(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ih(i){const n=Ns(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function lh(i){const n=Ns(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Lm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function oh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Lm(n)):[Lm(i)]}function iu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function qm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Gm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function rt(i){if(i==null)throw new Error("ContentUnion is required");return iu(i)?i:{role:"user",parts:oh(i)}}function pu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=rt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=rt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>rt(o)):[rt(n)]}function Ht(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(qm(i)||Gm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(i)]}const n=[],o=[],s=iu(i[0]);for(const u of i){const d=iu(u);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(qm(u)||Gm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return s||n.push({role:"user",parts:oh(o)}),n}function F0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(Ue).includes(o[0].toUpperCase())?o[0].toUpperCase():Ue.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(Ue).includes(s.toUpperCase())?s.toUpperCase():Ue.TYPE_UNSPECIFIED})}}function $i(i){const n={},o=["items"],s=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&F0(i.type,n);for(const[m,h]of Object.entries(i))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;n.type=Object.values(Ue).includes(h.toUpperCase())?h.toUpperCase():Ue.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=$i(h);else if(s.includes(m)){const y=[];for(const g of h){if(g.type=="null"){n.nullable=!0;continue}y.push($i(g))}n[m]=y}else if(u.includes(m)){const y={};for(const[g,v]of Object.entries(h))y[g]=$i(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=h}return n}function mu(i){return $i(i)}function hu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function gu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function el(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=$i(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=$i(n.response));return i}function tl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function J0(i,n,o,s=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function yn(i,n){if(typeof n!="string")throw new Error("name must be a string");return J0(i,n,"cachedContents")}function sh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function On(i){return cu(i)}function Q0(i){return i!=null&&typeof i=="object"&&"name"in i}function K0(i){return i!=null&&typeof i=="object"&&"video"in i}function X0(i){return i!=null&&typeof i=="object"&&"uri"in i}function ah(i){var n;let o;if(Q0(i)&&(o=i.name),!(X0(i)&&(o=i.uri,o===void 0))&&!(K0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function rh(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function uh(i){for(const n of["models","tunedModels","publisherModels"])if(Z0(i,n))return i[n];return[]}function Z0(i,n){return i!==null&&typeof i=="object"&&n in i}function $0(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function W0(i,n={}){const o=[],s=new Set;for(const u of i){const d=u.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const m=$0(u,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function ch(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function j0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function fh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function nl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function dh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ev(i){const n={},o=r(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=r(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>Lv(m))),c(n,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["inlinedEmbedContentResponses"],d)}return n}function tv(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=r(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function nv(i){const n={},o=r(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=r(i,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function _s(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],dh(u));const d=r(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const m=r(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const h=r(i,["metadata","updateTime"]);h!=null&&c(n,["updateTime"],h);const y=r(i,["metadata","model"]);y!=null&&c(n,["model"],y);const g=r(i,["metadata","output"]);return g!=null&&c(n,["dest"],ev(fh(g))),n}function lu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["state"]);u!=null&&c(n,["state"],dh(u));const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["createTime"]);m!=null&&c(n,["createTime"],m);const h=r(i,["startTime"]);h!=null&&c(n,["startTime"],h);const y=r(i,["endTime"]);y!=null&&c(n,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(n,["updateTime"],g);const v=r(i,["model"]);v!=null&&c(n,["model"],v);const S=r(i,["inputConfig"]);S!=null&&c(n,["src"],iv(S));const E=r(i,["outputConfig"]);E!=null&&c(n,["dest"],tv(fh(E)));const x=r(i,["completionStats"]);return x!=null&&c(n,["completionStats"],x),n}function iv(i){const n={},o=r(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=r(i,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function lv(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=r(n,["fileName"]);s!=null&&c(o,["fileName"],s);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Uv(i,m))),c(o,["requests","requests"],d)}return o}function ov(i){const n={},o=r(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=r(i,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function sv(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function av(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function rv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function uv(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],cv(s));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const g=r(i,["logprobsResult"]);g!=null&&c(n,["logprobsResult"],g);const v=r(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),c(n,["safetyRatings"],E)}const S=r(i,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function cv(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function ph(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>zv(d))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function fv(i,n){const o={},s=r(i,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function dv(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],nv(j0(u))),o}function Hm(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],lv(i,ch(i,u)));const d=r(n,["config"]);return d!=null&&fv(d,o),o}function pv(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],Ae(i,s));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],ov(ch(i,u)));const d=r(n,["config"]);return d!=null&&dv(d,o),o}function mv(i,n){const o={},s=r(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function hv(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],_v(i,u));const d=r(n,["config"]);return d!=null&&mv(d,o),o}function gv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function yv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function vv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function Tv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function Sv(i,n){const o={},s=r(n,["contents"]);if(s!=null){let d=pu(i,s);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],Ev(u,o)),y0(o,{"requests[].*":"requests[].request.*"})),o}function Ev(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function _v(i,n){const o={},s=r(n,["fileName"]);s!=null&&c(o,["file_name"],s);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],Sv(i,u)),o}function Cv(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Av(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const s=r(i,["args"]);s!=null&&c(n,["args"],s);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function xv(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const s=r(i,["allowedFunctionNames"]);if(s!=null&&c(n,["allowedFunctionNames"],s),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Nv(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],ph(rt(u)));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const h=r(n,["topK"]);h!=null&&c(s,["topK"],h);const y=r(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const v=r(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const L=r(n,["frequencyPenalty"]);L!=null&&c(s,["frequencyPenalty"],L);const H=r(n,["seed"]);H!=null&&c(s,["seed"],H);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],mu(z));const B=r(n,["responseJsonSchema"]);if(B!=null&&c(s,["responseJsonSchema"],B),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let ce=O;Array.isArray(ce)&&(ce=ce.map(ke=>Bv(ke))),c(o,["safetySettings"],ce)}const P=r(n,["tools"]);if(o!==void 0&&P!=null){let ce=tl(P);Array.isArray(ce)&&(ce=ce.map(ke=>Yv(el(ke)))),c(o,["tools"],ce)}const F=r(n,["toolConfig"]);if(o!==void 0&&F!=null&&c(o,["toolConfig"],Ov(F)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(n,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],yn(i,Q));const K=r(n,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const pe=r(n,["mediaResolution"]);pe!=null&&c(s,["mediaResolution"],pe);const te=r(n,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],hu(te)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(n,["thinkingConfig"]);de!=null&&c(s,["thinkingConfig"],de);const Se=r(n,["imageConfig"]);return Se!=null&&c(s,["imageConfig"],wv(Se)),s}function Mv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>uv(g))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function Rv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function Iv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],nl(i,s)),o}function Dv(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function bv(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function wv(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const s=r(i,["imageSize"]);if(s!=null&&c(n,["imageSize"],s),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Uv(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["request","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let h=Ht(u);Array.isArray(h)&&(h=h.map(y=>ph(y))),c(o,["request","contents"],h)}const d=r(n,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(n,["config"]);return m!=null&&c(o,["request","generationConfig"],Nv(i,m,r(o,["request"],{}))),o}function Lv(i){const n={},o=r(i,["response"]);o!=null&&c(n,["response"],Mv(o));const s=r(i,["error"]);return s!=null&&c(n,["error"],s),n}function qv(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Gv(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function Hv(i){const n={},o=r(i,["config"]);return o!=null&&qv(o,n),n}function Pv(i){const n={},o=r(i,["config"]);return o!=null&&Gv(o,n),n}function kv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>_s(m))),c(n,["batchJobs"],d)}return n}function Vv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>lu(m))),c(n,["batchJobs"],d)}return n}function zv(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=r(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],Cv(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],Av(m));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],sv(y));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const S=r(i,["thoughtSignature"]);S!=null&&c(n,["thoughtSignature"],S);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function Bv(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=r(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function Ov(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],xv(o));const s=r(i,["retrievalConfig"]);return s!=null&&c(n,["retrievalConfig"],s),n}function Yv(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],Dv(h));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],bv(y));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var hn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(hn||(hn={}));class ui{constructor(n,o,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,u)}init(n,o,s){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends gn{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new ui(hn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Hm(this.apiClient,n),s=o._url,u=Z("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=E,S.request=x}g.push(S)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${u}`;else if(m)s.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=pv(this.apiClient,n);return h=Z("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const g=Hm(this.apiClient,n);return h=Z("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>_s(v))}}async createEmbeddingsInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hv(this.apiClient,n);return d=Z("{model}:asyncBatchEmbedContent",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>_s(y))}}async get(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Iv(this.apiClient,n);return h=Z("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>lu(v))}else{const g=Rv(this.apiClient,n);return h=Z("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>_s(v))}}async cancel(n){var o,s,u,d;let m="",h={};if(this.apiClient.isVertexAI()){const y=rv(this.apiClient,n);m=Z("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=av(this.apiClient,n);m=Z("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Pv(n);return h=Z("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=Vv(v),E=new Um;return Object.assign(E,S),E})}else{const g=Hv(n);return h=Z("batches",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=kv(v),E=new Um;return Object.assign(E,S),E})}}async delete(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=yv(this.apiClient,n);return h=Z("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>Tv(v))}else{const g=gv(this.apiClient,n);return h=Z("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>vv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jv(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Pm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>hT(d))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function Qv(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let v=Ht(m);Array.isArray(v)&&(v=v.map(S=>Pm(S))),c(n,["contents"],v)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],Pm(rt(h)));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>yT(S))),c(n,["tools"],v)}const g=r(i,["toolConfig"]);if(n!==void 0&&g!=null&&c(n,["toolConfig"],gT(g)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Kv(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let S=Ht(m);Array.isArray(S)&&(S=S.map(E=>E)),c(n,["contents"],S)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],rt(h));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>vT(E))),c(n,["tools"],S)}const g=r(i,["toolConfig"]);n!==void 0&&g!=null&&c(n,["toolConfig"],g);const v=r(i,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),o}function Xv(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],th(i,s));const u=r(n,["config"]);return u!=null&&Qv(u,o),o}function Zv(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["model"],th(i,s));const u=r(n,["config"]);return u!=null&&Kv(u,o),o}function $v(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],yn(i,s)),o}function Wv(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],yn(i,s)),o}function jv(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function eT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function tT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function nT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const s=r(i,["args"]);s!=null&&c(n,["args"],s);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function iT(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const s=r(i,["allowedFunctionNames"]);if(s!=null&&c(n,["allowedFunctionNames"],s),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function lT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function oT(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],yn(i,s)),o}function sT(i,n){const o={},s=r(n,["name"]);return s!=null&&c(o,["_url","name"],yn(i,s)),o}function aT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function rT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function uT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function cT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function fT(i){const n={},o=r(i,["config"]);return o!=null&&uT(o,n),n}function dT(i){const n={},o=r(i,["config"]);return o!=null&&cT(o,n),n}function pT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function mT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function hT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=r(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],tT(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],nT(m));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],Jv(y));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const S=r(i,["thoughtSignature"]);S!=null&&c(n,["thoughtSignature"],S);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function gT(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],iT(o));const s=r(i,["retrievalConfig"]);return s!=null&&c(n,["retrievalConfig"],s),n}function yT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],aT(h));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],rT(y));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function vT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>lT(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function TT(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function ST(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function ET(i,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],yn(i,s));const u=r(n,["config"]);return u!=null&&TT(u,o),o}function _T(i,n){const o={},s=r(n,["name"]);s!=null&&c(o,["_url","name"],yn(i,s));const u=r(n,["config"]);return u!=null&&ST(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CT extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new ui(hn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Zv(this.apiClient,n);return h=Z("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=Xv(this.apiClient,n);return h=Z("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=sT(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=oT(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Wv(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=eT(v),E=new bm;return Object.assign(E,S),E})}else{const g=$v(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=jv(v),E=new bm;return Object.assign(E,S),E})}}async update(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=_T(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=ET(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=dT(n);return h=Z("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=mT(v),E=new wm;return Object.assign(E,S),E})}else{const g=fT(n);return h=Z("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=pT(v),E=new wm;return Object.assign(E,S),E})}}}function km(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(i){return this instanceof He?(this.v=i,this):new He(i)}function Wi(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(x){return function(L){return Promise.resolve(L).then(x,S)}}function h(x,L){s[x]&&(u[x]=function(H){return new Promise(function(Y,z){d.push([x,H,Y,z])>1||y(x,H)})},L&&(u[x]=L(u[x])))}function y(x,L){try{g(s[x](L))}catch(H){E(d[0][3],H)}}function g(x){x.value instanceof He?Promise.resolve(x.value.v).then(v,S):E(d[0][2],x)}function v(x){y("next",x)}function S(x){y("throw",x)}function E(x,L){x(L),d.shift(),d.length&&y(d[0][0],d[0][1])}}function to(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof km=="function"?km(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=i[d]&&function(m){return new Promise(function(h,y){m=i[d](m),u(h,y,m.done,m.value)})}}function u(d,m,h,y){Promise.resolve(y).then(function(g){d({value:g,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:mh(o)}function mh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function xT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Vm(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const u=[];let d=!0;for(;s<o&&i[s].role==="model";)u.push(i[s]),d&&!mh(i[s])&&(d=!1),s++;d?n.push(...u):n.pop()}return n}class NT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new MT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class MT{constructor(n,o,s,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),xT(d)}async sendMessage(n){var o;await this.sendPromise;const s=rt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,h;const y=await u,g=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(S))!==null&&h!==void 0?h:[]);const x=g?[g]:[];this.recordHistory(s,x,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const s=rt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?Vm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,u;return Wi(this,arguments,function*(){var m,h,y,g;const v=[];try{for(var S=!0,E=to(n),x;x=yield He(E.next()),m=x.done,!m;S=!0){g=x.value,S=!1;const L=g;if(AT(L)){const H=(u=(s=L.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;H!==void 0&&v.push(H)}yield yield He(L)}}catch(L){h={error:L}}finally{try{!S&&!m&&(y=E.return)&&(yield He(y.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(n,o,s){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Vm(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Is extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Is.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(i){const n={},o=r(i,["file"]);return o!=null&&c(n,["file"],o),n}function IT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function DT(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],ah(o)),n}function bT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function wT(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],ah(o)),n}function UT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function LT(i){const n={},o=r(i,["config"]);return o!=null&&UT(o,n),n}function qT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends gn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new ui(hn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=LT(n);return d=Z("files",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=qT(y),v=new V0;return Object.assign(v,g),v})}}async createInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RT(n);return d=Z("upload/v1beta/files",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=IT(y),v=new z0;return Object.assign(v,g),v})}}async get(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wT(n);return d=Z("files/{file}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DT(n);return d=Z("files/{file}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=bT(y),v=new B0;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cs(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function HT(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>jT(d))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function PT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function kT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const s=r(i,["args"]);s!=null&&c(n,["args"],s);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function VT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function zT(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const g=r(i,["maxOutputTokens"]);g!=null&&c(n,["maxOutputTokens"],g);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=r(i,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const x=r(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const L=r(i,["responseModalities"]);L!=null&&c(n,["responseModalities"],L);const H=r(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const Y=r(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const z=r(i,["seed"]);z!=null&&c(n,["seed"],z);const B=r(i,["speechConfig"]);B!=null&&c(n,["speechConfig"],hh(B));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const P=r(i,["temperature"]);P!=null&&c(n,["temperature"],P);const F=r(i,["thinkingConfig"]);F!=null&&c(n,["thinkingConfig"],F);const Q=r(i,["topK"]);Q!=null&&c(n,["topK"],Q);const K=r(i,["topP"]);if(K!=null&&c(n,["topP"],K),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function BT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function OT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function YT(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],gu(S));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],HT(rt(L)));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let Q=tl(H);Array.isArray(Q)&&(Q=Q.map(K=>tS(el(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],eS(Y));const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const B=r(i,["outputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","outputAudioTranscription"],B);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const P=r(i,["contextWindowCompression"]);n!==void 0&&P!=null&&c(n,["setup","contextWindowCompression"],P);const F=r(i,["proactivity"]);return n!==void 0&&F!=null&&c(n,["setup","proactivity"],F),o}function FT(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],zT(s));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],hh(gu(S)));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],rt(L));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let Q=tl(H);Array.isArray(Q)&&(Q=Q.map(K=>nS(el(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],Y);const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const B=r(i,["outputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","outputAudioTranscription"],B);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const P=r(i,["contextWindowCompression"]);n!==void 0&&P!=null&&c(n,["setup","contextWindowCompression"],P);const F=r(i,["proactivity"]);return n!==void 0&&F!=null&&c(n,["setup","proactivity"],F),o}function JT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],YT(u,o)),o}function QT(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],FT(u,o)),o}function KT(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function XT(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["weightedPrompts"],s)}return n}function ZT(i){const n={},o=r(i,["media"]);if(o!=null){let g=nh(o);Array.isArray(g)&&(g=g.map(v=>Cs(v))),c(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&c(n,["audio"],Cs(lh(s)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Cs(ih(d)));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function $T(i){const n={},o=r(i,["media"]);if(o!=null){let g=nh(o);Array.isArray(g)&&(g=g.map(v=>v)),c(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&c(n,["audio"],lh(s));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],ih(d));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function WT(i){const n={},o=r(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=r(i,["serverContent"]);s!=null&&c(n,["serverContent"],s);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const m=r(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],iS(m));const h=r(i,["goAway"]);h!=null&&c(n,["goAway"],h);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function jT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=r(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],PT(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],kT(m));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],Cs(y));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const S=r(i,["thoughtSignature"]);S!=null&&c(n,["thoughtSignature"],S);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function eS(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function hh(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=r(i,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function tS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],BT(h));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],OT(y));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function nS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>VT(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function iS(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=r(i,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const m=r(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const h=r(i,["totalTokenCount"]);h!=null&&c(n,["totalTokenCount"],h);const y=r(i,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(L=>L)),c(n,["promptTokensDetails"],x)}const g=r(i,["cacheTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(L=>L)),c(n,["cacheTokensDetails"],x)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(L=>L)),c(n,["responseTokensDetails"],x)}const S=r(i,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(L=>L)),c(n,["toolUsePromptTokensDetails"],x)}const E=r(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function oS(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],sS(s));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const g=r(i,["logprobsResult"]);g!=null&&c(n,["logprobsResult"],g);const v=r(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),c(n,["safetyRatings"],E)}const S=r(i,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function sS(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),c(n,["citations"],s)}return n}function aS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let d=Ht(u);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function rS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function uS(i){const n={},o=r(i,["values"]);o!=null&&c(n,["values"],o);const s=r(i,["statistics"]);return s!=null&&c(n,["statistics"],cS(s)),n}function cS(i){const n={},o=r(i,["truncated"]);o!=null&&c(n,["truncated"],o);const s=r(i,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function Ds(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>TE(d))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function fS(i){const n={},o=r(i,["controlType"]);o!=null&&c(n,["controlType"],o);const s=r(i,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function dS(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function pS(i,n){const o={},s=r(i,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],rt(s));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>Sh(h))),c(n,["tools"],m)}const d=r(i,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],lE(d)),o}function mS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ht(u);Array.isArray(m)&&(m=m.map(h=>Ds(h))),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&dS(d),o}function hS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ht(u);Array.isArray(m)&&(m=m.map(h=>h)),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&pS(d,o),o}function gS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function yS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function vS(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(i,s)),o}function TS(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(i,s)),o}function SS(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function ES(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function _S(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const x=r(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const L=r(i,["outputMimeType"]);n!==void 0&&L!=null&&c(n,["parameters","outputOptions","mimeType"],L);const H=r(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Y=r(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const z=r(i,["labels"]);n!==void 0&&z!=null&&c(n,["labels"],z);const B=r(i,["editMode"]);n!==void 0&&B!=null&&c(n,["parameters","editMode"],B);const O=r(i,["baseSteps"]);return n!==void 0&&O!=null&&c(n,["parameters","editConfig","baseSteps"],O),o}function CS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>xE(y))),c(o,["instances[0]","referenceImages"],h)}const m=r(n,["config"]);return m!=null&&_S(m,o),o}function AS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>bs(d))),c(n,["generatedImages"],u)}return n}function xS(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function NS(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const m=r(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const h=r(i,["autoTruncate"]);return n!==void 0&&h!=null&&c(n,["parameters","autoTruncate"],h),o}function MS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let h=pu(i,u);Array.isArray(h)&&(h=h.map(y=>y)),c(o,["requests[]","content"],h)}const d=r(n,["config"]);d!=null&&xS(d,o);const m=r(n,["model"]);return m!==void 0&&c(o,["requests[]","model"],Ae(i,m)),o}function RS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let m=pu(i,u);Array.isArray(m)&&(m=m.map(h=>h)),c(o,["instances[]","content"],m)}const d=r(n,["config"]);return d!=null&&NS(d,o),o}function IS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function DS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>uS(m))),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function bS(i){const n={},o=r(i,["endpoint"]);o!=null&&c(n,["name"],o);const s=r(i,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function wS(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function US(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const s=r(i,["args"]);s!=null&&c(n,["args"],s);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function LS(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const s=r(i,["allowedFunctionNames"]);if(s!=null&&c(n,["allowedFunctionNames"],s),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function qS(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const s=r(i,["name"]);s!=null&&c(n,["name"],s);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function GS(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Ds(rt(u)));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const h=r(n,["topK"]);h!=null&&c(s,["topK"],h);const y=r(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const v=r(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const L=r(n,["frequencyPenalty"]);L!=null&&c(s,["frequencyPenalty"],L);const H=r(n,["seed"]);H!=null&&c(s,["seed"],H);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],mu(z));const B=r(n,["responseJsonSchema"]);if(B!=null&&c(s,["responseJsonSchema"],B),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let ce=O;Array.isArray(ce)&&(ce=ce.map(ke=>NE(ke))),c(o,["safetySettings"],ce)}const P=r(n,["tools"]);if(o!==void 0&&P!=null){let ce=tl(P);Array.isArray(ce)&&(ce=ce.map(ke=>UE(el(ke)))),c(o,["tools"],ce)}const F=r(n,["toolConfig"]);if(o!==void 0&&F!=null&&c(o,["toolConfig"],wE(F)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=r(n,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],yn(i,Q));const K=r(n,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const pe=r(n,["mediaResolution"]);pe!=null&&c(s,["mediaResolution"],pe);const te=r(n,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],hu(te)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=r(n,["thinkingConfig"]);de!=null&&c(s,["thinkingConfig"],de);const Se=r(n,["imageConfig"]);return Se!=null&&c(s,["imageConfig"],uE(Se)),s}function HS(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],rt(u));const d=r(n,["temperature"]);d!=null&&c(s,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(s,["topP"],m);const h=r(n,["topK"]);h!=null&&c(s,["topK"],h);const y=r(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&c(s,["maxOutputTokens"],g);const v=r(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const S=r(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const E=r(n,["logprobs"]);E!=null&&c(s,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const L=r(n,["frequencyPenalty"]);L!=null&&c(s,["frequencyPenalty"],L);const H=r(n,["seed"]);H!=null&&c(s,["seed"],H);const Y=r(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const z=r(n,["responseSchema"]);z!=null&&c(s,["responseSchema"],mu(z));const B=r(n,["responseJsonSchema"]);B!=null&&c(s,["responseJsonSchema"],B);const O=r(n,["routingConfig"]);O!=null&&c(s,["routingConfig"],O);const P=r(n,["modelSelectionConfig"]);P!=null&&c(s,["modelConfig"],P);const F=r(n,["safetySettings"]);if(o!==void 0&&F!=null){let U=F;Array.isArray(U)&&(U=U.map(J=>J)),c(o,["safetySettings"],U)}const Q=r(n,["tools"]);if(o!==void 0&&Q!=null){let U=tl(Q);Array.isArray(U)&&(U=U.map(J=>Sh(el(J)))),c(o,["tools"],U)}const K=r(n,["toolConfig"]);o!==void 0&&K!=null&&c(o,["toolConfig"],K);const pe=r(n,["labels"]);o!==void 0&&pe!=null&&c(o,["labels"],pe);const te=r(n,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],yn(i,te));const de=r(n,["responseModalities"]);de!=null&&c(s,["responseModalities"],de);const Se=r(n,["mediaResolution"]);Se!=null&&c(s,["mediaResolution"],Se);const ce=r(n,["speechConfig"]);ce!=null&&c(s,["speechConfig"],Th(hu(ce)));const ke=r(n,["audioTimestamp"]);ke!=null&&c(s,["audioTimestamp"],ke);const ot=r(n,["thinkingConfig"]);ot!=null&&c(s,["thinkingConfig"],ot);const Ye=r(n,["imageConfig"]);return Ye!=null&&c(s,["imageConfig"],cE(Ye)),s}function zm(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ht(u);Array.isArray(m)&&(m=m.map(h=>Ds(h))),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],GS(i,d,o)),o}function Bm(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["contents"]);if(u!=null){let m=Ht(u);Array.isArray(m)&&(m=m.map(h=>h)),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],HS(i,d,o)),o}function Om(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>oS(g))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function Ym(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),c(n,["candidates"],g)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const m=r(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const h=r(i,["responseId"]);h!=null&&c(n,["responseId"],h);const y=r(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function PS(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const h=r(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const y=r(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const g=r(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const v=r(i,["language"]);n!==void 0&&v!=null&&c(n,["parameters","language"],v);const S=r(i,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const E=r(i,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=r(i,["imageSize"]);if(n!==void 0&&x!=null&&c(n,["parameters","sampleImageSize"],x),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function kS(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const x=r(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const L=r(i,["outputMimeType"]);n!==void 0&&L!=null&&c(n,["parameters","outputOptions","mimeType"],L);const H=r(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Y=r(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const z=r(i,["labels"]);n!==void 0&&z!=null&&c(n,["labels"],z);const B=r(i,["imageSize"]);n!==void 0&&B!=null&&c(n,["parameters","sampleImageSize"],B);const O=r(i,["enhancePrompt"]);return n!==void 0&&O!=null&&c(n,["parameters","enhancePrompt"],O),o}function VS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&PS(d,o),o}function zS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&kS(d,o),o}function BS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>eE(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],yh(u)),n}function OS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>bs(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],vh(u)),n}function YS(i,n){const o={},s=r(i,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const m=r(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const h=r(i,["personGeneration"]);if(n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const g=r(i,["enhancePrompt"]);if(n!==void 0&&g!=null&&c(n,["parameters","enhancePrompt"],g),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);n!==void 0&&v!=null&&c(n,["instances[0]","lastFrame"],ws(v));const S=r(i,["referenceImages"]);if(n!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(x=>JE(x))),c(n,["instances[0]","referenceImages"],E)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function FS(i,n){const o={},s=r(i,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(i,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const m=r(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const h=r(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const y=r(i,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const g=r(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const S=r(i,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const E=r(i,["negativePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","negativePrompt"],E);const x=r(i,["enhancePrompt"]);n!==void 0&&x!=null&&c(n,["parameters","enhancePrompt"],x);const L=r(i,["generateAudio"]);n!==void 0&&L!=null&&c(n,["parameters","generateAudio"],L);const H=r(i,["lastFrame"]);n!==void 0&&H!=null&&c(n,["instances[0]","lastFrame"],Bt(H));const Y=r(i,["referenceImages"]);if(n!==void 0&&Y!=null){let O=Y;Array.isArray(O)&&(O=O.map(P=>QE(P))),c(n,["instances[0]","referenceImages"],O)}const z=r(i,["mask"]);n!==void 0&&z!=null&&c(n,["instances[0]","mask"],FE(z));const B=r(i,["compressionQuality"]);return n!==void 0&&B!=null&&c(n,["parameters","compressionQuality"],B),o}function JS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],ZS(m)),n}function QS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],$S(m)),n}function KS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],ws(d));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],Eh(m));const h=r(n,["source"]);h!=null&&WS(h,o);const y=r(n,["config"]);return y!=null&&YS(y,o),o}function XS(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],Bt(d));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],_h(m));const h=r(n,["source"]);h!=null&&jS(h,o);const y=r(n,["config"]);return y!=null&&FS(y,o),o}function ZS(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>nE(m))),c(n,["generatedVideos"],d)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function $S(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>iE(m))),c(n,["generatedVideos"],d)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function WS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],ws(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Eh(d)),o}function jS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Bt(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],_h(d)),o}function eE(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],fE(o));const s=r(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],yh(u)),n}function bs(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],gh(o));const s=r(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],vh(u));const d=r(i,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function tE(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["mask"],gh(o));const s=r(i,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function nE(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],OE(o)),n}function iE(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],YE(o)),n}function lE(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=r(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const g=r(i,["maxOutputTokens"]);g!=null&&c(n,["maxOutputTokens"],g);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const S=r(i,["presencePenalty"]);S!=null&&c(n,["presencePenalty"],S);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const x=r(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const L=r(i,["responseModalities"]);L!=null&&c(n,["responseModalities"],L);const H=r(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const Y=r(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const z=r(i,["seed"]);z!=null&&c(n,["seed"],z);const B=r(i,["speechConfig"]);B!=null&&c(n,["speechConfig"],Th(B));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const P=r(i,["temperature"]);P!=null&&c(n,["temperature"],P);const F=r(i,["thinkingConfig"]);F!=null&&c(n,["thinkingConfig"],F);const Q=r(i,["topK"]);Q!=null&&c(n,["topK"],Q);const K=r(i,["topP"]);if(K!=null&&c(n,["topP"],K),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function oE(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(i,s)),o}function sE(i,n){const o={},s=r(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(i,s)),o}function aE(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function rE(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function uE(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const s=r(i,["imageSize"]);if(s!=null&&c(n,["imageSize"],s),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function cE(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const s=r(i,["imageSize"]);s!=null&&c(n,["imageSize"],s);const u=r(i,["outputMimeType"]);u!=null&&c(n,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(n,["imageOutputOptions","compressionQuality"],d),n}function fE(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],On(o));const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function gh(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],On(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function ws(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],On(o));const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Bt(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],On(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function dE(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],rh(i,h)),s}function pE(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],rh(i,h)),s}function mE(i,n){const o={},s=r(n,["config"]);return s!=null&&dE(i,s,o),o}function hE(i,n){const o={},s=r(n,["config"]);return s!=null&&pE(i,s,o),o}function gE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let d=uh(u);Array.isArray(d)&&(d=d.map(m=>ou(m))),c(n,["models"],d)}return n}function yE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let d=uh(u);Array.isArray(d)&&(d=d.map(m=>su(m))),c(n,["models"],d)}return n}function vE(i){const n={},o=r(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=r(i,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function ou(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["version"]);d!=null&&c(n,["version"],d);const m=r(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],LE(m));const h=r(i,["inputTokenLimit"]);h!=null&&c(n,["inputTokenLimit"],h);const y=r(i,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const g=r(i,["supportedGenerationMethods"]);g!=null&&c(n,["supportedActions"],g);const v=r(i,["temperature"]);v!=null&&c(n,["temperature"],v);const S=r(i,["maxTemperature"]);S!=null&&c(n,["maxTemperature"],S);const E=r(i,["topP"]);E!=null&&c(n,["topP"],E);const x=r(i,["topK"]);x!=null&&c(n,["topK"],x);const L=r(i,["thinking"]);return L!=null&&c(n,["thinking"],L),n}function su(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["displayName"]);s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["versionId"]);d!=null&&c(n,["version"],d);const m=r(i,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>bS(E))),c(n,["endpoints"],S)}const h=r(i,["labels"]);h!=null&&c(n,["labels"],h);const y=r(i,["_self"]);y!=null&&c(n,["tunedModelInfo"],qE(y));const g=r(i,["defaultCheckpointId"]);g!=null&&c(n,["defaultCheckpointId"],g);const v=r(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),c(n,["checkpoints"],S)}return n}function TE(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=r(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],wS(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],US(m));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],lS(y));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const S=r(i,["thoughtSignature"]);S!=null&&c(n,["thoughtSignature"],S);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function SE(i){const n={},o=r(i,["productImage"]);return o!=null&&c(n,["image"],Bt(o)),n}function EE(i,n){const o={},s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const m=r(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const g=r(i,["addWatermark"]);n!==void 0&&g!=null&&c(n,["parameters","addWatermark"],g);const v=r(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const S=r(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const E=r(i,["enhancePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","enhancePrompt"],E);const x=r(i,["labels"]);return n!==void 0&&x!=null&&c(n,["labels"],x),o}function _E(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["source"]);u!=null&&AE(u,o);const d=r(n,["config"]);return d!=null&&EE(d,o),o}function CE(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>bs(u))),c(n,["generatedImages"],s)}return n}function AE(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],Bt(u));const d=r(i,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>SE(h))),c(n,["instances[0]","productImages"],m)}return o}function xE(i){const n={},o=r(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],Bt(o));const s=r(i,["referenceId"]);s!=null&&c(n,["referenceId"],s);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],vE(d));const m=r(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],fS(m));const h=r(i,["styleImageConfig"]);h!=null&&c(n,["styleImageConfig"],h);const y=r(i,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function yh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function vh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function NE(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=r(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function ME(i){const n={},o=r(i,["image"]);return o!=null&&c(n,["image"],Bt(o)),n}function RE(i,n){const o={},s=r(i,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const m=r(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const h=r(i,["binaryColorThreshold"]);n!==void 0&&h!=null&&c(n,["parameters","binaryColorThreshold"],h);const y=r(i,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),o}function IE(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["source"]);u!=null&&bE(u,o);const d=r(n,["config"]);return d!=null&&RE(d,o),o}function DE(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>tE(u))),c(n,["generatedMasks"],s)}return n}function bE(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Bt(u));const d=r(i,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],ME(d)),o}function Th(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=r(i,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function wE(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],LS(o));const s=r(i,["retrievalConfig"]);return s!=null&&c(n,["retrievalConfig"],s),n}function UE(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],aE(h));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],rE(y));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function Sh(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(E=>qS(E))),c(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function LE(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function qE(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&c(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function GE(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function HE(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function PE(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","name"],Ae(i,s));const u=r(n,["config"]);return u!=null&&GE(u,o),o}function kE(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["config"]);return u!=null&&HE(u,o),o}function VE(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const u=r(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&c(n,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const m=r(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const h=r(i,["outputMimeType"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","mimeType"],h);const y=r(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const g=r(i,["enhanceInputImage"]);n!==void 0&&g!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],g);const v=r(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=r(i,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const E=r(i,["numberOfImages"]);n!==void 0&&E!=null&&c(n,["parameters","sampleCount"],E);const x=r(i,["mode"]);return n!==void 0&&x!=null&&c(n,["parameters","mode"],x),o}function zE(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["_url","model"],Ae(i,s));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],Bt(u));const d=r(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(n,["config"]);return m!=null&&VE(m,o),o}function BE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>bs(d))),c(n,["generatedImages"],u)}return n}function OE(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],On(s));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function YE(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],On(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function FE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["_self"],Bt(o));const s=r(i,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function JE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],ws(o));const s=r(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function QE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Bt(o));const s=r(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function Eh(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const s=r(i,["videoBytes"]);s!=null&&c(n,["encodedVideo"],On(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function _h(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=r(i,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],On(s));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KE="Content-Type",XE="X-Server-Timeout",ZE="User-Agent",au="x-goog-api-client",$E="1.30.0",WE=`google-genai-sdk/${$E}`,jE="v1beta1",e_="v1beta",Fm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class t_{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:jE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:e_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const u=[this.getRequestUrlInternal(o)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,h]of Object.entries(n.queryParams))u.searchParams.append(m,String(h));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?s[u]=Object.assign(Object.assign({},s[u]),d):d!==void 0&&(s[u]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,u){if(o&&o.timeout||u){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>d.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=m}return o&&o.extraBody!==null&&n_(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Jm(u),new nu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await Jm(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return Wi(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield He(u.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=d.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),x=E.status,L=E.code,H=`got status: ${x}. ${JSON.stringify(S)}`;if(L>=400&&L<600)throw new Is({message:H,status:L})}}catch(S){if(S.name==="ApiError")throw S}m+=g;let v=m.match(Fm);for(;v;){const S=v[1];try{const E=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield He(new nu(E)),m=m.slice(v[0].length),v=m.match(Fm)}catch(E){throw new Error(`exception parsing stream chunk ${S}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=WE+" "+this.clientOptions.userAgentExtra;return n[ZE]=o,n[au]=o,n[KE]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))s.append(u,d);n.timeout&&n.timeout>0&&s.append(XE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(n){var o;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(n,o){var s;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);u.sizeBytes=String(m.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=h;const y={file:u},g=this.getFileName(n),v=Z("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,g,y,o==null?void 0:o.httpOptions);return d.upload(n,S,this)}async uploadFileToFileSearchStore(n,o,s){var u;const d=this.clientOptions.uploader,m=await d.stat(o),h=String(m.size),y=(u=s==null?void 0:s.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),S={};s!=null&&s.customMetadata&&(S.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(S.chunkingConfig=s.chunkingConfig);const E=await this.fetchUploadUrl(g,h,y,v,S,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(o,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s,u,d,m){var h;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},u?{"X-Goog-Upload-File-Name":u}:{})};const g=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Jm(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(s);throw o>=400&&o<600?new Is({message:u,status:o}):new Error(u)}}function n_(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,m){const h=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const u=s(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_="mcp_used/unknown";let l_=!1;function Ch(i){for(const n of i)if(o_(n)||typeof n=="object"&&"inputSchema"in n)return!0;return l_}function Ah(i){var n;const o=(n=i[au])!==null&&n!==void 0?n:"";i[au]=(o+` ${i_}`).trimStart()}function o_(i){return i!==null&&typeof i=="object"&&i instanceof yu}function s_(i,n=100){return Wi(this,arguments,function*(){let s,u=0;for(;u<n;){const d=yield He(i.listTools({cursor:s}));for(const m of d.tools)yield yield He(m),u++;if(!d.nextCursor)break;s=d.nextCursor}})}class yu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new yu(n,o)}async initialize(){var n,o,s,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,to(s_(v))),g;g=await y.next(),n=g.done,!n;h=!0){u=g.value,h=!1;const S=u;m.push(S);const E=S.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=v}}catch(S){o={error:S}}finally{try{!h&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),W0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function a_(i,n,o){const s=new Y0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(s,u),n(s)}class r_{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=f_(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(O=>{g=O}),S=n.callbacks,E=function(){g({})},x=this.apiClient,L={onopen:E,onmessage:O=>{a_(x,S.onmessage,O)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(O){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(O){}},H=this.webSocketFactory.create(y,c_(m),L);H.connect(),await v;const B={setup:{model:Ae(this.apiClient,n.model)}};return H.send(JSON.stringify(B)),new u_(H,this.apiClient)}}class u_{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=XT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=KT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Zi.PLAY)}pause(){this.sendPlaybackControl(Zi.PAUSE)}stop(){this.sendPlaybackControl(Zi.STOP)}resetContext(){this.sendPlaybackControl(Zi.RESET_CONTEXT)}close(){this.conn.close()}}function c_(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function f_(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function p_(i,n,o){const s=new O0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const m=WT(d);Object.assign(s,m)}else Object.assign(s,d);n(s)}class m_{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new r_(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,u,d,m,h;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Ch(n.config.tools)&&Ah(S);const E=v_(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const te=this.apiClient.getApiKey();let de="BidiGenerateContent",Se="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",Se="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${de}?${Se}=${te}`}let x=()=>{};const L=new Promise(te=>{x=te}),H=n.callbacks,Y=function(){var te;(te=H==null?void 0:H.onopen)===null||te===void 0||te.call(H),x({})},z=this.apiClient,B={onopen:Y,onmessage:te=>{p_(z,H.onmessage,te)},onerror:(o=H==null?void 0:H.onerror)!==null&&o!==void 0?o:function(te){},onclose:(s=H==null?void 0:H.onclose)!==null&&s!==void 0?s:function(te){}},O=this.webSocketFactory.create(v,y_(E),B);O.connect(),await L;let P=Ae(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const te=this.apiClient.getProject(),de=this.apiClient.getLocation();P=`projects/${te}/locations/${de}/`+P}let F={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[As.AUDIO]}:n.config.responseModalities=[As.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(h=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],K=[];for(const te of Q)if(this.isCallableTool(te)){const de=te;K.push(await de.tool())}else K.push(te);K.length>0&&(n.config.tools=K);const pe={model:P,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?F=QT(this.apiClient,pe):F=JT(this.apiClient,pe),delete F.config,O.send(JSON.stringify(F)),new g_(O,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const h_={turnComplete:!0};class g_{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ht(o.turns),n.isVertexAI()||(s=s.map(u=>Ds(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(d_)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},h_),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:$T(n)}:o={realtimeInput:ZT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function y_(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function v_(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qm=10;function Km(i){var n,o,s;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(ji(m)){u=!0;break}if(!u)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ji(i){return"callTool"in i&&typeof i.callTool=="function"}function T_(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>ji(u)))!==null&&s!==void 0?s:!1}function Xm(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((s,u)=>{if(ji(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function Zm(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_ extends gn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,u,d,m,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!T_(o)||Km(o.config))return await this.generateContentInternal(y);const g=Xm(o);if(g.length>0){const H=g.map(Y=>`tools[${Y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,S;const E=Ht(y.contents),x=(d=(u=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Qm;let L=0;for(;L<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,Y=[];for(const z of(h=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(ji(z)){const O=await z.callTool(v.functionCalls);Y.push(...O)}L++,S={role:"user",parts:Y},y.contents=Ht(y.contents),y.contents.push(H),y.contents.push(S),Zm(y.config)&&(E.push(H),E.push(S))}return Zm(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var s,u,d,m,h;if(this.maybeMoveToResponseJsonSchem(o),Km(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Xm(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(d=(u=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(h=(m=o==null?void 0:o.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var u;let d;const m=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let h;return d?h={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ui(hn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var s,u,d,m,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>ji(y)?await y.tool():y)),h={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(h.config.tools=m,n.config&&n.config.tools&&Ch(n.config.tools)){const y=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Ah(g),h.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(n){var o,s,u;const d=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ji(m)){const h=m,y=await h.tool();for(const g of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,h)}}return d}async processAfcStream(n){var o,s,u;const d=(u=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Qm;let m=!1,h=0;const y=await this.initAfcToolsMap(n);return(function(g,v,S){var E,x;return Wi(this,arguments,function*(){for(var L,H,Y,z;h<d;){m&&(h++,m=!1);const F=yield He(g.processParamsMaybeAddMcpUsage(S)),Q=yield He(g.generateContentStreamInternal(F)),K=[],pe=[];try{for(var B=!0,O=(H=void 0,to(Q)),P;P=yield He(O.next()),L=P.done,!L;B=!0){z=P.value,B=!1;const te=z;if(yield yield He(te),te.candidates&&(!((E=te.candidates[0])===null||E===void 0)&&E.content)){pe.push(te.candidates[0].content);for(const de of(x=te.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(h<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const Se=yield He(v.get(de.functionCall.name).callTool([de.functionCall]));K.push(...Se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(te){H={error:te}}finally{try{!B&&!L&&(Y=O.return)&&(yield He(Y.call(O)))}finally{if(H)throw H.error}}if(K.length>0){m=!0;const te=new eo;te.candidates=[{content:{role:"user",parts:K}}],yield yield He(te);const de=[];de.push(...pe),de.push({role:"user",parts:K});const Se=Ht(S.contents).concat(de);S.contents=Se}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Bm(this.apiClient,n);return h=Z("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=Ym(v),E=new eo;return Object.assign(E,S),E})}else{const g=zm(this.apiClient,n);return h=Z("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=Om(v),E=new eo;return Object.assign(E,S),E})}}async generateContentStreamInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Bm(this.apiClient,n);return h=Z("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(S){return Wi(this,arguments,function*(){var E,x,L,H;try{for(var Y=!0,z=to(S),B;B=yield He(z.next()),E=B.done,!E;Y=!0){H=B.value,Y=!1;const O=H,P=Ym(yield He(O.json()));P.sdkHttpResponse={headers:O.headers};const F=new eo;Object.assign(F,P),yield yield He(F)}}catch(O){x={error:O}}finally{try{!Y&&!E&&(L=z.return)&&(yield He(L.call(z)))}finally{if(x)throw x.error}}})})}else{const g=zm(this.apiClient,n);return h=Z("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(S){return Wi(this,arguments,function*(){var E,x,L,H;try{for(var Y=!0,z=to(S),B;B=yield He(z.next()),E=B.done,!E;Y=!0){H=B.value,Y=!1;const O=H,P=Om(yield He(O.json()));P.sdkHttpResponse={headers:O.headers};const F=new eo;Object.assign(F,P),yield yield He(F)}}catch(O){x={error:O}}finally{try{!Y&&!E&&(L=z.return)&&(yield He(L.call(z)))}finally{if(x)throw x.error}}})})}}async embedContent(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=RS(this.apiClient,n);return h=Z("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=DS(v),E=new xm;return Object.assign(E,S),E})}else{const g=MS(this.apiClient,n);return h=Z("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=IS(v),E=new xm;return Object.assign(E,S),E})}}async generateImagesInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=zS(this.apiClient,n);return h=Z("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=OS(v),E=new Nm;return Object.assign(E,S),E})}else{const g=VS(this.apiClient,n);return h=Z("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=BS(v),E=new Nm;return Object.assign(E,S),E})}}async editImageInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=CS(this.apiClient,n);return d=Z("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=AS(y),v=new w0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=zE(this.apiClient,n);return d=Z("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=BE(y),v=new U0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=_E(this.apiClient,n);return d=Z("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=CE(y),v=new L0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,n);return d=Z("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=DE(y),v=new q0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=sE(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>su(v))}else{const g=oE(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}}async listInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=hE(this.apiClient,n);return h=Z("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=yE(v),E=new Mm;return Object.assign(E,S),E})}else{const g=mE(this.apiClient,n);return h=Z("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=gE(v),E=new Mm;return Object.assign(E,S),E})}}async update(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=kE(this.apiClient,n);return h=Z("{model}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>su(v))}else{const g=PE(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}}async delete(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=TS(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=ES(v),E=new Rm;return Object.assign(E,S),E})}else{const g=vS(this.apiClient,n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=SS(v),E=new Rm;return Object.assign(E,S),E})}}async countTokens(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=hS(this.apiClient,n);return h=Z("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=yS(v),E=new Im;return Object.assign(E,S),E})}else{const g=mS(this.apiClient,n);return h=Z("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=gS(v),E=new Im;return Object.assign(E,S),E})}}async computeTokens(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=aS(this.apiClient,n);return d=Z("{model}:computeTokens",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=rS(y),v=new G0;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=XS(this.apiClient,n);return h=Z("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>{const S=QS(v),E=new xs;return Object.assign(E,S),E})}else{const g=KS(this.apiClient,n);return h=Z("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const S=JS(v),E=new xs;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E_ extends gn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=N0(n);return h=Z("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m}else{const g=x0(n);return h=Z("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=v0(n);return d=Z("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function C_(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>w_(d))),c(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&c(n,["role"],s),n}function A_(i,n,o){const s={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=r(n,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const h=r(n,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],b_(i,h));const y=r(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function x_(i,n){const o={},s=r(n,["config"]);return s!=null&&c(o,["config"],A_(i,s,o)),o}function N_(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function M_(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const s=r(i,["args"]);s!=null&&c(n,["args"],s);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function R_(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function I_(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function D_(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],gu(S));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&c(n,["setup","systemInstruction"],C_(rt(L)));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let Q=tl(H);Array.isArray(Q)&&(Q=Q.map(K=>L_(el(K)))),c(n,["setup","tools"],Q)}const Y=r(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],U_(Y));const z=r(i,["inputAudioTranscription"]);n!==void 0&&z!=null&&c(n,["setup","inputAudioTranscription"],z);const B=r(i,["outputAudioTranscription"]);n!==void 0&&B!=null&&c(n,["setup","outputAudioTranscription"],B);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const P=r(i,["contextWindowCompression"]);n!==void 0&&P!=null&&c(n,["setup","contextWindowCompression"],P);const F=r(i,["proactivity"]);return n!==void 0&&F!=null&&c(n,["setup","proactivity"],F),o}function b_(i,n){const o={},s=r(n,["model"]);s!=null&&c(o,["setup","model"],Ae(i,s));const u=r(n,["config"]);return u!=null&&c(o,["config"],D_(u,o)),o}function w_(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=r(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],N_(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],M_(m));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],__(y));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const S=r(i,["thoughtSignature"]);S!=null&&c(n,["thoughtSignature"],S);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function U_(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function L_(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(S=>S)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],R_(h));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],I_(y));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q_(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function G_(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=q_(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];u.length>0&&(h=u.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class H_ extends gn{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=x_(this.apiClient,n);d=Z("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=G_(h,n.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P_(i,n){const o={},s=r(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["displayName"],s),o}function k_(i){const n={},o=r(i,["config"]);return o!=null&&P_(o,n),n}function V_(i,n){const o={},s=r(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function z_(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=r(i,["config"]);return s!=null&&V_(s,n),n}function B_(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function O_(i,n){const o={},s=r(i,["customMetadata"]);if(n!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return n!==void 0&&u!=null&&c(n,["chunkingConfig"],u),o}function Y_(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const s=r(i,["metadata"]);s!=null&&c(n,["metadata"],s);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],J_(m)),n}function F_(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=r(i,["fileName"]);s!=null&&c(n,["fileName"],s);const u=r(i,["config"]);return u!=null&&O_(u,n),n}function J_(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["parent"]);s!=null&&c(n,["parent"],s);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Q_(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function K_(i){const n={},o=r(i,["config"]);return o!=null&&Q_(o,n),n}function X_(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["fileSearchStores"],d)}return n}function Z_(i,n){const o={},s=r(i,["mimeType"]);n!==void 0&&s!=null&&c(n,["mimeType"],s);const u=r(i,["displayName"]);n!==void 0&&u!=null&&c(n,["displayName"],u);const d=r(i,["customMetadata"]);if(n!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>y)),c(n,["customMetadata"],h)}const m=r(i,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),o}function $_(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=r(i,["config"]);return s!=null&&Z_(s,n),n}function W_(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j_(i,n){const o={},s=r(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function eC(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=r(i,["config"]);return s!=null&&j_(s,n),n}function tC(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function nC(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function iC(i){const n={},o=r(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const s=r(i,["config"]);return s!=null&&nC(s,n),n}function lC(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["documents"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends gn{constructor(n){super(),this.apiClient=n,this.list=async o=>new ui(hn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tC(n);return d=Z("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,s;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=eC(n);u=Z("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iC(n);return d=Z("{parent}/documents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=lC(y),v=new H0;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends gn{constructor(n,o=new oC(n)){super(),this.apiClient=n,this.documents=o,this.list=async(s={})=>new ui(hn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=k_(n);return d=Z("fileSearchStores",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=B_(n);return d=Z("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,s;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=z_(n);u=Z("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=K_(n);return d=Z("fileSearchStores",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=X_(y),v=new P0;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$_(n);return d=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=W_(y),v=new k0;return Object.assign(v,g),v})}}async importFile(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=F_(n);return d=Z("{file_search_store_name}:importFile",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=Y_(y),v=new fu;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(i,n){const o={},s=r(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function rC(i,n){const o={},s=r(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function uC(i,n,o){const s={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&c(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const m=r(i,["learningRateMultiplier"]);if(m!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=r(i,["batchSize"]);n!==void 0&&h!=null&&c(n,["tuningTask","hyperparameters","batchSize"],h);const y=r(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function cC(i,n,o){const s={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=r(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec"],$m(x))}else if(u==="PREFERENCE_TUNING"){const x=r(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec"],$m(x))}const d=r(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const m=r(i,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let h=r(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=r(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(h==="PREFERENCE_TUNING"){const x=r(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=r(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=r(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=r(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=r(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(g==="PREFERENCE_TUNING"){const x=r(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=r(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=r(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=r(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=r(i,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const E=r(i,["beta"]);return n!==void 0&&E!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function fC(i,n){const o={},s=r(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&_C(d);const m=r(i,["config"]);return m!=null&&uC(m,o),o}function dC(i,n){const o={},s=r(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&CC(d,o,n);const m=r(i,["config"]);return m!=null&&cC(m,o,n),o}function pC(i,n){const o={},s=r(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function mC(i,n){const o={},s=r(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function hC(i,n,o){const s={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function gC(i,n,o){const s={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function yC(i,n){const o={},s=r(i,["config"]);return s!=null&&hC(s,o),o}function vC(i,n){const o={},s=r(i,["config"]);return s!=null&&gC(s,o),o}function TC(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>xh(h))),c(o,["tuningJobs"],m)}return o}function SC(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>ru(h))),c(o,["tuningJobs"],m)}return o}function EC(i,n){const o={},s=r(i,["name"]);s!=null&&c(o,["model"],s);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function _C(i,n){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=r(i,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function CC(i,n,o){const s={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function xh(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],sh(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const h=r(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=r(i,["description"]);v!=null&&c(o,["description"],v);const S=r(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const E=r(i,["_self"]);return E!=null&&c(o,["tunedModel"],EC(E)),o}function ru(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],sh(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const h=r(i,["startTime"]);h!=null&&c(o,["startTime"],h);const y=r(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=r(i,["error"]);v!=null&&c(o,["error"],v);const S=r(i,["description"]);S!=null&&c(o,["description"],S);const E=r(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const x=r(i,["tunedModel"]);x!=null&&c(o,["tunedModel"],x);const L=r(i,["preTunedModel"]);L!=null&&c(o,["preTunedModel"],L);const H=r(i,["supervisedTuningSpec"]);H!=null&&c(o,["supervisedTuningSpec"],H);const Y=r(i,["preferenceOptimizationSpec"]);Y!=null&&c(o,["preferenceOptimizationSpec"],Y);const z=r(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const B=r(i,["encryptionSpec"]);B!=null&&c(o,["encryptionSpec"],B);const O=r(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const P=r(i,["customBaseModel"]);P!=null&&c(o,["customBaseModel"],P);const F=r(i,["experiment"]);F!=null&&c(o,["experiment"],F);const Q=r(i,["labels"]);Q!=null&&c(o,["labels"],Q);const K=r(i,["outputUri"]);K!=null&&c(o,["outputUri"],K);const pe=r(i,["pipelineJob"]);pe!=null&&c(o,["pipelineJob"],pe);const te=r(i,["serviceAccount"]);te!=null&&c(o,["serviceAccount"],te);const de=r(i,["tunedModelDisplayName"]);de!=null&&c(o,["tunedModelDisplayName"],de);const Se=r(i,["veoTuningSpec"]);return Se!=null&&c(o,["veoTuningSpec"],Se),o}function AC(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(i,["done"]);m!=null&&c(o,["done"],m);const h=r(i,["error"]);return h!=null&&c(o,["error"],h),o}function $m(i,n){const o={},s=r(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends gn{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new ui(hn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:tu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=mC(n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>ru(v))}else{const g=pC(n);return h=Z("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>xh(v))}}async listInternal(n){var o,s,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=vC(n);return h=Z("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=SC(v),E=new Dm;return Object.assign(E,S),E})}else{const g=yC(n);return h=Z("tunedModels",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const S=TC(v),E=new Dm;return Object.assign(E,S),E})}}async cancel(n){var o,s,u,d;let m="",h={};if(this.apiClient.isVertexAI()){const y=rC(n);m=Z("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=aC(n);m=Z("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=dC(n,n);return d=Z("tuningJobs",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>ru(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fC(n);return d=Z("tunedModels",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>AC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MC=1024*1024*8,RC=3,IC=1e3,DC=2,Ms="x-goog-upload-status";async function bC(i,n,o){var s;const u=await Nh(i,n,o),d=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function wC(i,n,o){var s;const u=await Nh(i,n,o),d=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=eh(d),h=new du;return Object.assign(h,m),h}async function Nh(i,n,o){var s,u;let d=0,m=0,h=new nu(new Response),y="upload";for(d=i.size;m<d;){const g=Math.min(MC,d-m),v=i.slice(m,m+g);m+g>=d&&(y+=", finalize");let S=0,E=IC;for(;S<RC&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(g)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Ms]));)S++,await LC(E),E=E*DC;if(m+=g,((u=h==null?void 0:h.headers)===null||u===void 0?void 0:u[Ms])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function UC(i){return{size:i.size,type:i.type}}function LC(i){return new Promise(n=>setTimeout(n,i))}class qC{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await bC(n,o,s)}async uploadToFileSearchStore(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await wC(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await UC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC{create(n,o,s){return new HC(n,o,s)}}class HC{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wm="x-goog-api-key";class PC{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Wm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Wm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC="gl-node/";class VC{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=g0(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new PC(this.apiKey);this.apiClient=new t_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:kC+"web",uploader:new qC,downloader:new NC}),this.models=new S_(this.apiClient),this.live=new m_(this.apiClient,u,new GC),this.batches=new Fv(this.apiClient),this.chats=new NT(this.models,this.apiClient),this.caches=new CT(this.apiClient),this.files=new GT(this.apiClient),this.operations=new E_(this.apiClient),this.authTokens=new H_(this.apiClient),this.tunings=new xC(this.apiClient),this.fileSearchStores=new sC(this.apiClient)}}const zC="AIzaSyApKgTYxIPDJR5AJXdUfJHgXULIafofUMY";console.log("Initializing GoogleGenAI with key:","Key present");const BC=new VC({apiKey:zC}),no=[],OC=()=>[...no],YC=()=>{no.length=0},FC=(i,n)=>{let o="";return i.possibleScenarios&&i.possibleScenarios.length>0?o=`
DUAL-SCENARIO MODE - DIAGNOSTIC UNCERTAINTY (TEMPORARY):
This case starts with TWO possible diagnoses, but MUST converge to ONE by turn 5-6.

POSSIBLE DIAGNOSES:
${i.possibleScenarios.map((s,u)=>`
${u+1}. ${s.diagnosis} (ID: ${s.id})
   - Trigger keywords/phrases: ${s.triggerKeywords.join(", ")}
   - Hidden details: ${s.secretDetails}
`).join("")}

CURRENT ACTIVE SCENARIO: ${n||"UNDETERMINED - will be decided by turn 5"}

MANDATORY CONVERGENCE RULES:
- Turns 1-3: Both diagnoses are possibilities, confidence stays low (15-40%)
- Turn 4-5: Patient MUST reveal the KEY DETAIL that determines the correct diagnosis
- Turn 5+: Once a scenario is chosen, COMMIT to it. No more ambiguity.
- Turn 6-7: Confidence should be 70-90%, diagnosis is CLEAR
- Turn 8: Reach 95%+ confidence and provide closure statement
- NEVER go beyond turn 10. If turn >= 8, force confidence to 95%+

DIAGNOSTIC PIVOT RULES:
- Set "diagnosticPivot: true" ONCE when the diagnosis becomes clear (usually turn 4-5)
- Set "activeScenarioId" to the chosen scenario ID and KEEP IT for all future turns
- After pivot, the diagnosis text should be SPECIFIC (e.g., "Acetaminophen Overdose" not "Possible Overdose")

REALISTIC PATIENT BEHAVIOR:
- Patient reveals the critical detail by turn 4-5 (no more hiding after that)
- Once revealed, patient confirms additional details that support the diagnosis
- Patient should NOT introduce new conflicting information after the pivot
`:o=`
SCENARIO TRUTH (Hidden from Nurse initially): ${i.scenarioSecret}
`,`
You are an advanced Clinical Decision Support Simulation Engine. 
Your role is to simulate a conversation between a Nurse (following a protocol) and a Patient (${i.patient.name}).
You act as both the generative engine for the conversation AND the CDSS analyzer.

SCENARIO OVERVIEW:
Patient: ${i.patient.name}
Date of Birth: ${i.patient.date_of_birth} (ALWAYS use this exact date)
Age: ${i.patient.age} years old
Sex: ${i.patient.sex}
${o}

Goal: Track TWO possible diagnoses with separate confidence scores. The primary diagnosis should reach 95% confidence within 8-10 turns.

DUAL DIAGNOSIS OUTPUT:
- Always provide TWO diagnoses: primaryDiagnosis and secondaryDiagnosis
- Each has its own confidence score (0-100) and indicators
- Early turns: both diagnoses may have similar confidence (e.g., 30% vs 25%)
- As evidence emerges: primary pulls ahead, secondary drops
- Final turn: primary should be 95%+, secondary should be low (< 20%)

STRICT PHASING & PACING INSTRUCTIONS (MANDATORY):
- Turn 1-2 (Introduction): Nurse confirms ID. Patient explains chief complaint vaguely.
  -> Both diagnoses: 15-25% confidence each.
- Turn 3-4 (History): Nurse asks about medications, history, timeline. Patient gives hints.
  -> Primary: 35-50%, Secondary: 25-40%.
- Turn 5 (THE REVEAL - CRITICAL): Patient reveals the key detail.
  -> Primary: 60-75%, Secondary drops to 15-30%. Set diagnosticPivot: true.
- Turn 6-7 (Confirmation): Nurse confirms findings.
  -> Primary: 80-92%, Secondary: 10-20%.
- Turn 8 (CLOSURE - MANDATORY): Primary MUST be 95%+, Secondary < 15%.
  -> nurseQuestion MUST be a closure statement, patientReply is brief acknowledgment.

HARD RULES:
- If turn >= 8, confidence MUST be >= 95%
- On the FINAL turn (95%+ confidence), the nurseQuestion MUST be a CLOSURE STATEMENT, not a question
- The closure statement should: thank the patient, summarize next steps, reassure them
- NEVER repeat the same question twice
- NEVER ask vague questions after turn 5
- After turn 5, diagnosis must be SPECIFIC, not "possible" or "suspected"
- The conversation ALWAYS ends with the NURSE speaking (closure), not the patient asking something

CHECKLIST COMPLETION RULES:
- ONLY mark a checklist item complete if the patient's reply DIRECTLY provides the information requested
- For each completed item, provide the SPECIFIC excerpt from patientReply that answers it
- Example: If checklist says "Check for pain/distension" and patient says "My stomach hurts on the right side", 
  return: {id: "c6", answer: "My stomach hurts on the right side"}
- The answer should be a direct quote or paraphrase of what the patient said about THAT specific topic
- Do NOT use the full patientReply - extract only the relevant part
- Be conservative - when in doubt, don't mark it complete yet

DYNAMIC QUESTIONS RULES:
- Add ONLY 1 new dynamic question per response (maximum 2 if case is extremely complex)
- Focus on the MOST important follow-up based on what patient just revealed
- Quality over quantity - one focused question is better than multiple vague ones

DIAGNOSTIC INDICATORS RULES:
- List the KEY clinical findings that support the current diagnosis
- Each indicator should have: finding, source, significance, and patientQuote (the EXACT words the patient said)
- Examples: 
  - {finding: "Jaundice", source: "Patient reported", significance: "high", patientQuote: "My eyes look kind of yellow"}
  - {finding: "Right upper quadrant pain", source: "Patient reported", significance: "high", patientQuote: "My stomach has been hurting, especially on my right side"}
  - {finding: "Medication non-compliance", source: "Patient history", significance: "high", patientQuote: "I stopped taking my prednisone two weeks ago"}
- The patientQuote MUST be a direct quote from what the patient actually said in the conversation
  - {finding: "Recent alcohol binge", source: "Patient history", significance: "high"}
- Update this list each turn as new findings emerge
- High significance = strongly supports diagnosis, Medium = supportive, Low = minor/contextual

OUTPUT FORMAT:
Return JSON only.
`},JC=async(i,n,o,s,u)=>{console.log("API_KEY check:","Found"),console.log("GEMINI_API_KEY check:","Found");try{const d="gemini-2.0-flash-exp",m=n.possibleScenarios&&n.possibleScenarios.length>0,h=m?`
POSSIBLE DIAGNOSES: ${n.possibleScenarios.map(B=>B.diagnosis).join(" OR ")}
CURRENT LEADING SCENARIO: ${u||"UNDETERMINED"}`:"",g=(B=>B<=2?10:B<=4?35:B<=5?55:B<=6?70:B<=7?85:95)(s),v=s>=8,S=`Turn ${s}${v?" (FINAL TURN - MUST CLOSE)":""}

Patient: ${n.patient.name}
DOB: ${n.patient.date_of_birth}
Age: ${n.patient.age}yo ${n.patient.sex}
Problems: ${n.problem_list.map(B=>B.name).join(", ")}${h}

PENDING Checklist Items (only these can be marked complete):
${o.filter(B=>!B.isCompleted).map(B=>`[${B.id}] ${B.text}`).join(`
`)}

Conversation History:
${i.slice(-6).map(B=>`${B.role.toUpperCase()}: ${B.text}`).join(`
`)}

TURN ${s} REQUIREMENTS:
- Minimum confidence for this turn: ${g}%
${v?`- THIS IS THE FINAL TURN. The nurseQuestion MUST be a CLOSURE STATEMENT (not a question).
- Example closure: "Thank you for sharing all this information with me. I'm going to report these findings to the doctor right away so we can start your treatment. Please rest, and someone will be with you shortly."
- The patientReply should be brief acknowledgment: "Okay, thank you." or "Thanks, nurse."
- Confidence MUST be 95%+.`:""}
${s===5?"- CRITICAL: Patient should reveal the KEY DETAIL this turn that determines the diagnosis.":""}
${s>=6&&!v?"- Diagnosis should be SPECIFIC and CONFIRMED, not vague.":""}

CRITICAL INSTRUCTIONS:
1. Generate the next nurse ${v?"CLOSURE STATEMENT":"question"} and patient reply
2. ONLY mark checklist items complete if patient DIRECTLY answers them
3. Do NOT repeat questions already asked in conversation history
4. Confidence must be at least ${g}% this turn
${m?`5. DUAL-SCENARIO: Set activeScenarioId when diagnosis becomes clear. Available IDs: ${n.possibleScenarios.map(B=>B.id).join(", ")}`:""}

Generate JSON with TWO diagnoses:
- primaryDiagnosis: {diagnosis, confidenceScore (min ${g}), indicators: [{finding, source, significance, patientQuote}]}
- secondaryDiagnosis: {diagnosis, confidenceScore, indicators: [{finding, source, significance, patientQuote}]}
- completedChecklistItems: [{id, answer}]
- newDynamicQuestions: []
${m?"- activeScenarioId (string), diagnosticPivot (boolean)":""}`,E={type:Ue.OBJECT,properties:{diagnosis:{type:Ue.STRING},confidenceScore:{type:Ue.INTEGER},indicators:{type:Ue.ARRAY,items:{type:Ue.OBJECT,properties:{finding:{type:Ue.STRING},source:{type:Ue.STRING},significance:{type:Ue.STRING},patientQuote:{type:Ue.STRING}},required:["finding","source","significance","patientQuote"]}}},required:["diagnosis","confidenceScore","indicators"]},x={type:Ue.OBJECT,properties:{nurseQuestion:{type:Ue.STRING},patientReply:{type:Ue.STRING},primaryDiagnosis:E,secondaryDiagnosis:E,completedChecklistItems:{type:Ue.ARRAY,items:{type:Ue.OBJECT,properties:{id:{type:Ue.STRING},answer:{type:Ue.STRING}},required:["id","answer"]}},newDynamicQuestions:{type:Ue.ARRAY,items:{type:Ue.STRING}}},required:["nurseQuestion","patientReply","primaryDiagnosis","secondaryDiagnosis","completedChecklistItems","newDynamicQuestions"]};m&&(x.properties.activeScenarioId={type:Ue.STRING},x.properties.diagnosticPivot={type:Ue.BOOLEAN});const L=FC(n,u),H={systemInstruction:L,responseMimeType:"application/json",responseSchema:x,temperature:1,maxOutputTokens:1e3},Y=await BC.models.generateContent({model:d,contents:S,config:H}),z={id:Math.random().toString(36).substr(2,9),timestamp:new Date,turnCount:s,request:{prompt:S,systemInstruction:L,model:d,config:{...H,systemInstruction:"[see above]"}},response:{raw:Y.text||null,parsed:null,error:null}};if(Y.text){const B=JSON.parse(Y.text);return z.response.parsed=B,no.push(z),B}throw z.response.error="Empty response from Gemini",no.push(z),new Error("Empty response from Gemini")}catch(d){console.error("Gemini API Error:",d);const m={id:Math.random().toString(36).substr(2,9),timestamp:new Date,turnCount:s,request:{prompt:"Error occurred before request completed",systemInstruction:"",model:"",config:{}},response:{raw:null,parsed:null,error:String(d)}};return no.push(m),QC(i,s,n)}},QC=(i,n,o)=>{var m,h;const s=o.possibleScenarios||[],u=((m=s[0])==null?void 0:m.diagnosis)||"Condition A",d=((h=s[1])==null?void 0:h.diagnosis)||"Condition B";return n<=2?{nurseQuestion:"Good morning. Can you confirm your full name and date of birth?",patientReply:`${o.patient.name}, ${o.patient.date_of_birth}... I don't feel good.`,primaryDiagnosis:{diagnosis:u,confidenceScore:20,indicators:[{finding:"General malaise",source:"Patient reported",significance:"low",patientQuote:"I don't feel good."}]},secondaryDiagnosis:{diagnosis:d,confidenceScore:18,indicators:[{finding:"Vague symptoms",source:"Patient reported",significance:"low",patientQuote:"I don't feel good."}]},completedChecklistItems:[{id:"start_1",answer:`${o.patient.name}, ${o.patient.date_of_birth}`}],newDynamicQuestions:[]}:{nurseQuestion:"Can you tell me more about your symptoms?",patientReply:"My stomach hurts and I feel nauseous.",primaryDiagnosis:{diagnosis:u,confidenceScore:35,indicators:[{finding:"Abdominal pain",source:"Patient reported",significance:"medium",patientQuote:"My stomach hurts"},{finding:"Nausea",source:"Patient reported",significance:"medium",patientQuote:"I feel nauseous"}]},secondaryDiagnosis:{diagnosis:d,confidenceScore:28,indicators:[{finding:"GI symptoms",source:"Patient reported",significance:"low",patientQuote:"My stomach hurts"}]},completedChecklistItems:[{id:"c6",answer:"My stomach hurts"}],newDynamicQuestions:[]}},Rs=[],KC=()=>[...Rs],XC=()=>{Rs.length=0};class ZC{constructor(){this.socket=null,this.audioContext=null,this.nextStartTime=0,this.callbacks=null,this.backendUrl="",this.displayQueue=[],this.syncCheckInterval=null,this.lastAudioEndTime=0,this.pendingTranscript=null,this.pendingTimeout=null,this.currentTranscriptQueued=!1,this.currentTranscriptFirstAudioStart=0,this.pendingAudioById=new Map,this.pendingTranscriptData=null}setBackendUrl(n){this.backendUrl=n}setCallbacks(n){this.callbacks=n}async initAudio(){try{return this.audioContext?this.audioContext.state==="suspended"&&await this.audioContext.resume():this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),!0}catch(n){return console.error("Audio Context Error:",n),!1}}async connect(){var o;return this.backendUrl?(await this.initAudio()||console.warn("Audio not available, continuing without audio"),(o=this.callbacks)==null||o.onStatusChange("connecting"),new Promise(s=>{var u;try{this.socket=new WebSocket(this.backendUrl),this.socket.onopen=()=>{var m,h,y;console.log("WebSocket connected"),(m=this.callbacks)==null||m.onStatusChange("connected");const d="start";Rs.push({id:Math.random().toString(36).substr(2,9),timestamp:new Date,direction:"sent",raw:d,parsed:null,error:null}),(h=this.socket)==null||h.send(d),(y=this.callbacks)==null||y.onSystem("Initializing simulation..."),s(!0)},this.socket.onmessage=d=>{const m={id:Math.random().toString(36).substr(2,9),timestamp:new Date,direction:"received",raw:d.data,parsed:null,error:null};try{m.parsed=JSON.parse(d.data)}catch(h){m.error=String(h)}Rs.push(m),this.handleMessage(d)},this.socket.onclose=d=>{var m,h;console.log("WebSocket closed:",d),(m=this.callbacks)==null||m.onStatusChange("disconnected"),(h=this.callbacks)==null||h.onSystem("Connection closed.")},this.socket.onerror=d=>{var m;console.error("WebSocket error:",d),(m=this.callbacks)==null||m.onStatusChange("error"),s(!1)}}catch(d){console.error("WebSocket connection error:",d),(u=this.callbacks)==null||u.onStatusChange("error"),s(!1)}})):(console.error("Backend URL not set"),!1)}startSyncCheck(){this.syncCheckInterval||(this.syncCheckInterval=setInterval(()=>{var o;if(!this.audioContext||this.displayQueue.length===0)return;const n=this.audioContext.currentTime;if(this.displayQueue[0].showAtTime<=n){const s=this.displayQueue.shift();s.type==="transcript"&&(console.log(`[SYNC]  Showing transcript at ${n.toFixed(2)}s (scheduled: ${s.showAtTime.toFixed(2)}s, lastAudioEnds: ${this.lastAudioEndTime.toFixed(2)}s):`,s.text.substring(0,50)),(o=this.callbacks)==null||o.onTranscript(s.speaker,s.text,s.highlights))}},30))}stopSyncCheck(){this.syncCheckInterval&&(clearInterval(this.syncCheckInterval),this.syncCheckInterval=null)}handleMessage(n){var o,s,u,d,m,h,y,g,v;try{const S=JSON.parse(n.data);switch(S.type){case"transcript":if(S.speaker&&S.text){const E=S.id;if(this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=null),E&&this.pendingAudioById.has(E)){const x=this.pendingAudioById.get(E),L=x.endTime;console.log(`[SYNC] Transcript arrived AFTER audio (id: ${E}), queuing at ${L.toFixed(2)}s (audio ends at ${x.endTime.toFixed(2)}s)`),this.displayQueue.push({type:"transcript",speaker:S.speaker,text:S.text,highlights:S.highlights,showAtTime:L}),this.startSyncCheck(),this.pendingAudioById.delete(E);break}this.pendingTranscript&&!this.currentTranscriptQueued&&console.warn("Clearing unqueued transcript:",this.pendingTranscript.text),this.pendingTranscriptData=null,this.pendingTranscript={speaker:S.speaker,text:S.text,highlights:S.highlights,id:E},this.currentTranscriptQueued=!1,this.pendingTimeout=setTimeout(()=>{var x,L;((x=this.pendingTranscript)==null?void 0:x.text)===S.text&&!this.currentTranscriptQueued&&(console.log("[SYNC] No audio received for transcript, showing immediately"),(L=this.callbacks)==null||L.onTranscript(S.speaker,S.text,S.highlights),this.pendingTranscript=null,this.currentTranscriptQueued=!1)},2e3)}break;case"audio":if(S.data&&typeof S.data=="string"){const E=S.id,{startTime:x,endTime:L,isFirstChunkOfTranscript:H}=this.playPcmAudio(S.data);if((o=this.callbacks)==null||o.onAudio(S.data),this.pendingTranscript&&(!E||!this.pendingTranscript.id||E===this.pendingTranscript.id)&&!this.currentTranscriptQueued){this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=null);const z=((s=this.audioContext)==null?void 0:s.currentTime)||0;console.log(`[SYNC] Audio chunk received: start=${x.toFixed(2)}s, end=${L.toFixed(2)}s, currentTime=${z.toFixed(2)}s`),this.currentTranscriptQueued=!0,this.pendingTranscriptData={speaker:this.pendingTranscript.speaker,text:this.pendingTranscript.text,highlights:this.pendingTranscript.highlights},this.pendingTranscript=null,console.log("[SYNC]  Transcript ready, will show after ALL audio chunks finish")}else this.currentTranscriptQueued&&this.pendingTranscriptData?console.log(`[SYNC] Additional audio chunk (ends at ${L.toFixed(2)}s)`):!this.currentTranscriptQueued&&E&&(this.pendingAudioById.has(E)?(console.log(`[SYNC] Additional audio chunk for id: ${E} (ends at ${L.toFixed(2)}s)`),this.pendingAudioById.set(E,{startTime:this.pendingAudioById.get(E).startTime,endTime:L})):(console.log(`[SYNC] Audio arrived BEFORE transcript (id: ${E}), storing timing`),this.pendingAudioById.set(E,{startTime:x,endTime:L})));if(this.lastAudioEndTime=L,this.pendingTranscriptData){this.displayQueue=this.displayQueue.filter(B=>!(B.type==="transcript"&&B.text===this.pendingTranscriptData.text));const z=L;console.log(`[SYNC]  Updating transcript to show at ${z.toFixed(2)}s (after current audio chunk)`),this.displayQueue.push({type:"transcript",...this.pendingTranscriptData,showAtTime:z}),this.startSyncCheck()}}break;case"system":S.message&&((u=this.callbacks)==null||u.onSystem(S.message));break;case"clinical":(m=(d=this.callbacks)==null?void 0:d.onClinical)==null||m.call(d,S);break;case"diagnosis":S.data&&Array.isArray(S.data)&&((y=(h=this.callbacks)==null?void 0:h.onDiagnoses)==null||y.call(h,S.data));break;case"questions":S.data&&Array.isArray(S.data)&&((v=(g=this.callbacks)==null?void 0:g.onQuestions)==null||v.call(g,S.data));break;default:console.log("Unknown message type:",S)}}catch(S){console.error("Error parsing message:",S)}}playPcmAudio(n){if(!this.audioContext)return{startTime:0,endTime:0,isFirstChunkOfTranscript:!1};try{const o=atob(n),s=o.length,u=new Int16Array(s/2);for(let E=0;E<s;E+=2){const x=o.charCodeAt(E),L=o.charCodeAt(E+1);u[E/2]=L<<8|x}const d=new Float32Array(u.length);for(let E=0;E<u.length;E++)d[E]=u[E]/32768;const m=this.audioContext.createBuffer(1,d.length,24e3);m.getChannelData(0).set(d);const h=this.audioContext.createBufferSource();h.buffer=m,h.connect(this.audioContext.destination);const y=this.audioContext.currentTime,g=Math.max(y,this.lastAudioEndTime),v=this.pendingTranscript!==null&&!this.currentTranscriptQueued;h.start(g);const S=g+m.duration;return this.lastAudioEndTime=S,this.nextStartTime=S,{startTime:g,endTime:S,isFirstChunkOfTranscript:v}}catch(o){return console.error("Audio playback error:",o),{startTime:0,endTime:0,isFirstChunkOfTranscript:!1}}}resetAudioTiming(){this.nextStartTime=0,this.lastAudioEndTime=0,this.displayQueue=[],this.pendingTranscript=null,this.currentTranscriptQueued=!1,this.currentTranscriptFirstAudioStart=0,this.pendingAudioById.clear(),this.pendingTranscriptData=null,this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=null)}disconnect(){this.stopSyncCheck(),this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=null),this.socket&&(this.socket.close(),this.socket=null),this.audioContext&&this.audioContext.suspend(),this.resetAudioTiming()}isConnected(){var n;return((n=this.socket)==null?void 0:n.readyState)===WebSocket.OPEN}}const Xi=new ZC,$C=({isOpen:i,onClose:n,mode:o="gemini"})=>{const[s,u]=Te.useState([]),[d,m]=Te.useState([]),[h,y]=Te.useState(null),[g,v]=Te.useState(null),[S,E]=Te.useState("response"),[x,L]=Te.useState(o),[H,Y]=Te.useState("all"),z=()=>{u(OC()),m(KC())},B=()=>{x==="gemini"?(YC(),u([]),y(null)):(XC(),m([]),v(null))},O=()=>{let P;x==="gemini"?P=s:P=H==="all"?d:H==="exclude-audio"?d.filter(F=>{var Q;return((Q=F.parsed)==null?void 0:Q.type)!=="audio"}):d.filter(F=>{var Q;return((Q=F.parsed)==null?void 0:Q.type)===H}),navigator.clipboard.writeText(JSON.stringify(P,null,2)),alert(`${P.length} logs copied to clipboard!`)};return Kt.useEffect(()=>{i&&z()},[i]),Kt.useEffect(()=>{L(o)},[o]),i?_.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col",children:[_.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gray-50 rounded-t-lg",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Debug Logs"}),_.jsxs("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[_.jsx("button",{onClick:()=>L("gemini"),className:`px-3 py-1 text-xs font-medium rounded ${x==="gemini"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-800"}`,children:"Gemini API"}),_.jsx("button",{onClick:()=>L("websocket"),className:`px-3 py-1 text-xs font-medium rounded ${x==="websocket"?"bg-white text-purple-600 shadow":"text-gray-600 hover:text-gray-800"}`,children:"WebSocket"})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:O,className:"px-3 py-1.5 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:"Copy All"}),_.jsx("button",{onClick:z,className:"px-3 py-1.5 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh"}),_.jsx("button",{onClick:B,className:"px-3 py-1.5 text-sm bg-red-500 text-white rounded hover:bg-red-600",children:"Clear All"}),_.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:"Close"})]})]}),_.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[_.jsxs("div",{className:"w-64 border-r bg-gray-50 flex flex-col",children:[x==="websocket"&&_.jsx("div",{className:"p-2 border-b bg-white",children:_.jsxs("select",{value:H,onChange:P=>Y(P.target.value),className:"w-full text-xs p-2 border rounded bg-white",children:[_.jsx("option",{value:"all",children:"All Types"}),_.jsx("option",{value:"exclude-audio",children:"All Except Audio"}),_.jsx("option",{value:"transcript",children:"Transcript Only"}),_.jsx("option",{value:"audio",children:"Audio Only"}),_.jsx("option",{value:"system",children:"System Only"}),_.jsx("option",{value:"clinical",children:"Clinical Only"})]})}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:x==="gemini"?s.length===0?_.jsx("p",{className:"p-4 text-gray-500 text-sm",children:"No Gemini logs yet."}):s.map(P=>_.jsxs("div",{onClick:()=>y(P),className:`p-3 border-b cursor-pointer hover:bg-blue-50 ${(h==null?void 0:h.id)===P.id?"bg-blue-100":""}`,children:[_.jsxs("div",{className:"font-medium text-sm",children:["Turn ",P.turnCount]}),_.jsx("div",{className:"text-xs text-gray-500",children:P.timestamp.toLocaleTimeString()}),P.response.error&&_.jsx("span",{className:"text-xs text-red-500",children:"Error"})]},P.id)):(()=>{const P=H==="all"?d:H==="exclude-audio"?d.filter(F=>{var Q;return((Q=F.parsed)==null?void 0:Q.type)!=="audio"}):d.filter(F=>{var Q;return((Q=F.parsed)==null?void 0:Q.type)===H});return P.length===0?_.jsx("p",{className:"p-4 text-gray-500 text-sm",children:d.length===0?"No WebSocket logs yet.":`No ${H} messages found.`}):P.map(F=>{var Q,K,pe,te;return _.jsxs("div",{onClick:()=>v(F),className:`p-3 border-b cursor-pointer hover:bg-purple-50 ${(g==null?void 0:g.id)===F.id?"bg-purple-100":""}`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${F.direction==="sent"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:F.direction==="sent"?" SENT":" RECV"}),((Q=F.parsed)==null?void 0:Q.type)&&_.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${F.parsed.type==="transcript"?"bg-purple-100 text-purple-700":F.parsed.type==="audio"?"bg-orange-100 text-orange-700":F.parsed.type==="clinical"?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-700"}`,children:F.parsed.type})]}),_.jsx("div",{className:"text-xs text-gray-500 mt-1",children:F.timestamp.toLocaleTimeString()}),_.jsx("div",{className:"text-xs text-gray-600 mt-1 truncate",children:((K=F.parsed)==null?void 0:K.text)||((pe=F.parsed)==null?void 0:pe.message)||(((te=F.parsed)==null?void 0:te.type)==="audio"?"[audio data]":F.raw.substring(0,30))}),F.error&&_.jsx("span",{className:"text-xs text-red-500",children:"Parse Error"})]},F.id)})})()})]}),_.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:x==="gemini"&&h?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex border-b bg-gray-50",children:[_.jsx("button",{onClick:()=>E("request"),className:`px-4 py-2 text-sm font-medium ${S==="request"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Request"}),_.jsx("button",{onClick:()=>E("response"),className:`px-4 py-2 text-sm font-medium ${S==="response"?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800"}`,children:"Response"})]}),_.jsx("div",{className:"flex-1 overflow-auto p-4",children:S==="request"?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"System Instruction"}),_.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded text-xs overflow-auto max-h-64 whitespace-pre-wrap",children:h.request.systemInstruction})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Prompt"}),_.jsx("pre",{className:"bg-gray-900 text-yellow-400 p-4 rounded text-xs overflow-auto max-h-64 whitespace-pre-wrap",children:h.request.prompt})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Config"}),_.jsx("pre",{className:"bg-gray-900 text-blue-400 p-4 rounded text-xs overflow-auto",children:JSON.stringify(h.request.config,null,2)})]})]}):_.jsxs("div",{className:"space-y-4",children:[h.response.error&&_.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded",children:[_.jsx("h3",{className:"font-semibold text-sm text-red-700 mb-2",children:"Error"}),_.jsx("p",{className:"text-red-600 text-sm",children:h.response.error})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Raw Response"}),_.jsx("pre",{className:"bg-gray-900 text-cyan-400 p-4 rounded text-xs overflow-auto max-h-96 whitespace-pre-wrap",children:h.response.raw||"No raw response"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Parsed Response"}),_.jsx("pre",{className:"bg-gray-900 text-purple-400 p-4 rounded text-xs overflow-auto whitespace-pre-wrap",children:h.response.parsed?JSON.stringify(h.response.parsed,null,2):"No parsed response"})]})]})})]}):x==="websocket"&&g?_.jsx("div",{className:"flex-1 overflow-auto p-4",children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("span",{className:`text-sm px-2 py-1 rounded font-medium ${g.direction==="sent"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:g.direction==="sent"?" Sent":" Received"}),_.jsx("span",{className:"text-sm text-gray-500",children:g.timestamp.toLocaleString()})]}),g.error&&_.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded",children:[_.jsx("h3",{className:"font-semibold text-sm text-red-700 mb-2",children:"Parse Error"}),_.jsx("p",{className:"text-red-600 text-sm",children:g.error})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Raw Message"}),_.jsx("pre",{className:"bg-gray-900 text-cyan-400 p-4 rounded text-xs overflow-auto max-h-64 whitespace-pre-wrap",children:g.raw})]}),g.parsed&&_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Parsed Message"}),_.jsx("pre",{className:"bg-gray-900 text-purple-400 p-4 rounded text-xs overflow-auto whitespace-pre-wrap",children:JSON.stringify(g.parsed,null,2)})]})]})}):_.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:"Select a log entry to view details"})})]})]})}):null},jr=[],Mh=[{id:"methotrexate_or_infection",scenarioSecret:"Patient initially presents with symptoms that could be Methotrexate Toxicity OR a viral infection. The TRUE diagnosis depends on what the patient reveals during questioning. If they mention taking extra doses, it's MTX toxicity. If they mention sick contacts or travel, it pivots to viral hepatitis.",possibleScenarios:[{id:"mtx_toxicity",diagnosis:"Methotrexate Toxicity",triggerKeywords:["extra dose","took more","missed dose","caught up","double","daily instead of weekly"],secretDetails:"She accidentally took her weekly dose DAILY for 3 days because she missed last week. Symptoms: Mucositis, Nausea, yellow eyes."},{id:"viral_hepatitis",diagnosis:"Acute Viral Hepatitis",triggerKeywords:["sick friend","travel","raw food","shellfish","daycare","exposed"],secretDetails:"She was exposed to Hepatitis A through contaminated food at a family gathering 3 weeks ago. Now presenting with similar liver symptoms."}],patient:{name:"Sarah Miller",date_of_birth:"1981-06-03",age:43,sex:"Female",age_at_first_encounter:43,identifiers:{mrn:"SM43850603"}},riskLevel:"high",primaryDiagnosis:"Undifferentiated Abdominal Pain",problem_list:[{name:"Rheumatoid Arthritis",status:"active"},{name:"Type 2 Diabetes",status:"active"},{name:"Hypertension",status:"active"}]},{id:"overdose_or_gastritis",scenarioSecret:"Patient presents with nausea and abdominal pain. Could be Acetaminophen Overdose (took too much for pain) OR Acute Gastritis (from NSAIDs and stress). These are COMPLETELY DIFFERENT conditions requiring different treatments.",possibleScenarios:[{id:"acetaminophen_overdose",diagnosis:"Acetaminophen Overdose",triggerKeywords:["tylenol","acetaminophen","extra strength","whole bottle","many pills","lost count","took a lot"],secretDetails:"He took 15+ Tylenol tablets over 24 hours for severe back pain. Now has right upper quadrant pain and nausea - early liver toxicity signs."},{id:"acute_gastritis",diagnosis:"Acute Gastritis",triggerKeywords:["ibuprofen","advil","aspirin","motrin","empty stomach","coffee","stress","burning"],secretDetails:"He's been taking ibuprofen 800mg 4x daily on an empty stomach for back pain, plus drinking lots of coffee. Classic NSAID-induced gastritis."}],patient:{name:"David Chen",date_of_birth:"1999-11-12",age:24,sex:"Male",age_at_first_encounter:24,identifiers:{mrn:"DC99111201"}},riskLevel:"high",primaryDiagnosis:"Acute Abdominal Pain",problem_list:[{name:"Chronic Back Pain",status:"active"},{name:"Insomnia",status:"active"}]},{id:"alcohol_or_medication",scenarioSecret:"Patient presents with jaundice and liver symptoms. Could be Alcoholic Hepatitis OR Drug-Induced Liver Injury from a new supplement/medication. Diagnosis pivots based on what patient reveals.",possibleScenarios:[{id:"alcoholic_hepatitis",diagnosis:"Acute Alcoholic Hepatitis",triggerKeywords:["drinking","alcohol","wine","beer","lost job","stress drinking","binge"],secretDetails:"She has been binge drinking heavily for 2 weeks after losing her job. Initially denies recent use."},{id:"dili",diagnosis:"Drug-Induced Liver Injury (DILI)",triggerKeywords:["supplement","herbal","weight loss","energy","online","new medication","green tea extract"],secretDetails:"She started taking a weight loss supplement with green tea extract 3 weeks ago. It's causing hepatotoxicity."}],patient:{name:"Maria Garcia",date_of_birth:"1972-04-15",age:52,sex:"Female",age_at_first_encounter:52,identifiers:{mrn:"MG72041599"}},riskLevel:"high",primaryDiagnosis:"Jaundice / Hyperbilirubinemia",problem_list:[{name:"Alcohol Use Disorder",status:"active"},{name:"Chronic Gastritis",status:"active"},{name:"Anemia",status:"active"}]},{id:"autoimmune_or_biliary",scenarioSecret:"Patient presents with elevated liver enzymes and fatigue. Could be Autoimmune Hepatitis flare (stopped meds) OR Primary Biliary Cholangitis progression. Diagnosis depends on medication history and symptom details.",possibleScenarios:[{id:"aih_flare",diagnosis:"Autoimmune Hepatitis Flare",triggerKeywords:["stopped","prednisone","weight gain","didn't tell doctor","ran out","side effects"],secretDetails:"She stopped her prednisone 2 weeks ago because of weight gain. Now having a flare with fatigue, dark urine, joint pain."},{id:"pbc_progression",diagnosis:"Primary Biliary Cholangitis",triggerKeywords:["itching","scratching","dry eyes","dry mouth","fatigue worse","taking medications"],secretDetails:"Her PBC is progressing despite treatment. New symptoms include severe pruritus and worsening fatigue. She's been compliant with meds."}],patient:{name:"Emily Wilson",date_of_birth:"1988-08-22",age:35,sex:"Female",age_at_first_encounter:35,identifiers:{mrn:"EW88082255"}},riskLevel:"medium",primaryDiagnosis:"Elevated Liver Enzymes",problem_list:[{name:"Autoimmune Hepatitis (Type 1)",status:"active"},{name:"Hypothyroidism",status:"active"}]}],WC=Mh[0],Es=()=>Math.random().toString(36).substr(2,9),jC="wss://clinic-hepa-backend-481780815788.us-central1.run.app/ws/simulation",eA="websocket",tA=()=>{const[i,n]=Te.useState("selector"),[o,s]=Te.useState(WC),[u,d]=Te.useState([]),[m,h]=Te.useState(jr),[y,g]=Te.useState({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),[v,S]=Te.useState({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),[E,x]=Te.useState(void 0),[L,H]=Te.useState(!1),[Y,z]=Te.useState(!1),[B,O]=Te.useState(!1),[P,F]=Te.useState(!0),[Q,K]=Te.useState(!1),[pe,te]=Te.useState("disconnected"),[de,Se]=Te.useState(!1),ce=Te.useRef(!1),[ke,ot]=Te.useState(0),[Ye,U]=Te.useState(!1),J=j=>{s(j),d([]),h(jr),g({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),S({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),x(void 0),H(!1),z(!1),ot(0),U(!1),n("dashboard")},oe=j=>{const ie=Math.min(j*10,95),st=Math.random()*5;return Math.round(Math.max(ie+st,10))},xe=j=>({diagnosis:j.diagnosis,confidenceScore:oe(j.indicators_count),indicators:j.indicators_point.map(ie=>({finding:ie,source:"Patient reported",significance:j.indicators_count>=5?"high":j.indicators_count>=3?"medium":"low",patientQuote:ie}))}),Me=j=>j.filter(ie=>ie.status!=="deleted").map(ie=>({id:ie.qid,text:ie.content,isCompleted:ie.status==="asked",category:ie.qid.startsWith("0000")?"fixed":"dynamic",answer:ie.status==="asked"?ie.answer||"Asked":void 0}));Te.useEffect(()=>{ce.current||(Xi.setBackendUrl(jC),Xi.setCallbacks({onTranscript:(j,ie,st)=>{const Xt=j==="NURSE"?"nurse":"patient",ci={id:Es(),role:Xt,text:ie,timestamp:new Date,highlights:st};d(Ze=>[...Ze,ci])},onAudio:j=>{console.log("Audio chunk received")},onSystem:j=>{console.log("System:",j)},onClinical:j=>{j.diagnosis&&j.confidenceScore!==void 0&&g({diagnosis:j.diagnosis,confidenceScore:j.confidenceScore,indicators:j.indicators||[]})},onDiagnoses:j=>{console.log("Diagnoses received:",j.length),setTimeout(()=>{console.log("[SYNC] Applying diagnoses update (delayed)");const ie=[...j].sort((st,Xt)=>Xt.indicators_count-st.indicators_count);ie.length>0&&(g(xe(ie[0])),console.log(`Primary: ${ie[0].diagnosis} (${ie[0].indicators_count} indicators)`)),ie.length>1&&(S(xe(ie[1])),console.log(`Secondary: ${ie[1].diagnosis} (${ie[1].indicators_count} indicators)`))},3e3)},onQuestions:j=>{console.log("Questions received:",j.length),setTimeout(()=>{console.log("[SYNC] Applying questions update (delayed)");const ie=Me(j);console.log("[SYNC] Transformed questions:",ie.map(st=>({id:st.id,text:st.text.substring(0,50),completed:st.isCompleted}))),h(ie)},3e3)},onStatusChange:j=>{te(j),(j==="disconnected"||j==="error")&&z(!1)}}),ce.current=!0)},[]);const M=async()=>{Xi.resetAudioTiming(),await Xi.connect()&&(z(!0),U(!0))},V=()=>{Xi.disconnect(),z(!1)},X=Te.useCallback(async()=>{if(!B){O(!0);try{const j=Math.floor(u.length/2)+1,ie=await JC(u,o,m,j,E),st={id:Es(),role:"nurse",text:ie.nurseQuestion,timestamp:new Date};d(Ze=>[...Ze,st]);const Xt=Math.min(Math.max(ie.nurseQuestion.length*20,800),2e3);await new Promise(Ze=>setTimeout(Ze,Xt));const ci={id:Es(),role:"patient",text:ie.patientReply,timestamp:new Date};if(d(Ze=>[...Ze,ci]),g(ie.primaryDiagnosis),S(ie.secondaryDiagnosis),ie.activeScenarioId&&x(ie.activeScenarioId),ie.diagnosticPivot&&(H(!0),console.log(" DIAGNOSTIC PIVOT: Primary diagnosis is now",ie.primaryDiagnosis.diagnosis)),ie.completedChecklistItems&&ie.completedChecklistItems.length>0&&(console.log("Marking complete:",ie.completedChecklistItems),h(Ze=>Ze.map(Ot=>{const Pt=ie.completedChecklistItems.find(il=>il.id===Ot.id);return Pt&&!Ot.isCompleted?{...Ot,isCompleted:!0,answer:Pt.answer}:Ot}))),console.log("New dynamic questions from API:",ie.newDynamicQuestions),ie.newDynamicQuestions&&ie.newDynamicQuestions.length>0){const Ot=ie.newDynamicQuestions.slice(0,2).map(Pt=>({id:Es(),text:Pt,isCompleted:!1,category:"dynamic"}));h(Pt=>{const il=new Set(Pt.map(Yn=>Yn.text)),ll=Ot.filter(Yn=>!il.has(Yn.text));return console.log("Adding unique new questions:",ll.length),[...Pt,...ll]})}ie.primaryDiagnosis.confidenceScore>=95&&setTimeout(()=>z(!1),500)}catch(j){console.error("Simulation error",j),z(!1)}finally{O(!1)}}},[u,o,m,B,E]);Te.useEffect(()=>{},[Y,B,X]);const W=()=>{Y?V():M()},se=()=>{Xi.disconnect(),z(!1),d([]),h(jr),g({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),S({diagnosis:"Pending Assessment...",confidenceScore:0,indicators:[]}),x(void 0),H(!1),ot(0),U(!1)};if(Te.useEffect(()=>{let j;return Ye&&Y&&ke<600&&(j=setInterval(()=>{ot(ie=>ie+1)},1e3)),()=>clearInterval(j)},[Ye,Y,ke]),Te.useEffect(()=>{Y&&!Ye&&U(!0)},[Y,Ye]),i==="selector")return _.jsx(d0,{scenarios:Mh,onSelect:J});const fe=()=>Q?"w-16":P?"w-1/5 min-w-[280px]":"w-16",Ee=()=>Q?"w-[20%] min-w-[200px]":"w-1/2",je=()=>Q?"w-[80%]":"w-1/2";return _.jsxs("div",{className:"fixed inset-0 w-full h-full bg-gray-100 font-sans text-gray-900 overflow-hidden",children:[_.jsx("button",{onClick:()=>Se(!0),className:"fixed bottom-4 right-4 z-50 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg shadow-lg hover:bg-gray-700 flex items-center gap-2",children:" Debug Logs"}),_.jsx($C,{isOpen:de,onClose:()=>Se(!1),mode:eA}),_.jsxs("div",{className:"flex w-full h-full max-w-[1920px] mx-auto bg-white shadow-xl overflow-hidden",children:[_.jsx("div",{className:`${fe()} transition-all duration-500 ease-in-out h-full z-20 flex-shrink-0 relative`,children:_.jsx(r0,{data:o,isOpen:P&&!Q,onToggle:()=>!Q&&F(!P),onChangeScenario:()=>n("selector")})}),_.jsxs("div",{className:"flex-1 flex h-full overflow-hidden",children:[_.jsx("div",{className:`${Ee()} h-full border-r border-gray-200 overflow-hidden transition-all duration-500 ease-in-out`,children:_.jsx(c0,{messages:u,isSimulationActive:Y,onToggleSimulation:W,onReset:se,isProcessing:B,elapsedTime:ke,timerStarted:Ye,isCompact:Q,connectionStatus:pe})}),_.jsx("div",{className:`${je()} h-full overflow-hidden transition-all duration-500 ease-in-out`,children:_.jsx(f0,{checklist:m,primaryDiagnosis:y,secondaryDiagnosis:v,diagnosticPivot:L,isExpanded:Q,onToggleExpand:()=>K(!Q),turnCount:Math.floor(u.length/2)})})]})]})]})},Rh=document.getElementById("root");if(!Rh)throw new Error("Could not find root element to mount to");const nA=a0.createRoot(Rh);nA.render(_.jsx(Kt.StrictMode,{children:_.jsx(tA,{})}));
